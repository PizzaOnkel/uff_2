/*! For license information please see main.290e9f49.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var r=n(853),i=n(43),s=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(a(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var N=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var A=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var D=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===D?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case m:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case k:return"Suspense";case S:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case w:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return P(e(t))}catch(n){}}return null}var j=Array.isArray,R=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},L=[],F=-1;function z(e){return{current:e}}function V(e){0>F||(e.current=L[F],L[F]=null,F--)}function U(e,t){F++,L[F]=e.current,e.current=t}var B=z(null),H=z(null),$=z(null),W=z(null);function q(e,t){switch(U($,t),U(H,e),U(B,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ih(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=sh(t=ih(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(B),U(B,e)}function G(){V(B),V(H),V($)}function K(e){null!==e.memoizedState&&U(W,e);var t=B.current,n=sh(t,e.type);t!==n&&(U(H,e),U(B,n))}function Q(e){H.current===e&&(V(B),V(H)),W.current===e&&(V(W),Kh._currentValue=M)}var J=Object.prototype.hasOwnProperty,Y=r.unstable_scheduleCallback,X=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,se=r.unstable_NormalPriority,ae=r.unstable_LowPriority,oe=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,he=null;function de(e){if("function"===typeof le&&ce(e),he&&"function"===typeof he.setStrictMode)try{he.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/ge|0)|0},pe=Math.log,ge=Math.LN2;var me=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~s)?i=ve(r):0!==(a&=o)?i=ve(a):n||0!==(n=o&~e)&&(i=ve(n)):0!==(o=r&~s)?i=ve(o):0!==a?i=ve(a):n||0!==(n=r&~e)&&(i=ve(n)),0===i?0:0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:i}function xe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function _e(){var e=me;return 0===(4194048&(me<<=1))&&(me=256),e}function ke(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Se(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ee(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Te(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ce(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ne(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ae(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ie(){var e=O.p;return 0!==e?e:void 0===(e=window.event)?32:cd(e.type)}var De=Math.random().toString(36).slice(2),Pe="__reactFiber$"+De,je="__reactProps$"+De,Re="__reactContainer$"+De,Oe="__reactEvents$"+De,Me="__reactListeners$"+De,Le="__reactHandles$"+De,Fe="__reactResources$"+De,ze="__reactMarker$"+De;function Ve(e){delete e[Pe],delete e[je],delete e[Oe],delete e[Me],delete e[Le]}function Ue(e){var t=e[Pe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Re]||n[Pe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bh(e);null!==e;){if(n=e[Pe])return n;e=bh(e)}return t}n=(e=n).parentNode}return null}function Be(e){if(e=e[Pe]||e[Re]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function He(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function $e(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[ze]=!0}var qe=new Set,Ge={};function Ke(e,t){Qe(e,t),Qe(e+"Capture",t)}function Qe(e,t){for(Ge[e]=t,e=0;e<t.length;e++)qe.add(t[e])}var Je,Ye,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(i=t,J.call(et,i)||!J.call(Ze,i)&&(Xe.test(i)?et[i]=!0:(Ze[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Je)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Je=t&&t[1]||"",Ye=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Je+e+Ye}var st=!1;function at(e,t){if(!e||st)return"";st=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{st=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return at(e.type,!1);case 11:return at(e.type.render,!1);case 1:return at(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function dt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function gt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function mt(e,t,n,r,i,s,a,o){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?vt(e,a,ct(t)):null!=n?vt(e,a,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function yt(e,t,n,r,i,s,a,o){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function vt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(j(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function _t(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&St(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&St(e,s,t[s])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return Nt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var It=null;function Dt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pt=null,jt=null;function Rt(e){var t=Be(e);if(t&&(e=t.stateNode)){var n=e[je]||null;e:switch(e=t.stateNode,t.type){case"input":if(mt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[je]||null;if(!i)throw Error(a(90));mt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&dt(r)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Ot=!1;function Mt(e,t,n){if(Ot)return e(t,n);Ot=!0;try{return e(t)}finally{if(Ot=!1,(null!==Pt||null!==jt)&&(Uc(),Pt&&(t=Pt,e=jt,jt=Pt=null,Rt(t),e)))for(t=0;t<e.length;t++)Rt(e[t])}}function Lt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[je]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),zt=!1;if(Ft)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch(jd){zt=!1}var Ut=null,Bt=null,Ht=null;function $t(){if(Ht)return Ht;var e,t,n=Bt,r=n.length,i="value"in Ut?Ut.value:Ut.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Ht=i.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function qt(){return!0}function Gt(){return!1}function Kt(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?qt:Gt,this.isPropagationStopped=Gt,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qt)},persist:function(){},isPersistent:qt}),t}var Qt,Jt,Yt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Kt(Xt),en=d({},Xt,{view:0,detail:0}),tn=Kt(en),nn=d({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yt&&(Yt&&"mousemove"===e.type?(Qt=e.screenX-Yt.screenX,Jt=e.screenY-Yt.screenY):Jt=Qt=0,Yt=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Jt}}),rn=Kt(nn),sn=Kt(d({},nn,{dataTransfer:0})),an=Kt(d({},en,{relatedTarget:0})),on=Kt(d({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Kt(d({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Kt(d({},Xt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function pn(){return fn}var gn=Kt(d({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),mn=Kt(d({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Kt(d({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=Kt(d({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Kt(d({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Kt(d({},Xt,{newState:0,oldState:0})),wn=[9,13,27,32],_n=Ft&&"CompositionEvent"in window,kn=null;Ft&&"documentMode"in document&&(kn=document.documentMode);var Sn=Ft&&"TextEvent"in window&&!kn,En=Ft&&(!_n||kn&&8<kn&&11>=kn),Tn=String.fromCharCode(32),Cn=!1;function Nn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function An(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var In=!1;var Dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Dn[e.type]:"textarea"===t}function jn(e,t,n,r){Pt?jt?jt.push(r):jt=[r]:Pt=r,0<(t=$u(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Rn=null,On=null;function Mn(e){Mu(e,0)}function Ln(e){if(dt(He(e)))return e}function Fn(e,t){if("change"===e)return t}var zn=!1;if(Ft){var Vn;if(Ft){var Un="oninput"in document;if(!Un){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),Un="function"===typeof Bn.oninput}Vn=Un}else Vn=!1;zn=Vn&&(!document.documentMode||9<document.documentMode)}function Hn(){Rn&&(Rn.detachEvent("onpropertychange",$n),On=Rn=null)}function $n(e){if("value"===e.propertyName&&Ln(On)){var t=[];jn(t,On,e,Dt(e)),Mt(Mn,t)}}function Wn(e,t,n){"focusin"===e?(Hn(),On=n,(Rn=t).attachEvent("onpropertychange",$n)):"focusout"===e&&Hn()}function qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ln(On)}function Gn(e,t){if("click"===e)return Ln(t)}function Kn(e,t){if("input"===e||"change"===e)return Ln(t)}var Qn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Jn(e,t){if(Qn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!J.call(t,i)||!Qn(e[i],t[i]))return!1}return!0}function Yn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,r=Yn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Ft&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,sr=null,ar=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},sr&&Jn(sr,r)||(sr=r,0<(r=$u(ir,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},hr={};function dr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in hr)return ur[e]=n[t];return e}Ft&&(hr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=dr("animationend"),pr=dr("animationiteration"),gr=dr("animationstart"),mr=dr("transitionrun"),yr=dr("transitionstart"),vr=dr("transitioncancel"),br=dr("transitionend"),xr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){xr.set(e,t),Ke(t,[e])}wr.push("scrollEnd");var kr=new WeakMap;function Sr(e,t){if("object"===typeof e&&null!==e){var n=kr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},kr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Er=[],Tr=0,Cr=0;function Nr(){for(var e=Tr,t=Cr=Tr=0;t<e;){var n=Er[t];Er[t++]=null;var r=Er[t];Er[t++]=null;var i=Er[t];Er[t++]=null;var s=Er[t];if(Er[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==s&&Pr(n,i,s)}}function Ar(e,t,n,r){Er[Tr++]=e,Er[Tr++]=t,Er[Tr++]=n,Er[Tr++]=r,Cr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ir(e,t,n,r){return Ar(e,t,n,r),jr(e)}function Dr(e,t){return Ar(e,null,null,t),jr(e)}function Pr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,i&&null!==t&&(i=31-fe(n),null===(r=(e=s.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),s):null}function jr(e){if(50<Pc)throw Pc=0,jc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Rr={};function Or(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(e,t,n,r){return new Or(e,t,n,r)}function Lr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=Mr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vr(e,t,n,r,i,s){var o=0;if(r=e,"function"===typeof e)Lr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,B.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Mr(31,n,t,i)).elementType=C,e.lanes=s,e;case m:return Ur(n.children,i,s,t);case y:o=8,i|=24;break;case v:return(e=Mr(12,n,t,2|i)).elementType=v,e.lanes=s,e;case k:return(e=Mr(13,n,t,i)).elementType=k,e.lanes=s,e;case S:return(e=Mr(19,n,t,i)).elementType=S,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case w:o=10;break e;case x:o=9;break e;case _:o=11;break e;case E:o=14;break e;case T:o=16,r=null;break e}o=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Mr(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Ur(e,t,n,r){return(e=Mr(7,e,r,t)).lanes=n,e}function Br(e,t,n){return(e=Mr(6,e,null,t)).lanes=n,e}function Hr(e,t,n){return(t=Mr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var $r=[],Wr=0,qr=null,Gr=0,Kr=[],Qr=0,Jr=null,Yr=1,Xr="";function Zr(e,t){$r[Wr++]=Gr,$r[Wr++]=qr,qr=e,Gr=t}function ei(e,t,n){Kr[Qr++]=Yr,Kr[Qr++]=Xr,Kr[Qr++]=Jr,Jr=e;var r=Yr;e=Xr;var i=32-fe(r)-1;r&=~(1<<i),n+=1;var s=32-fe(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yr=1<<32-fe(t)+i|n<<i|r,Xr=s+e}else Yr=1<<s|n<<i|r,Xr=e}function ti(e){null!==e.return&&(Zr(e,1),ei(e,1,0))}function ni(e){for(;e===qr;)qr=$r[--Wr],$r[Wr]=null,Gr=$r[--Wr],$r[Wr]=null;for(;e===Jr;)Jr=Kr[--Qr],Kr[Qr]=null,Xr=Kr[--Qr],Kr[Qr]=null,Yr=Kr[--Qr],Kr[Qr]=null}var ri=null,ii=null,si=!1,ai=null,oi=!1,li=Error(a(519));function ci(e){throw gi(Sr(Error(a(418,"")),e)),li}function ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Pe]=e,t[je]=r,n){case"dialog":Lu("cancel",t),Lu("close",t);break;case"iframe":case"object":case"embed":Lu("load",t);break;case"video":case"audio":for(n=0;n<Ru.length;n++)Lu(Ru[n],t);break;case"source":Lu("error",t);break;case"img":case"image":case"link":Lu("error",t),Lu("load",t);break;case"details":Lu("toggle",t);break;case"input":Lu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ht(t);break;case"select":Lu("invalid",t);break;case"textarea":Lu("invalid",t),wt(t,r.value,r.defaultValue,r.children),ht(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Ju(t.textContent,n)?(null!=r.popover&&(Lu("beforetoggle",t),Lu("toggle",t)),null!=r.onScroll&&Lu("scroll",t),null!=r.onScrollEnd&&Lu("scrollend",t),null!=r.onClick&&(t.onclick=Yu),t=!0):t=!1,t||ci(e)}function hi(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(oi=!1);case 27:case 3:return void(oi=!0);default:ri=ri.return}}function di(e){if(e!==ri)return!1;if(!si)return hi(e),si=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ah(e.type,e.memoizedProps)),t=!t),t&&ii&&ci(e),hi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=yh(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,fh(e.type)?(e=vh,vh=null,ii=e):ii=n):ii=ri?yh(e.stateNode.nextSibling):null;return!0}function fi(){ii=ri=null,si=!1}function pi(){var e=ai;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),ai=null),e}function gi(e){null===ai?ai=[e]:ai.push(e)}var mi=z(null),yi=null,vi=null;function bi(e,t,n){U(mi,t._currentValue),t._currentValue=n}function xi(e){e._currentValue=mi.current,V(mi)}function wi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _i(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var o=i.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),wi(s.return,n,e),r||(o=null);break e}s=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),wi(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function ki(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var l=i.type;Qn(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===W.current){if(null===(o=i.alternate))throw Error(a(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Kh):e=[Kh])}i=i.return}null!==e&&_i(t,e,n,r),t.flags|=262144}function Si(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ei(e){yi=e,vi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ti(e){return Ni(yi,e)}function Ci(e,t){return null===yi&&Ei(e),Ni(e,t)}function Ni(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vi){if(null===e)throw Error(a(308));vi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vi=vi.next=t;return n}var Ai="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ii=r.unstable_scheduleCallback,Di=r.unstable_NormalPriority,Pi={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ji(){return{controller:new Ai,data:new Map,refCount:0}}function Ri(e){e.refCount--,0===e.refCount&&Ii(Di,function(){e.controller.abort()})}var Oi=null,Mi=0,Li=0,Fi=null;function zi(){if(0===--Mi&&null!==Oi){null!==Fi&&(Fi.status="fulfilled");var e=Oi;Oi=null,Li=0,Fi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Vi=R.S;R.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Oi){var n=Oi=[];Mi=0,Li=Au(),Fi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Mi++,t.then(zi,zi)}(0,t),null!==Vi&&Vi(e,t)};var Ui=z(null);function Bi(){var e=Ui.current;return null!==e?e:rc.pooledCache}function Hi(e,t){U(Ui,null===t?Ui.current:t.pool)}function $i(){var e=Bi();return null===e?null:{parent:Pi._currentValue,pool:e}}var Wi=Error(a(460)),qi=Error(a(474)),Gi=Error(a(542)),Ki={then:function(){}};function Qi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Ji(){}function Yi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Ji,Ji),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e;default:if("string"===typeof t.status)t.then(Ji,Ji);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e}throw Xi=t,Wi}}var Xi=null;function Zi(){if(null===Xi)throw Error(a(459));var e=Xi;return Xi=null,e}function es(e){if(e===Wi||e===Gi)throw Error(a(483))}var ts=!1;function ns(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function is(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ss(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=jr(e),Pr(e,null,n),t}return Ar(e,r,t,n),jr(e)}function as(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ce(e,n)}}function os(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ls=!1;function cs(){if(ls){if(null!==Fi)throw Fi}}function us(e,t,n,r){ls=!1;var i=e.updateQueue;ts=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(a=0,u=c=l=null,o=s;;){var f=-536870913&o.lane,p=f!==o.lane;if(p?(sc&f)===f:(r&f)===f){0!==f&&f===Li&&(ls=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var g=e,m=o;f=t;var y=n;switch(m.tag){case 1:if("function"===typeof(g=m.payload)){h=g.call(y,h,f);break e}h=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(f="function"===typeof(g=m.payload)?g.call(y,h,f):g)||void 0===f)break e;h=d({},h,f);break e;case 2:ts=!0}}null!==(f=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,a|=f;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(p=o).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===s&&(i.shared.lanes=0),fc|=a,e.lanes=a,e.memoizedState=h}}function hs(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function ds(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)hs(n[e],t)}var fs=z(null),ps=z(0);function gs(e,t){U(ps,e=hc),U(fs,t),hc=e|t.baseLanes}function ms(){U(ps,hc),U(fs,fs.current)}function ys(){hc=ps.current,V(fs),V(ps)}var vs=0,bs=null,xs=null,ws=null,_s=!1,ks=!1,Ss=!1,Es=0,Ts=0,Cs=null,Ns=0;function As(){throw Error(a(321))}function Is(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function Ds(e,t,n,r,i,s){return vs=s,bs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?Wa:qa,Ss=!1,s=n(r,i),Ss=!1,ks&&(s=js(t,n,r,i)),Ps(e),s}function Ps(e){R.H=$a;var t=null!==xs&&null!==xs.next;if(vs=0,ws=xs=bs=null,_s=!1,Ts=0,Cs=null,t)throw Error(a(300));null===e||Co||null!==(e=e.dependencies)&&Si(e)&&(Co=!0)}function js(e,t,n,r){bs=e;var i=0;do{if(ks&&(Cs=null),Ts=0,ks=!1,25<=i)throw Error(a(301));if(i+=1,ws=xs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}R.H=Ga,s=t(n,r)}while(ks);return s}function Rs(){var e=R.H,t=e.useState()[0];return t="function"===typeof t.then?Vs(t):t,e=e.useState()[0],(null!==xs?xs.memoizedState:null)!==e&&(bs.flags|=1024),t}function Os(){var e=0!==Es;return Es=0,e}function Ms(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ls(e){if(_s){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}_s=!1}vs=0,ws=xs=bs=null,ks=!1,Ts=Es=0,Cs=null}function Fs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ws?bs.memoizedState=ws=e:ws=ws.next=e,ws}function zs(){if(null===xs){var e=bs.alternate;e=null!==e?e.memoizedState:null}else e=xs.next;var t=null===ws?bs.memoizedState:ws.next;if(null!==t)ws=t,xs=e;else{if(null===e){if(null===bs.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(xs=e).memoizedState,baseState:xs.baseState,baseQueue:xs.baseQueue,queue:xs.queue,next:null},null===ws?bs.memoizedState=ws=e:ws=ws.next=e}return ws}function Vs(e){var t=Ts;return Ts+=1,null===Cs&&(Cs=[]),e=Yi(Cs,e,t),t=bs,null===(null===ws?t.memoizedState:ws.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?Wa:qa),e}function Us(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Vs(e);if(e.$$typeof===w)return Ti(e)}throw Error(a(438,String(e)))}function Bs(e){var t=null,n=bs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=bs.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=N;return t.index++,n}function Hs(e,t){return"function"===typeof t?t(e):t}function $s(e){return Ws(zs(),xs,e)}function Ws(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var l=o=null,c=null,u=t=i.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(sc&d)===d:(vs&d)===d){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Li&&(h=!0);else{if((vs&f)===f){u=u.next,f===Li&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=d,o=s):c=c.next=d,bs.lanes|=f,fc|=f}d=u.action,Ss&&n(s,d),s=u.hasEagerState?u.eagerState:n(s,d)}else f={lane:d,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=s):c=c.next=f,bs.lanes|=d,fc|=d;u=u.next}while(null!==u&&u!==t);if(null===c?o=s:c.next=l,!Qn(s,e.memoizedState)&&(Co=!0,h&&null!==(n=Fi)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=c,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function qs(e){var t=zs(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);Qn(s,t.memoizedState)||(Co=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Gs(e,t,n){var r=bs,i=zs(),s=si;if(s){if(void 0===n)throw Error(a(407));n=n()}else n=t();var o=!Qn((xs||i).memoizedState,n);if(o&&(i.memoizedState=n,Co=!0),i=i.queue,ma(2048,8,Js.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||null!==ws&&1&ws.memoizedState.tag){if(r.flags|=2048,fa(9,{destroy:void 0,resource:void 0},Qs.bind(null,r,i,n,t),null),null===rc)throw Error(a(349));s||0!==(124&vs)||Ks(r,t,n)}return n}function Ks(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=bs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Qs(e,t,n,r){t.value=n,t.getSnapshot=r,Ys(t)&&Xs(e)}function Js(e,t,n){return n(function(){Ys(t)&&Xs(e)})}function Ys(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(r){return!0}}function Xs(e){var t=Dr(e,2);null!==t&&Mc(t,e,2)}function Zs(e){var t=Fs();if("function"===typeof e){var n=e;if(e=n(),Ss){de(!0);try{n()}finally{de(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:e},t}function ea(e,t,n,r){return e.baseState=n,Ws(e,xs,"function"===typeof r?r:Hs)}function ta(e,t,n,r,i){if(Ua(e))throw Error(a(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==R.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,na(t,s)):(s.next=n.next,t.pending=n.next=s)}}function na(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=R.T,a={};R.T=a;try{var o=n(i,r),l=R.S;null!==l&&l(a,o),ra(e,t,o)}catch(c){sa(e,t,c)}finally{R.T=s}}else try{ra(e,t,s=n(i,r))}catch(u){sa(e,t,u)}}function ra(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){ia(e,t,n)},function(n){return sa(e,t,n)}):ia(e,t,n)}function ia(e,t,n){t.status="fulfilled",t.value=n,aa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,na(e,n)))}function sa(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,aa(t),t=t.next}while(t!==r)}e.action=null}function aa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function oa(e,t){return t}function la(e,t){if(si){var n=rc.formState;if(null!==n){e:{var r=bs;if(si){if(ii){t:{for(var i=ii,s=oi;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=yh(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){ii=yh(i.nextSibling),r="F!"===i.data;break e}}ci(r)}r=!1}r&&(t=n[0])}}return(n=Fs()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:t},n.queue=r,n=Fa.bind(null,bs,r),r.dispatch=n,r=Zs(!1),s=Va.bind(null,bs,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Fs()).queue=i,n=ta.bind(null,bs,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function ca(e){return ua(zs(),xs,e)}function ua(e,t,n){if(t=Ws(e,t,oa)[0],e=$s(Hs)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Vs(t)}catch(a){if(a===Wi)throw Gi;throw a}else r=t;var i=(t=zs()).queue,s=i.dispatch;return n!==t.memoizedState&&(bs.flags|=2048,fa(9,{destroy:void 0,resource:void 0},ha.bind(null,i,n),null)),[r,s,e]}function ha(e,t){e.action=t}function da(e){var t=zs(),n=xs;if(null!==n)return ua(t,n,e);zs(),t=t.memoizedState;var r=(n=zs()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function fa(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=bs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},bs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function pa(){return zs().memoizedState}function ga(e,t,n,r){var i=Fs();r=void 0===r?null:r,bs.flags|=e,i.memoizedState=fa(1|t,{destroy:void 0,resource:void 0},n,r)}function ma(e,t,n,r){var i=zs();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==xs&&null!==r&&Is(r,xs.memoizedState.deps)?i.memoizedState=fa(t,s,n,r):(bs.flags|=e,i.memoizedState=fa(1|t,s,n,r))}function ya(e,t){ga(8390656,8,e,t)}function va(e,t){ma(2048,8,e,t)}function ba(e,t){return ma(4,2,e,t)}function xa(e,t){return ma(4,4,e,t)}function wa(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function _a(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ma(4,4,wa.bind(null,t,e),n)}function ka(){}function Sa(e,t){var n=zs();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Is(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ea(e,t){var n=zs();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Is(t,r[1]))return r[0];if(r=e(),Ss){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[r,t],r}function Ta(e,t,n){return void 0===n||0!==(1073741824&vs)?e.memoizedState=t:(e.memoizedState=n,e=Oc(),bs.lanes|=e,fc|=e,n)}function Ca(e,t,n,r){return Qn(n,t)?n:null!==fs.current?(e=Ta(e,n,r),Qn(e,t)||(Co=!0),e):0===(42&vs)?(Co=!0,e.memoizedState=n):(e=Oc(),bs.lanes|=e,fc|=e,t)}function Na(e,t,n,r,i){var s=O.p;O.p=0!==s&&8>s?s:8;var a=R.T,o={};R.T=o,Va(e,!1,t,n);try{var l=i(),c=R.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)za(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Rc());else za(e,t,r,Rc())}catch(u){za(e,t,{then:function(){},status:"rejected",reason:u},Rc())}finally{O.p=s,R.T=a}}function Aa(){}function Ia(e,t,n,r){if(5!==e.tag)throw Error(a(476));var i=Da(e).queue;Na(e,i,t,M,null===n?Aa:function(){return Pa(e),n(r)})}function Da(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:M},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Pa(e){za(e,Da(e).next.queue,{},Rc())}function ja(){return Ti(Kh)}function Ra(){return zs().memoizedState}function Oa(){return zs().memoizedState}function Ma(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Rc(),r=ss(t,e=is(n),n);return null!==r&&(Mc(r,t,n),as(r,t,n)),t={cache:ji()},void(e.payload=t)}t=t.return}}function La(e,t,n){var r=Rc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ua(e)?Ba(t,n):null!==(n=Ir(e,t,n,r))&&(Mc(n,e,r),Ha(n,t,r))}function Fa(e,t,n){za(e,t,n,Rc())}function za(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ua(e))Ba(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Qn(o,a))return Ar(e,t,i,0),null===rc&&Nr(),!1}catch(l){}if(null!==(n=Ir(e,t,i,r)))return Mc(n,e,r),Ha(n,t,r),!0}return!1}function Va(e,t,n,r){if(r={lane:2,revertLane:Au(),action:r,hasEagerState:!1,eagerState:null,next:null},Ua(e)){if(t)throw Error(a(479))}else null!==(t=Ir(e,n,r,2))&&Mc(t,e,2)}function Ua(e){var t=e.alternate;return e===bs||null!==t&&t===bs}function Ba(e,t){ks=_s=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ha(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ce(e,n)}}var $a={readContext:Ti,use:Us,useCallback:As,useContext:As,useEffect:As,useImperativeHandle:As,useLayoutEffect:As,useInsertionEffect:As,useMemo:As,useReducer:As,useRef:As,useState:As,useDebugValue:As,useDeferredValue:As,useTransition:As,useSyncExternalStore:As,useId:As,useHostTransitionStatus:As,useFormState:As,useActionState:As,useOptimistic:As,useMemoCache:As,useCacheRefresh:As},Wa={readContext:Ti,use:Us,useCallback:function(e,t){return Fs().memoizedState=[e,void 0===t?null:t],e},useContext:Ti,useEffect:ya,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ga(4194308,4,wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ga(4194308,4,e,t)},useInsertionEffect:function(e,t){ga(4,2,e,t)},useMemo:function(e,t){var n=Fs();t=void 0===t?null:t;var r=e();if(Ss){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Fs();if(void 0!==n){var i=n(t);if(Ss){de(!0);try{n(t)}finally{de(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=La.bind(null,bs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Fs().memoizedState=e},useState:function(e){var t=(e=Zs(e)).queue,n=Fa.bind(null,bs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ka,useDeferredValue:function(e,t){return Ta(Fs(),e,t)},useTransition:function(){var e=Zs(!1);return e=Na.bind(null,bs,e.queue,!0,!1),Fs().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=bs,i=Fs();if(si){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===rc)throw Error(a(349));0!==(124&sc)||Ks(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,ya(Js.bind(null,r,s,e),[e]),r.flags|=2048,fa(9,{destroy:void 0,resource:void 0},Qs.bind(null,r,s,n,t),null),n},useId:function(){var e=Fs(),t=rc.identifierPrefix;if(si){var n=Xr;t="\xab"+t+"R"+(n=(Yr&~(1<<32-fe(Yr)-1)).toString(32)+n),0<(n=Es++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ns++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:ja,useFormState:la,useActionState:la,useOptimistic:function(e){var t=Fs();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Va.bind(null,bs,!0,n),n.dispatch=t,[e,t]},useMemoCache:Bs,useCacheRefresh:function(){return Fs().memoizedState=Ma.bind(null,bs)}},qa={readContext:Ti,use:Us,useCallback:Sa,useContext:Ti,useEffect:va,useImperativeHandle:_a,useInsertionEffect:ba,useLayoutEffect:xa,useMemo:Ea,useReducer:$s,useRef:pa,useState:function(){return $s(Hs)},useDebugValue:ka,useDeferredValue:function(e,t){return Ca(zs(),xs.memoizedState,e,t)},useTransition:function(){var e=$s(Hs)[0],t=zs().memoizedState;return["boolean"===typeof e?e:Vs(e),t]},useSyncExternalStore:Gs,useId:Ra,useHostTransitionStatus:ja,useFormState:ca,useActionState:ca,useOptimistic:function(e,t){return ea(zs(),0,e,t)},useMemoCache:Bs,useCacheRefresh:Oa},Ga={readContext:Ti,use:Us,useCallback:Sa,useContext:Ti,useEffect:va,useImperativeHandle:_a,useInsertionEffect:ba,useLayoutEffect:xa,useMemo:Ea,useReducer:qs,useRef:pa,useState:function(){return qs(Hs)},useDebugValue:ka,useDeferredValue:function(e,t){var n=zs();return null===xs?Ta(n,e,t):Ca(n,xs.memoizedState,e,t)},useTransition:function(){var e=qs(Hs)[0],t=zs().memoizedState;return["boolean"===typeof e?e:Vs(e),t]},useSyncExternalStore:Gs,useId:Ra,useHostTransitionStatus:ja,useFormState:da,useActionState:da,useOptimistic:function(e,t){var n=zs();return null!==xs?ea(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Bs,useCacheRefresh:Oa},Ka=null,Qa=0;function Ja(e){var t=Qa;return Qa+=1,null===Ka&&(Ka=[]),Yi(Ka,e,t)}function Ya(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Xa(e,t){if(t.$$typeof===f)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Za(e){return(0,e._init)(e._payload)}function eo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Br(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===m?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===T&&Za(s)===t.type)?(Ya(t=i(t,n.props),n),t.return=e,t):(Ya(t=Vr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Ur(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Br(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Ya(n=Vr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Hr(t,e.mode,n)).return=e,t;case T:return d(e,t=(0,t._init)(t._payload),n)}if(j(t)||I(t))return(t=Ur(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return d(e,Ja(t),n);if(t.$$typeof===w)return d(e,Ci(e,t),n);Xa(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?c(e,t,n,r):null;case g:return n.key===i?u(e,t,n,r):null;case T:return f(e,t,n=(i=n._init)(n._payload),r)}if(j(n)||I(n))return null!==i?null:h(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,Ja(n),r);if(n.$$typeof===w)return f(e,t,Ci(e,n),r);Xa(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case T:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(j(r)||I(r))return h(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return y(e,t,n,Ja(r),i);if(r.$$typeof===w)return y(e,t,n,Ci(t,r),i);Xa(t,r)}return null}function v(l,c,u,h){if("object"===typeof u&&null!==u&&u.type===m&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===m){if(7===c.tag){n(l,c.sibling),(h=i(c,u.props.children)).return=l,l=h;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===T&&Za(b)===c.type){n(l,c.sibling),Ya(h=i(c,u.props),u),h.return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===m?((h=Ur(u.props.children,l.mode,h,u.key)).return=l,l=h):(Ya(h=Vr(u.type,u.key,u.props,null,l.mode,h),u),h.return=l,l=h)}return o(l);case g:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(h=i(c,u.children||[])).return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}(h=Hr(u,l.mode,h)).return=l,l=h}return o(l);case T:return v(l,c,u=(b=u._init)(u._payload),h)}if(j(u))return function(i,a,o,l){for(var c=null,u=null,h=a,p=a=0,g=null;null!==h&&p<o.length;p++){h.index>p?(g=h,h=null):g=h.sibling;var m=f(i,h,o[p],l);if(null===m){null===h&&(h=g);break}e&&h&&null===m.alternate&&t(i,h),a=s(m,a,p),null===u?c=m:u.sibling=m,u=m,h=g}if(p===o.length)return n(i,h),si&&Zr(i,p),c;if(null===h){for(;p<o.length;p++)null!==(h=d(i,o[p],l))&&(a=s(h,a,p),null===u?c=h:u.sibling=h,u=h);return si&&Zr(i,p),c}for(h=r(h);p<o.length;p++)null!==(g=y(h,i,p,o[p],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?p:g.key),a=s(g,a,p),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach(function(e){return t(i,e)}),si&&Zr(i,p),c}(l,c,u,h);if(I(u)){if("function"!==typeof(b=I(u)))throw Error(a(150));return function(i,o,l,c){if(null==l)throw Error(a(151));for(var u=null,h=null,p=o,g=o=0,m=null,v=l.next();null!==p&&!v.done;g++,v=l.next()){p.index>g?(m=p,p=null):m=p.sibling;var b=f(i,p,v.value,c);if(null===b){null===p&&(p=m);break}e&&p&&null===b.alternate&&t(i,p),o=s(b,o,g),null===h?u=b:h.sibling=b,h=b,p=m}if(v.done)return n(i,p),si&&Zr(i,g),u;if(null===p){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,c))&&(o=s(v,o,g),null===h?u=v:h.sibling=v,h=v);return si&&Zr(i,g),u}for(p=r(p);!v.done;g++,v=l.next())null!==(v=y(p,i,g,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?g:v.key),o=s(v,o,g),null===h?u=v:h.sibling=v,h=v);return e&&p.forEach(function(e){return t(i,e)}),si&&Zr(i,g),u}(l,c,u=b.call(u),h)}if("function"===typeof u.then)return v(l,c,Ja(u),h);if(u.$$typeof===w)return v(l,c,Ci(l,u),h);Xa(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(h=i(c,u)).return=l,l=h):(n(l,c),(h=Br(u,l.mode,h)).return=l,l=h),o(l)):n(l,c)}return function(e,t,n,r){try{Qa=0;var i=v(e,t,n,r);return Ka=null,i}catch(a){if(a===Wi||a===Gi)throw a;var s=Mr(29,a,null,e.mode);return s.lanes=r,s.return=e,s}}}var to=eo(!0),no=eo(!1),ro=z(null),io=null;function so(e){var t=e.alternate;U(co,1&co.current),U(ro,e),null===io&&(null===t||null!==fs.current||null!==t.memoizedState)&&(io=e)}function ao(e){if(22===e.tag){if(U(co,co.current),U(ro,e),null===io){var t=e.alternate;null!==t&&null!==t.memoizedState&&(io=e)}}else oo()}function oo(){U(co,co.current),U(ro,ro.current)}function lo(e){V(ro),io===e&&(io=null),V(co)}var co=z(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||mh(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ho(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:d({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Rc(),i=is(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ss(e,i,r))&&(Mc(t,e,r),as(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Rc(),i=is(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ss(e,i,r))&&(Mc(t,e,r),as(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rc(),r=is(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ss(e,r,n))&&(Mc(t,e,n),as(t,e,n))}};function po(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!Jn(n,r)||!Jn(i,s))}function go(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function mo(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=d({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var yo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vo(e){yo(e)}function bo(e){console.error(e)}function xo(e){yo(e)}function wo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function _o(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function ko(e,t,n){return(n=is(n)).tag=3,n.payload={element:null},n.callback=function(){wo(e,t)},n}function So(e){return(e=is(e)).tag=3,e}function Eo(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){_o(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){_o(t,n,r),"function"!==typeof i&&(null===Sc?Sc=new Set([this]):Sc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var To=Error(a(461)),Co=!1;function No(e,t,n,r){t.child=null===e?no(t,null,n,r):to(t,e.child,n,r)}function Ao(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var a={};for(var o in r)"ref"!==o&&(a[o]=r[o])}else a=r;return Ei(t),r=Ds(e,t,n,a,s,i),o=Os(),null===e||Co?(si&&o&&ti(t),t.flags|=1,No(e,t,r,i),t.child):(Ms(e,t,i),Qo(e,t,i))}function Io(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Lr(s)||void 0!==s.defaultProps||null!==n.compare?((e=Vr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Do(e,t,s,r,i))}if(s=e.child,!Jo(e,i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:Jn)(a,r)&&e.ref===t.ref)return Qo(e,t,i)}return t.flags|=1,(e=Fr(s,r)).ref=t.ref,e.return=t,t.child=e}function Do(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(Jn(s,r)&&e.ref===t.ref){if(Co=!1,t.pendingProps=r=s,!Jo(e,i))return t.lanes=e.lanes,Qo(e,t,i);0!==(131072&e.flags)&&(Co=!0)}}return Oo(e,t,n,r,i)}function Po(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==s?s.baseLanes|n:n,null!==e){for(i=t.child=e.child,s=0;null!==i;)s=s|i.lanes|i.childLanes,i=i.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return jo(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,jo(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Hi(0,null!==s?s.cachePool:null),null!==s?gs(t,s):ms(),ao(t)}else null!==s?(Hi(0,s.cachePool),gs(t,s),oo(),t.memoizedState=null):(null!==e&&Hi(0,null),ms(),oo());return No(e,t,i,n),t.child}function jo(e,t,n,r){var i=Bi();return i=null===i?null:{parent:Pi._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Hi(0,null),ms(),ao(t),null!==e&&ki(e,t,r,!0),null}function Ro(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Oo(e,t,n,r,i){return Ei(t),n=Ds(e,t,n,r,void 0,i),r=Os(),null===e||Co?(si&&r&&ti(t),t.flags|=1,No(e,t,n,i),t.child):(Ms(e,t,i),Qo(e,t,i))}function Mo(e,t,n,r,i,s){return Ei(t),t.updateQueue=null,n=js(t,r,n,i),Ps(e),r=Os(),null===e||Co?(si&&r&&ti(t),t.flags|=1,No(e,t,n,s),t.child):(Ms(e,t,s),Qo(e,t,s))}function Lo(e,t,n,r,i){if(Ei(t),null===t.stateNode){var s=Rr,a=n.contextType;"object"===typeof a&&null!==a&&(s=Ti(a)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=fo,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},ns(t),a=n.contextType,s.context="object"===typeof a&&null!==a?Ti(a):Rr,s.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(ho(t,n,a,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(a=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),a!==s.state&&fo.enqueueReplaceState(s,s.state,null),us(t,r,s,i),cs(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=mo(n,o);s.props=l;var c=s.context,u=n.contextType;a=Rr,"object"===typeof u&&null!==u&&(a=Ti(u));var h=n.getDerivedStateFromProps;u="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o||c!==a)&&go(t,s,r,a),ts=!1;var d=t.memoizedState;s.state=d,us(t,r,s,i),cs(),c=t.memoizedState,o||d!==c||ts?("function"===typeof h&&(ho(t,n,h,r),c=t.memoizedState),(l=ts||po(t,n,l,r,d,c,a))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=a,r=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,rs(e,t),u=mo(n,a=t.memoizedProps),s.props=u,h=t.pendingProps,d=s.context,c=n.contextType,l=Rr,"object"===typeof c&&null!==c&&(l=Ti(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==l)&&go(t,s,r,l),ts=!1,d=t.memoizedState,s.state=d,us(t,r,s,i),cs();var f=t.memoizedState;a!==h||d!==f||ts||null!==e&&null!==e.dependencies&&Si(e.dependencies)?("function"===typeof o&&(ho(t,n,o,r),f=t.memoizedState),(u=ts||po(t,n,u,r,d,f,l)||null!==e&&null!==e.dependencies&&Si(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Ro(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=to(t,e.child,null,i),t.child=to(t,null,n,i)):No(e,t,n,i),t.memoizedState=s.state,e=t.child):e=Qo(e,t,i),e}function Fo(e,t,n,r){return fi(),t.flags|=256,No(e,t,n,r),t.child}var zo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vo(e){return{baseLanes:e,cachePool:$i()}}function Uo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=mc),e}function Bo(e,t,n){var r,i=t.pendingProps,s=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(si){if(s?so(t):oo(),si){var l,c=ii;if(l=c){e:{for(l=c,c=oi;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yh(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Jr?{id:Yr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},(l=Mr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ci(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return mh(c)?t.lanes=32:t.lanes=536870912,null;lo(t)}return c=i.children,i=i.fallback,s?(oo(),c=$o({mode:"hidden",children:c},s=t.mode),i=Ur(i,s,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(s=t.child).memoizedState=Vo(n),s.childLanes=Uo(e,r,n),t.memoizedState=zo,i):(so(t),Ho(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(so(t),t.flags&=-257,t=Wo(e,t,n)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),s=i.fallback,c=t.mode,i=$o({mode:"visible",children:i.children},c),(s=Ur(s,c,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,to(t,e.child,null,n),(i=t.child).memoizedState=Vo(n),i.childLanes=Uo(e,r,n),t.memoizedState=zo,t=s);else if(so(t),mh(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(a(419))).stack="",i.digest=r,gi({value:i,source:null,stack:null}),t=Wo(e,t,n)}else if(Co||ki(e,t,n,!1),r=0!==(n&e.childLanes),Co||r){if(null!==(r=rc)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:Ne(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Dr(e,i),Mc(r,e,i),To;"$?"===c.data||Gc(),t=Wo(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=yh(c.nextSibling),ri=t,si=!0,ai=null,oi=!1,null!==e&&(Kr[Qr++]=Yr,Kr[Qr++]=Xr,Kr[Qr++]=Jr,Yr=e.id,Xr=e.overflow,Jr=t),(t=Ho(t,i.children)).flags|=4096);return t}return s?(oo(),s=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=Fr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?s=Fr(u,s):(s=Ur(s,c,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,null===(c=e.child.memoizedState)?c=Vo(n):(null!==(l=c.cachePool)?(u=Pi._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=$i(),c={baseLanes:c.baseLanes|n,cachePool:l}),s.memoizedState=c,s.childLanes=Uo(e,r,n),t.memoizedState=zo,i):(so(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Ho(e,t){return(t=$o({mode:"visible",children:t},e.mode)).return=e,e.child=t}function $o(e,t){return(e=Mr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Wo(e,t,n){return to(t,e.child,null,n),(e=Ho(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function qo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wi(e.return,t,n)}function Go(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ko(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(No(e,t,r.children,n),0!==(2&(r=co.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qo(e,n,t);else if(19===e.tag)qo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(U(co,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Go(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Go(t,!0,n,null,s);break;case"together":Go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ki(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Jo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Si(e))}function Yo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Co=!0;else{if(!Jo(e,n)&&0===(128&t.flags))return Co=!1,function(e,t,n){switch(t.tag){case 3:q(t,t.stateNode.containerInfo),bi(0,Pi,e.memoizedState.cache),fi();break;case 27:case 5:K(t);break;case 4:q(t,t.stateNode.containerInfo);break;case 10:bi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(so(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Bo(e,t,n):(so(t),null!==(e=Qo(e,t,n))?e.sibling:null);so(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(ki(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Ko(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),U(co,co.current),r)break;return null;case 22:case 23:return t.lanes=0,Po(e,t,n);case 24:bi(0,Pi,e.memoizedState.cache)}return Qo(e,t,n)}(e,t,n);Co=0!==(131072&e.flags)}else Co=!1,si&&0!==(1048576&t.flags)&&ei(t,Gr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===_){t.tag=11,t=Ao(null,t,r,e,n);break e}if(i===E){t.tag=14,t=Io(null,t,r,e,n);break e}}throw t=P(r)||r,Error(a(306,t,""))}Lr(r)?(e=mo(r,e),t.tag=1,t=Lo(null,t,r,e,n)):(t.tag=0,t=Oo(null,t,r,e,n))}return t;case 0:return Oo(e,t,t.type,t.pendingProps,n);case 1:return Lo(e,t,r=t.type,i=mo(r,t.pendingProps),n);case 3:e:{if(q(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var s=t.memoizedState;i=s.element,rs(e,t),us(t,r,null,n);var o=t.memoizedState;if(r=o.cache,bi(0,Pi,r),r!==s.cache&&_i(t,[Pi],n,!0),cs(),r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Fo(e,t,r,n);break e}if(r!==i){gi(i=Sr(Error(a(424)),t)),t=Fo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=yh(e.firstChild),ri=t,si=!0,ai=null,oi=!0,n=no(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===i){t=Qo(e,t,n);break e}No(e,t,r,n)}t=t.child}return t;case 26:return Ro(e,t),null===e?(n=Nh(t.type,null,t.pendingProps,null))?t.memoizedState=n:si||(n=t.type,e=t.pendingProps,(r=rh($.current).createElement(n))[Pe]=t,r[je]=e,eh(r,n,e),We(r),t.stateNode=r):t.memoizedState=Nh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return K(t),null===e&&si&&(r=t.stateNode=xh(t.type,t.pendingProps,$.current),ri=t,oi=!0,i=ii,fh(t.type)?(vh=i,ii=yh(r.firstChild)):ii=i),No(e,t,t.pendingProps.children,n),Ro(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&si&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[ze])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=yh(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,oi))?(t.stateNode=r,ri=t,ii=yh(r.firstChild),oi=!1,i=!0):i=!1),i||ci(t)),K(t),i=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,r=s.children,ah(i,s)?r=null:null!==o&&ah(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=Ds(e,t,Rs,null,null,n),Kh._currentValue=i),Ro(e,t),No(e,t,r,n),t.child;case 6:return null===e&&si&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yh(e.nextSibling)))return null}return e}(n,t.pendingProps,oi))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ci(t)),null;case 13:return Bo(e,t,n);case 4:return q(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=to(t,null,r,n):No(e,t,r,n),t.child;case 11:return Ao(e,t,t.type,t.pendingProps,n);case 7:return No(e,t,t.pendingProps,n),t.child;case 8:case 12:return No(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bi(0,t.type,r.value),No(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ei(t),r=r(i=Ti(i)),t.flags|=1,No(e,t,r,n),t.child;case 14:return Io(e,t,t.type,t.pendingProps,n);case 15:return Do(e,t,t.type,t.pendingProps,n);case 19:return Ko(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=$o(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Po(e,t,n);case 24:return Ei(t),r=Ti(Pi),null===e?(null===(i=Bi())&&(i=rc,s=ji(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},ns(t),bi(0,Pi,i)):(0!==(e.lanes&n)&&(rs(e,t),us(t,null,null,n),cs()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),bi(0,Pi,r)):(r=s.cache,bi(0,Pi,r),r!==i.cache&&_i(t,[Pi],n,!0))),No(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Xo(e){e.flags|=4}function Zo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Uh(t)){if(null!==(t=ro.current)&&((4194048&sc)===sc?null!==io:(62914560&sc)!==sc&&0===(536870912&sc)||t!==io))throw Xi=Ki,qi;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ke():536870912,e.lanes|=t,yc|=t)}function tl(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),xi(Pi),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(di(t)?Xo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pi())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Xo(t),null!==n?(nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Xo(t),nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Xo(t),nl(t),t.flags&=-16777217),null;case 27:Q(t),n=$.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xo(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}e=B.current,di(t)?ui(t):(e=xh(i,r,n),t.stateNode=e,Xo(t))}return nl(t),null;case 5:if(Q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xo(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}if(e=B.current,di(t))ui(t);else{switch(i=rh($.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Pe]=t,e[je]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(eh(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Xo(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Xo(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=$.current,di(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Pe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Ju(e.nodeValue,n)))||ci(t)}else(e=rh(e).createTextNode(r))[Pe]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[Pe]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),i=!1}else i=pi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(lo(t),t):(lo(t),null)}if(lo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return G(),null===e&&Vu(t.stateNode.containerInfo),nl(t),null;case 10:return xi(t.type),nl(t),null;case 19:if(V(co),null===(i=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(s=i.rendering))if(r)tl(i,!1);else{if(0!==dc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=uo(e))){for(t.flags|=128,tl(i,!1),e=s.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)zr(n,e),n=n.sibling;return U(co,1&co.current|2),t.child}e=e.sibling}null!==i.tail&&te()>_c&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(s))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!si)return nl(t),null}else 2*te()-i.renderingStartTime>_c&&536870912!==n&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=i.last)?e.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=co.current,U(co,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return lo(t),ys(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&V(Ui),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),xi(Pi),nl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function il(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return xi(Pi),G(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 13:if(lo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return V(co),null;case 4:return G(),null;case 10:return xi(t.type),null;case 22:case 23:return lo(t),ys(),null!==e&&V(Ui),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return xi(Pi),null;default:return null}}function sl(e,t){switch(ni(t),t.tag){case 3:xi(Pi),G();break;case 26:case 27:case 5:Q(t);break;case 4:G();break;case 13:lo(t);break;case 19:V(co);break;case 10:xi(t.type);break;case 22:case 23:lo(t),ys(),null!==e&&V(Ui);break;case 24:xi(Pi)}}function al(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){uu(t,t.return,o)}}function ol(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var a=r.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,i=t;var l=n,c=o;try{c()}catch(u){uu(i,l,u)}}}r=r.next}while(r!==s)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ds(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=mo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){uu(e,t,i)}}function hl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){uu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){uu(e,t,s)}else n.current=null}function dl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){uu(e,e.return,i)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,o=null,l=null,c=null,u=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":c=d;default:r.hasOwnProperty(p)||Xu(e,t,p,null,r,d)}}for(var f in r){var p=r[f];if(d=n[f],r.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":s=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":h=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==d&&Xu(e,t,f,p,r,d)}}return void mt(e,o,l,c,u,h,s,i);case"select":for(s in p=o=l=f=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(s)||Xu(e,t,s,null,r,c)}for(i in r)if(s=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=s||null!=c))switch(i){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&Xu(e,t,i,s,r,c)}return t=l,n=o,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Xu(e,t,l,null,r,i)}for(o in r)if(i=r[o],s=n[o],r.hasOwnProperty(o)&&(null!=i||null!=s))switch(o){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==s&&Xu(e,t,o,i,r,s)}return void xt(e,f,p);case"option":for(var g in n)if(f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g))if("selected"===g)e.selected=!1;else Xu(e,t,g,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Xu(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m)&&Xu(e,t,m,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:Xu(e,t,u,f,r,p)}return;default:if(Tt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&Zu(e,t,y,void 0,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||Zu(e,t,h,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&Xu(e,t,v,null,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||null==f&&null==p||Xu(e,t,d,f,r,p)}(r,e.type,n,t),r[je]=t}catch(i){uu(e,e.return,i)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fh(e.type)||4===e.tag}function gl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fh(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ml(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Yu));else if(4!==r&&(27===r&&fh(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(ml(e,t,n),e=e.sibling;null!==e;)ml(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fh(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);eh(t,r,n),t[Pe]=e,t[je]=n}catch(s){uu(e,e.return,s)}}var bl=!1,xl=!1,wl=!1,_l="function"===typeof WeakSet?WeakSet:Set,kl=null;function Sl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ll(e,n),4&r&&al(5,n);break;case 1:if(Ll(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){uu(n,n.return,a)}else{var i=mo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){uu(n,n.return,o)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Ll(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ds(e,t)}catch(a){uu(n,n.return,a)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:Ll(e,n),null===t&&4&r&&dl(n),512&r&&ul(n,n.return);break;case 12:Ll(e,n);break;case 13:Ll(e,n),4&r&&Il(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=pu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||xl,i=bl;var s=xl;bl=r,(xl=t)&&!s?zl(e,n,0!==(8772&n.subtreeFlags)):Ll(e,n),bl=i,xl=s}break;case 30:break;default:Ll(e,n)}}function El(e){var t=e.alternate;null!==t&&(e.alternate=null,El(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ve(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Tl=null,Cl=!1;function Nl(e,t,n){for(n=n.child;null!==n;)Al(e,t,n),n=n.sibling}function Al(e,t,n){if(he&&"function"===typeof he.onCommitFiberUnmount)try{he.onCommitFiberUnmount(ue,n)}catch(s){}switch(n.tag){case 26:xl||hl(n,t),Nl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:xl||hl(n,t);var r=Tl,i=Cl;fh(n.type)&&(Tl=n.stateNode,Cl=!1),Nl(e,t,n),wh(n.stateNode),Tl=r,Cl=i;break;case 5:xl||hl(n,t);case 6:if(r=Tl,i=Cl,Tl=null,Nl(e,t,n),Cl=i,null!==(Tl=r))if(Cl)try{(9===Tl.nodeType?Tl.body:"HTML"===Tl.nodeName?Tl.ownerDocument.body:Tl).removeChild(n.stateNode)}catch(a){uu(n,t,a)}else try{Tl.removeChild(n.stateNode)}catch(a){uu(n,t,a)}break;case 18:null!==Tl&&(Cl?(ph(9===(e=Tl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Cd(e)):ph(Tl,n.stateNode));break;case 4:r=Tl,i=Cl,Tl=n.stateNode.containerInfo,Cl=!0,Nl(e,t,n),Tl=r,Cl=i;break;case 0:case 11:case 14:case 15:xl||ol(2,n,t),xl||ol(4,n,t),Nl(e,t,n);break;case 1:xl||(hl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Nl(e,t,n);break;case 21:Nl(e,t,n);break;case 22:xl=(r=xl)||null!==n.memoizedState,Nl(e,t,n),xl=r;break;default:Nl(e,t,n)}}function Il(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Cd(e)}catch(n){uu(t,t.return,n)}}function Dl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new _l),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new _l),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){var r=gu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(fh(l.type)){Tl=l.stateNode,Cl=!1;break e}break;case 5:Tl=l.stateNode,Cl=!1;break e;case 3:case 4:Tl=l.stateNode.containerInfo,Cl=!0;break e}l=l.return}if(null===Tl)throw Error(a(160));Al(s,o,i),Tl=null,Cl=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Rl(t,e),t=t.sibling}var jl=null;function Rl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pl(t,e),Ol(e),4&r&&(ol(3,e,e.return),al(3,e),ol(5,e,e.return));break;case 1:Pl(t,e),Ol(e),512&r&&(xl||null===n||hl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=jl;if(Pl(t,e),Ol(e),512&r&&(xl||null===n||hl(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[ze]||s[Pe]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),eh(s,r,n),s[Pe]=e,We(s),r=s;break e;case"link":var o=zh("link","href",i).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}eh(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(o=zh("meta","content",i).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}eh(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(a(468,r))}s[Pe]=e,We(s),r=s}e.stateNode=r}else Vh(i,e.type,e.stateNode);else e.stateNode=Rh(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?Vh(i,e.type,e.stateNode):Rh(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Pl(t,e),Ol(e),512&r&&(xl||null===n||hl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Pl(t,e),Ol(e),512&r&&(xl||null===n||hl(n,n.return)),32&e.flags){i=e.stateNode;try{_t(i,"")}catch(p){uu(e,e.return,p)}}4&r&&null!=e.stateNode&&fl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(wl=!0);break;case 6:if(Pl(t,e),Ol(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){uu(e,e.return,p)}}break;case 3:if(Fh=null,i=jl,jl=Sh(t.containerInfo),Pl(t,e),jl=i,Ol(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Cd(t.containerInfo)}catch(p){uu(e,e.return,p)}wl&&(wl=!1,Ml(e));break;case 4:r=jl,jl=Sh(e.stateNode.containerInfo),Pl(t,e),Ol(e),jl=r;break;case 12:default:Pl(t,e),Ol(e);break;case 13:Pl(t,e),Ol(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Dl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,h=xl;if(bl=u||i,xl=h||c,Pl(t,e),xl=h,bl=u,Ol(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||bl||xl||Fl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,i)"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var d=c.memoizedProps.style,f=void 0!==d&&null!==d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Dl(e,n))));break;case 19:Pl(t,e),Ol(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Dl(e,r)));case 30:case 21:}}function Ol(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(pl(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var i=n.stateNode;yl(e,gl(e),i);break;case 5:var s=n.stateNode;32&n.flags&&(_t(s,""),n.flags&=-33),yl(e,gl(e),s);break;case 3:case 4:var o=n.stateNode.containerInfo;ml(e,gl(e),o);break;default:throw Error(a(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ml(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ml(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ll(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Sl(e,t.alternate,t),t=t.sibling}function Fl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),Fl(t);break;case 1:hl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Fl(t);break;case 27:wh(t.stateNode);case 26:case 5:hl(t,t.return),Fl(t);break;case 22:null===t.memoizedState&&Fl(t);break;default:Fl(t)}e=e.sibling}}function zl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:zl(i,s,n),al(4,s);break;case 1:if(zl(i,s,n),"function"===typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(i=(r=s).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)hs(l[i],o)}catch(c){uu(r,r.return,c)}}n&&64&a&&ll(s),ul(s,s.return);break;case 27:vl(s);case 26:case 5:zl(i,s,n),n&&null===r&&4&a&&dl(s),ul(s,s.return);break;case 12:zl(i,s,n);break;case 13:zl(i,s,n),n&&4&a&&Il(i,s);break;case 22:null===s.memoizedState&&zl(i,s,n),ul(s,s.return);break;case 30:break;default:zl(i,s,n)}t=t.sibling}}function Vl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ri(n))}function Ul(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ri(e))}function Bl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Hl(e,t,n,r),t=t.sibling}function Hl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Bl(e,t,n,r),2048&i&&al(9,t);break;case 1:case 13:default:Bl(e,t,n,r);break;case 3:Bl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ri(e)));break;case 12:if(2048&i){Bl(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,o=s.onPostCommit;"function"===typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Bl(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,null!==t.memoizedState?2&s._visibility?Bl(e,t,n,r):Wl(e,t):2&s._visibility?Bl(e,t,n,r):(s._visibility|=2,$l(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&Vl(a,t);break;case 24:Bl(e,t,n,r),2048&i&&Ul(t.alternate,t)}}function $l(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,a=t,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:$l(s,a,o,l,i),al(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?$l(s,a,o,l,i):Wl(s,a):(u._visibility|=2,$l(s,a,o,l,i)),i&&2048&c&&Vl(a.alternate,a);break;case 24:$l(s,a,o,l,i),i&&2048&c&&Ul(a.alternate,a);break;default:$l(s,a,o,l,i)}t=t.sibling}}function Wl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Wl(n,r),2048&i&&Vl(r.alternate,r);break;case 24:Wl(n,r),2048&i&&Ul(r.alternate,r);break;default:Wl(n,r)}t=t.sibling}}var ql=8192;function Gl(e){if(e.subtreeFlags&ql)for(e=e.child;null!==e;)Kl(e),e=e.sibling}function Kl(e){switch(e.tag){case 26:Gl(e),e.flags&ql&&null!==e.memoizedState&&function(e,t,n){if(null===Bh)throw Error(a(475));var r=Bh;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Ah(n.href),s=e.querySelector(Ih(i));if(s)return null!==(e=s._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=$h.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=s,void We(s);s=e.ownerDocument||e,n=Dh(n),(i=_h.get(i))&&Mh(n,i),We(s=s.createElement("link"));var o=s;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),eh(s,"link",n),t.instance=s}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=$h.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(jl,e.memoizedState,e.memoizedProps);break;case 5:default:Gl(e);break;case 3:case 4:var t=jl;jl=Sh(e.stateNode.containerInfo),Gl(e),jl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=ql,ql=16777216,Gl(e),ql=t):Gl(e))}}function Ql(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,Zl(r,e)}Ql(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Yl(e),e=e.sibling}function Yl(e){switch(e.tag){case 0:case 11:case 15:Jl(e),2048&e.flags&&ol(9,e,e.return);break;case 3:case 12:default:Jl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Xl(e)):Jl(e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,Zl(r,e)}Ql(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ol(8,t,t.return),Xl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Xl(t));break;default:Xl(t)}e=e.sibling}}function Zl(e,t){for(;null!==kl;){var n=kl;switch(n.tag){case 0:case 11:case 15:ol(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ri(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,kl=r;else e:for(n=e;null!==kl;){var i=(r=kl).sibling,s=r.return;if(El(r),r===n){kl=null;break e}if(null!==i){i.return=s,kl=i;break e}kl=s}}}var ec={getCacheForType:function(e){var t=Ti(Pi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ic=null,sc=0,ac=0,oc=null,lc=!1,cc=!1,uc=!1,hc=0,dc=0,fc=0,pc=0,gc=0,mc=0,yc=0,vc=null,bc=null,xc=!1,wc=0,_c=1/0,kc=null,Sc=null,Ec=0,Tc=null,Cc=null,Nc=0,Ac=0,Ic=null,Dc=null,Pc=0,jc=null;function Rc(){if(0!==(2&nc)&&0!==sc)return sc&-sc;if(null!==R.T){return 0!==Li?Li:Au()}return Ie()}function Oc(){0===mc&&(mc=0===(536870912&sc)||si?_e():536870912);var e=ro.current;return null!==e&&(e.flags|=32),mc}function Mc(e,t,n){(e!==rc||2!==ac&&9!==ac)&&null===e.cancelPendingCommit||(Hc(e,0),Vc(e,sc,mc,!1)),Ee(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(pc|=n),4===dc&&Vc(e,sc,mc,!1)),_u(e))}function Lc(e,t,n){if(0!==(6&nc))throw Error(a(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||xe(e,t),i=r?function(e,t){var n=nc;nc|=2;var r=Wc(),i=qc();rc!==e||sc!==t?(kc=null,_c=te()+500,Hc(e,t)):cc=xe(e,t);e:for(;;)try{if(0!==ac&&null!==ic){t=ic;var s=oc;t:switch(ac){case 1:ac=0,oc=null,Zc(e,t,s,1);break;case 2:case 9:if(Qi(s)){ac=0,oc=null,Xc(t);break}t=function(){2!==ac&&9!==ac||rc!==e||(ac=7),_u(e)},s.then(t,t);break e;case 3:ac=7;break e;case 4:ac=5;break e;case 7:Qi(s)?(ac=0,oc=null,Xc(t)):(ac=0,oc=null,Zc(e,t,s,7));break;case 5:var o=null;switch(ic.tag){case 26:o=ic.memoizedState;case 5:case 27:var l=ic;if(!o||Uh(o)){ac=0,oc=null;var c=l.sibling;if(null!==c)ic=c;else{var u=l.return;null!==u?(ic=u,eu(u)):ic=null}break t}}ac=0,oc=null,Zc(e,t,s,5);break;case 6:ac=0,oc=null,Zc(e,t,s,6);break;case 8:Bc(),dc=6;break e;default:throw Error(a(462))}}Jc();break}catch(h){$c(e,h)}return vi=yi=null,R.H=r,R.A=i,nc=n,null!==ic?0:(rc=null,sc=0,Nr(),dc)}(e,t):Kc(e,t,!0),s=r;;){if(0===i){cc&&!r&&Vc(e,t,0,!1);break}if(n=e.current.alternate,!s||zc(n)){if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(Hc(l,o).flags|=256),2!==(o=Kc(l,o,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=s,pc|=s,i=4;break e}s=bc,bc=i,null!==s&&(null===bc?bc=s:bc.push.apply(bc,s))}i=o}if(s=!1,2!==i)continue}}if(1===i){Hc(e,0),Vc(e,t,0,!0);break}e:{switch(r=e,s=i){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Vc(r,t,mc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(i=wc+300-te())){if(Vc(r,t,mc,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=lh(Fc.bind(null,r,n,bc,kc,xc,t,mc,pc,yc,lc,s,2,-0,0),i)}else Fc(r,n,bc,kc,xc,t,mc,pc,yc,lc,s,0,-0,0)}break}i=Kc(e,t,!1),s=!1}_u(e)}function Fc(e,t,n,r,i,s,o,l,c,u,h,d,f,p){if(e.timeoutHandle=-1,(8192&(d=t.subtreeFlags)||16785408===(16785408&d))&&(Bh={stylesheets:null,count:0,unsuspend:Hh},Kl(t),null!==(d=function(){if(null===Bh)throw Error(a(475));var e=Bh;return e.stylesheets&&0===e.count&&qh(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&qh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=d(nu.bind(null,e,t,s,n,r,i,o,l,c,h,1,f,p)),void Vc(e,s,o,!u);nu(e,t,s,n,r,i,o,l,c)}function zc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Qn(s(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vc(e,t,n,r){t&=~gc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-fe(i),a=1<<s;r[s]=-1,i&=~a}0!==n&&Te(e,n,t)}function Uc(){return 0!==(6&nc)||(ku(0,!1),!1)}function Bc(){if(null!==ic){if(0===ac)var e=ic.return;else vi=yi=null,Ls(e=ic),Ka=null,Qa=0,e=ic;for(;null!==e;)sl(e.alternate,e),e=e.return;ic=null}}function Hc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ch(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bc(),rc=e,ic=n=Fr(e.current,null),sc=t,ac=0,oc=null,lc=!1,cc=xe(e,t),uc=!1,yc=mc=gc=pc=fc=dc=0,bc=vc=null,xc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-fe(r),s=1<<i;t|=e[i],r&=~s}return hc=t,Nr(),n}function $c(e,t){bs=null,R.H=$a,t===Wi||t===Gi?(t=Zi(),ac=3):t===qi?(t=Zi(),ac=4):ac=t===To?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===ic&&(dc=1,wo(e,Sr(t,e.current)))}function Wc(){var e=R.H;return R.H=$a,null===e?$a:e}function qc(){var e=R.A;return R.A=ec,e}function Gc(){dc=4,lc||(4194048&sc)!==sc&&null!==ro.current||(cc=!0),0===(134217727&fc)&&0===(134217727&pc)||null===rc||Vc(rc,sc,mc,!1)}function Kc(e,t,n){var r=nc;nc|=2;var i=Wc(),s=qc();rc===e&&sc===t||(kc=null,Hc(e,t)),t=!1;var a=dc;e:for(;;)try{if(0!==ac&&null!==ic){var o=ic,l=oc;switch(ac){case 8:Bc(),a=6;break e;case 3:case 2:case 9:case 6:null===ro.current&&(t=!0);var c=ac;if(ac=0,oc=null,Zc(e,o,l,c),n&&cc){a=0;break e}break;default:c=ac,ac=0,oc=null,Zc(e,o,l,c)}}Qc(),a=dc;break}catch(u){$c(e,u)}return t&&e.shellSuspendCounter++,vi=yi=null,nc=r,R.H=i,R.A=s,null===ic&&(rc=null,sc=0,Nr()),a}function Qc(){for(;null!==ic;)Yc(ic)}function Jc(){for(;null!==ic&&!Z();)Yc(ic)}function Yc(e){var t=Yo(e.alternate,e,hc);e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Xc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Mo(n,t,t.pendingProps,t.type,void 0,sc);break;case 11:t=Mo(n,t,t.pendingProps,t.type.render,t.ref,sc);break;case 5:Ls(t);default:sl(n,t),t=Yo(n,t=ic=zr(t,hc),hc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Zc(e,t,n,r){vi=yi=null,Ls(t),Ka=null,Qa=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&ki(t,n,i,!0),null!==(n=ro.current)){switch(n.tag){case 13:return null===io?Gc():null===n.alternate&&0===dc&&(dc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Ki?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),hu(e,r,i)),!1;case 22:return n.flags|=65536,r===Ki?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),hu(e,r,i)),!1}throw Error(a(435,n.tag))}return hu(e,r,i),Gc(),!1}if(si)return null!==(t=ro.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&gi(Sr(e=Error(a(422),{cause:r}),n))):(r!==li&&gi(Sr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Sr(r,n),os(e,i=ko(e.stateNode,r,i)),4!==dc&&(dc=2)),!1;var s=Error(a(520),{cause:r});if(s=Sr(s,n),null===vc?vc=[s]:vc.push(s),4!==dc&&(dc=2),null===t)return!0;r=Sr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,os(n,e=ko(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Sc||!Sc.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,Eo(i=So(i),e,n,r),os(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,sc))return dc=1,wo(e,Sr(n,e.current)),void(ic=null)}catch(s){if(null!==i)throw ic=i,s;return dc=1,wo(e,Sr(n,e.current)),void(ic=null)}32768&t.flags?(si||1===r?e=!0:cc||0!==(536870912&sc)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ro.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,hc);if(null!==n)return void(ic=n);if(null!==(t=t.sibling))return void(ic=t);ic=t=e}while(null!==t);0===dc&&(dc=5)}function tu(e,t){do{var n=il(e.alternate,e);if(null!==n)return n.flags&=32767,void(ic=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ic=e);ic=e=n}while(null!==e);dc=6,ic=null}function nu(e,t,n,r,i,s,o,l,c){e.cancelPendingCommit=null;do{ou()}while(0!==Ec);if(0!==(6&nc))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,i,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-fe(n),h=1<<u;o[u]=0,l[u]=-1;var d=c[u];if(null!==d)for(c[u]=null,u=0;u<d.length;u++){var f=d[u];null!==f&&(f.lane&=-536870913)}n&=~h}0!==r&&Te(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(a&~t))}(e,n,s|=Cr,o,l,c),e===rc&&(ic=rc=null,sc=0),Cc=t,Tc=e,Nc=n,Ac=s,Ic=i,Dc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Y(se,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=R.T,R.T=null,i=O.p,O.p=2,o=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,th=nd,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(m){n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==s||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=o),f===s&&++h===r&&(c=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nh={focusedElem:e,selectionRange:n},nd=!1,kl=t;null!==kl;)if(e=(t=kl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,kl=e;else for(;null!==kl;){switch(s=(t=kl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var g=mo(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(g,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){uu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))gh(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gh(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,kl=e;break}kl=t.return}}(e,t)}finally{nc=o,O.p=i,R.T=r}}Ec=1,ru(),iu(),su()}}function ru(){if(1===Ec){Ec=0;var e=Tc,t=Cc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=R.T,R.T=null;var r=O.p;O.p=2;var i=nc;nc|=4;try{Rl(t,e);var s=nh,a=er(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&Zn(o.ownerDocument.documentElement,o)){if(null!==l&&tr(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var h=o.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=o.textContent.length,g=Math.min(l.start,p),m=void 0===l.end?g:Math.min(l.end,p);!f.extend&&g>m&&(a=m,m=g,g=a);var y=Xn(o,g),v=Xn(o,m);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=h.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),g>m?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(h=[],f=o;f=f.parentNode;)1===f.nodeType&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<h.length;o++){var x=h[o];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}nd=!!th,nh=th=null}finally{nc=i,O.p=r,R.T=n}}e.current=t,Ec=2}}function iu(){if(2===Ec){Ec=0;var e=Tc,t=Cc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=R.T,R.T=null;var r=O.p;O.p=2;var i=nc;nc|=4;try{Sl(e,t.alternate,t)}finally{nc=i,O.p=r,R.T=n}}Ec=3}}function su(){if(4===Ec||3===Ec){Ec=0,ee();var e=Tc,t=Cc,n=Nc,r=Dc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Ec=5:(Ec=0,Cc=Tc=null,au(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Sc=null),Ae(n),t=t.stateNode,he&&"function"===typeof he.onCommitFiberRoot)try{he.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=R.T,i=O.p,O.p=2,R.T=null;try{for(var s=e.onRecoverableError,a=0;a<r.length;a++){var o=r[a];s(o.value,{componentStack:o.stack})}}finally{R.T=t,O.p=i}}0!==(3&Nc)&&ou(),_u(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===jc?Pc++:(Pc=0,jc=e):Pc=0,ku(0,!1)}}function au(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ri(t)))}function ou(e){return ru(),iu(),su(),lu()}function lu(){if(5!==Ec)return!1;var e=Tc,t=Ac;Ac=0;var n=Ae(Nc),r=R.T,i=O.p;try{O.p=32>n?32:n,R.T=null,n=Ic,Ic=null;var s=Tc,o=Nc;if(Ec=0,Cc=Tc=null,Nc=0,0!==(6&nc))throw Error(a(331));var l=nc;if(nc|=4,Yl(s.current),Hl(s,s.current,o,n),nc=l,ku(0,!1),he&&"function"===typeof he.onPostCommitFiberRoot)try{he.onPostCommitFiberRoot(ue,s)}catch(c){}return!0}finally{O.p=i,R.T=r,au(e,t)}}function cu(e,t,n){t=Sr(n,t),null!==(e=ss(e,t=ko(e.stateNode,t,2),2))&&(Ee(e,2),_u(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Sc||!Sc.has(r))){e=Sr(n,e),null!==(r=ss(t,n=So(2),2))&&(Eo(n,r,t,e),Ee(r,2),_u(r));break}}t=t.return}}function hu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(uc=!0,i.add(n),e=du.bind(null,e,t,n),t.then(e,e))}function du(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(sc&n)===n&&(4===dc||3===dc&&(62914560&sc)===sc&&300>te()-wc?0===(2&nc)&&Hc(e,0):gc|=n,yc===sc&&(yc=0)),_u(e)}function fu(e,t){0===t&&(t=ke()),null!==(e=Dr(e,t))&&(Ee(e,t),_u(e))}function pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fu(e,n)}function gu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),fu(e,n)}var mu=null,yu=null,vu=!1,bu=!1,xu=!1,wu=0;function _u(e){e!==yu&&null===e.next&&(null===yu?mu=yu=e:yu=yu.next=e),bu=!0,vu||(vu=!0,hh(function(){0!==(6&nc)?Y(re,Su):Eu()}))}function ku(e,t){if(!xu&&bu){xu=!0;do{for(var n=!1,r=mu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-fe(42|e)+1)-1,s=201326741&(s&=i&~(a&~o))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Nu(r,s))}else s=sc,0===(3&(s=be(r,r===rc?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||xe(r,s)||(n=!0,Nu(r,s));r=r.next}}while(n);xu=!1}}function Su(){Eu()}function Eu(){bu=vu=!1;var e=0;0!==wu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==oh&&(oh=e,!0);return oh=null,!1}()&&(e=wu),wu=0);for(var t=te(),n=null,r=mu;null!==r;){var i=r.next,s=Tu(r,t);0===s?(r.next=null,null===n?mu=i:n.next=i,null===i&&(yu=n)):(n=r,(0!==e||0!==(3&s))&&(bu=!0)),r=i}ku(e,!1)}function Tu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var a=31-fe(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=we(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=sc,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===ac||9===ac)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&X(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||xe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&X(r),Ae(n)){case 2:case 8:n=ie;break;case 32:default:n=se;break;case 268435456:n=oe}return r=Cu.bind(null,e),n=Y(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&X(r),e.callbackPriority=2,e.callbackNode=null,2}function Cu(e,t){if(0!==Ec&&5!==Ec)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ou()&&e.callbackNode!==n)return null;var r=sc;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Lc(e,r,t),Tu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Cu.bind(null,e):null)}function Nu(e,t){if(ou())return null;Lc(e,t,!0)}function Au(){return 0===wu&&(wu=_e()),wu}function Iu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:At(""+e)}function Du(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Pu=0;Pu<wr.length;Pu++){var ju=wr[Pu];_r(ju.toLowerCase(),"on"+(ju[0].toUpperCase()+ju.slice(1)))}_r(fr,"onAnimationEnd"),_r(pr,"onAnimationIteration"),_r(gr,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(mr,"onTransitionRun"),_r(yr,"onTransitionStart"),_r(vr,"onTransitionCancel"),_r(br,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),Ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ke("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ou=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ru));function Mu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){yo(u)}i.currentTarget=null,s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){yo(u)}i.currentTarget=null,s=l}}}}function Lu(e,t){var n=t[Oe];void 0===n&&(n=t[Oe]=new Set);var r=e+"__bubble";n.has(r)||(Uu(t,e,2,!1),n.add(r))}function Fu(e,t,n){var r=0;t&&(r|=4),Uu(n,e,r,t)}var zu="_reactListening"+Math.random().toString(36).slice(2);function Vu(e){if(!e[zu]){e[zu]=!0,qe.forEach(function(t){"selectionchange"!==t&&(Ou.has(t)||Fu(t,!1,e),Fu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zu]||(t[zu]=!0,Fu("selectionchange",!1,t))}}function Uu(e,t,n,r){switch(cd(t)){case 2:var i=rd;break;case 8:i=id;break;default:i=sd}n=i.bind(null,t,n,e),i=void 0,!zt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Bu(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===i)return;a=a.return}for(;null!==o;){if(null===(a=Ue(o)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=s=a;continue e}o=o.parentNode}}r=r.return}Mt(function(){var r=s,i=Dt(n),a=[];e:{var o=xr.get(e);if(void 0!==o){var c=Zt,u=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":c=gn;break;case"focusin":u="focus",c=an;break;case"focusout":u="blur",c=an;break;case"beforeblur":case"afterblur":c=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case fr:case pr:case gr:c=on;break;case br:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=mn;break;case"toggle":case"beforetoggle":c=xn}var h=0!==(4&t),d=!h&&("scroll"===e||"scrollend"===e),f=h?null!==o?o+"Capture":null:o;h=[];for(var p,g=r;null!==g;){var m=g;if(p=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===p||null===f||null!=(m=Lt(g,f))&&h.push(Hu(g,m,p)),d)break;g=g.return}0<h.length&&(o=new c(o,u,null,n,i),a.push({event:o,listeners:h}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===It||!(u=n.relatedTarget||n.fromElement)||!Ue(u)&&!u[Re])&&(c||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ue(u):null)&&(d=l(u),h=u.tag,u!==d||5!==h&&27!==h&&6!==h)&&(u=null)):(c=null,u=r),c!==u)){if(h=rn,m="onMouseLeave",f="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(h=mn,m="onPointerLeave",f="onPointerEnter",g="pointer"),d=null==c?o:He(c),p=null==u?o:He(u),(o=new h(m,g+"leave",c,n,i)).target=d,o.relatedTarget=p,m=null,Ue(i)===r&&((h=new h(f,g+"enter",u,n,i)).target=p,h.relatedTarget=d,m=h),d=m,c&&u)e:{for(f=u,g=0,p=h=c;p;p=Wu(p))g++;for(p=0,m=f;m;m=Wu(m))p++;for(;0<g-p;)h=Wu(h),g--;for(;0<p-g;)f=Wu(f),p--;for(;g--;){if(h===f||null!==f&&h===f.alternate)break e;h=Wu(h),f=Wu(f)}h=null}else h=null;null!==c&&qu(a,o,c,h,!1),null!==u&&null!==d&&qu(a,d,u,h,!0)}if("select"===(c=(o=r?He(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var y=Fn;else if(Pn(o))if(zn)y=Kn;else{y=qn;var v=Wn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Tt(r.elementType)&&(y=Fn):y=Gn;switch(y&&(y=y(e,r))?jn(a,y,n,i):(v&&v(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&vt(o,"number",o.value)),v=r?He(r):window,e){case"focusin":(Pn(v)||"true"===v.contentEditable)&&(rr=v,ir=r,sr=null);break;case"focusout":sr=ir=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,or(a,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(a,n,i)}var b;if(_n)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else In?Nn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(En&&"ko"!==n.locale&&(In||"onCompositionStart"!==x?"onCompositionEnd"===x&&In&&(b=$t()):(Bt="value"in(Ut=i)?Ut.value:Ut.textContent,In=!0)),0<(v=$u(r,x)).length&&(x=new cn(x,e,null,n,i),a.push({event:x,listeners:v}),b?x.data=b:null!==(b=An(n))&&(x.data=b))),(b=Sn?function(e,t){switch(e){case"compositionend":return An(t);case"keypress":return 32!==t.which?null:(Cn=!0,Tn);case"textInput":return(e=t.data)===Tn&&Cn?null:e;default:return null}}(e,n):function(e,t){if(In)return"compositionend"===e||!_n&&Nn(e,t)?(e=$t(),Ht=Bt=Ut=null,In=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return En&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=$u(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,i),a.push({event:v,listeners:x}),v.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=Iu((i[je]||null).action),a=r.submitter;a&&null!==(t=(t=a[je]||null)?Iu(t.formAction):a.getAttribute("formAction"))&&(s=t,a=null);var o=new Zt("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==wu){var e=a?Du(i,a):new FormData(i);Ia(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(o.preventDefault(),e=a?Du(i,a):new FormData(i),Ia(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(a,e,r,n,i)}Mu(a,t)})}function Hu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $u(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Lt(e,n))&&r.unshift(Hu(e,i,s)),null!=(i=Lt(e,t))&&r.push(Hu(e,i,s))),3===e.tag)return r;e=e.return}return[]}function Wu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function qu(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=Lt(n,s))&&a.unshift(Hu(n,c,l)):i||null!=(c=Lt(n,s))&&a.push(Hu(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Gu=/\r\n?/g,Ku=/\u0000|\uFFFD/g;function Qu(e){return("string"===typeof e?e:""+e).replace(Gu,"\n").replace(Ku,"")}function Ju(e,t){return t=Qu(t),Qu(e)===t}function Yu(){}function Xu(e,t,n,r,i,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||_t(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&_t(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Et(e,r,s);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&Xu(e,t,"name",i.name,i,null),Xu(e,t,"formEncType",i.formEncType,i,null),Xu(e,t,"formMethod",i.formMethod,i,null),Xu(e,t,"formTarget",i.formTarget,i,null)):(Xu(e,t,"encType",i.encType,i,null),Xu(e,t,"method",i.method,i,null),Xu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Yu);break;case"onScroll":null!=r&&Lu("scroll",e);break;case"onScrollEnd":null!=r&&Lu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=At(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Lu("beforetoggle",e),Lu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Ct.get(n)||n,r)}}function Zu(e,t,n,r,i,s){switch(n){case"style":Et(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?_t(e,r):("number"===typeof r||"bigint"===typeof r)&&_t(e,""+r);break;case"onScroll":null!=r&&Lu("scroll",e);break;case"onScrollEnd":null!=r&&Lu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Yu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ge.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=e[je]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function eh(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lu("error",e),Lu("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Xu(e,t,r,o,n,null)}}return s&&Xu(e,t,"srcSet",n.srcSet,n,null),void(i&&Xu(e,t,"src",n.src,n,null));case"input":Lu("invalid",e);var l=r=o=s=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":s=h;break;case"type":o=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":r=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(a(137,t));break;default:Xu(e,t,i,h,n,null)}}return yt(e,r,l,c,u,o,s,!1),void ht(e);case"select":for(s in Lu("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:Xu(e,t,s,l,n,null)}return t=r,n=o,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(o in Lu("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Xu(e,t,o,l,n,null)}return wt(e,i,s,r),void ht(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Xu(e,t,c,i,n,null);return;case"dialog":Lu("beforetoggle",e),Lu("toggle",e),Lu("cancel",e),Lu("close",e);break;case"iframe":case"object":Lu("load",e);break;case"video":case"audio":for(i=0;i<Ru.length;i++)Lu(Ru[i],e);break;case"image":Lu("error",e),Lu("load",e);break;case"details":Lu("toggle",e);break;case"embed":case"source":case"link":Lu("error",e),Lu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Xu(e,t,u,i,n,null)}return;default:if(Tt(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(i=n[h])&&Zu(e,t,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Xu(e,t,l,i,n,null))}var th=null,nh=null;function rh(e){return 9===e.nodeType?e:e.ownerDocument}function ih(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ah(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var oh=null;var lh="function"===typeof setTimeout?setTimeout:void 0,ch="function"===typeof clearTimeout?clearTimeout:void 0,uh="function"===typeof Promise?Promise:void 0,hh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof uh?function(e){return uh.resolve(null).then(e).catch(dh)}:lh;function dh(e){setTimeout(function(){throw e})}function fh(e){return"head"===e}function ph(e,t){var n=t,r=0,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0<r&&8>r){n=r;var a=e.ownerDocument;if(1&n&&wh(a.documentElement),2&n&&wh(a.body),4&n)for(wh(n=a.head),a=n.firstChild;a;){var o=a.nextSibling,l=a.nodeName;a[ze]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=o}}if(0===i)return e.removeChild(s),void Cd(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);Cd(t)}function gh(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":gh(n),Ve(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function mh(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vh=null;function bh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function xh(e,t,n){switch(t=rh(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function wh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ve(e)}var _h=new Map,kh=new Set;function Sh(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Eh=O.d;O.d={f:function(){var e=Eh.f(),t=Uc();return e||t},r:function(e){var t=Be(e);null!==t&&5===t.tag&&"form"===t.type?Pa(t):Eh.r(e)},D:function(e){Eh.D(e),Ch("dns-prefetch",e,null)},C:function(e,t){Eh.C(e,t),Ch("preconnect",e,t)},L:function(e,t,n){Eh.L(e,t,n);var r=Th;if(r&&e&&t){var i='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+gt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+gt(n.imageSizes)+'"]')):i+='[href="'+gt(e)+'"]';var s=i;switch(t){case"style":s=Ah(e);break;case"script":s=Ph(e)}_h.has(s)||(e=d({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),_h.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Ih(s))||"script"===t&&r.querySelector(jh(s))||(eh(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}},m:function(e,t){Eh.m(e,t);var n=Th;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+gt(r)+'"][href="'+gt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Ph(e)}if(!_h.has(s)&&(e=d({rel:"modulepreload",href:e},t),_h.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(jh(s)))return}eh(r=n.createElement("link"),"link",e),We(r),n.head.appendChild(r)}}},X:function(e,t){Eh.X(e,t);var n=Th;if(n&&e){var r=$e(n).hoistableScripts,i=Ph(e),s=r.get(i);s||((s=n.querySelector(jh(i)))||(e=d({src:e,async:!0},t),(t=_h.get(i))&&Lh(e,t),We(s=n.createElement("script")),eh(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){Eh.S(e,t,n);var r=Th;if(r&&e){var i=$e(r).hoistableStyles,s=Ah(e);t=t||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(Ih(s)))o.loading=5;else{e=d({rel:"stylesheet",href:e,"data-precedence":t},n),(n=_h.get(s))&&Mh(e,n);var l=a=r.createElement("link");We(l),eh(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Oh(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}},M:function(e,t){Eh.M(e,t);var n=Th;if(n&&e){var r=$e(n).hoistableScripts,i=Ph(e),s=r.get(i);s||((s=n.querySelector(jh(i)))||(e=d({src:e,async:!0,type:"module"},t),(t=_h.get(i))&&Lh(e,t),We(s=n.createElement("script")),eh(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var Th="undefined"===typeof document?null:document;function Ch(e,t,n){var r=Th;if(r&&"string"===typeof t&&t){var i=gt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),kh.has(i)||(kh.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(eh(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}}function Nh(e,t,n,r){var i,s,o,l,c=(c=$.current)?Sh(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Ah(n.href),(r=(n=$e(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Ah(n.href);var u=$e(c).hoistableStyles,h=u.get(e);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=c.querySelector(Ih(e)))&&!u._p&&(h.instance=u,h.state.loading=5),_h.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},_h.set(e,n),u||(i=c,s=e,o=n,l=h.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),eh(s,"link",o),We(s),i.head.appendChild(s))))),t&&null===r)throw Error(a(528,""));return h}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Ph(n),(r=(n=$e(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ah(e){return'href="'+gt(e)+'"'}function Ih(e){return'link[rel="stylesheet"]['+e+"]"}function Dh(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function Ph(e){return'[src="'+gt(e)+'"]'}function jh(e){return"script[async]"+e}function Rh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+gt(n.href)+'"]');if(r)return t.instance=r,We(r),r;var i=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return We(r=(e.ownerDocument||e).createElement("style")),eh(r,"style",i),Oh(r,n.precedence,e),t.instance=r;case"stylesheet":i=Ah(n.href);var s=e.querySelector(Ih(i));if(s)return t.state.loading|=4,t.instance=s,We(s),s;r=Dh(n),(i=_h.get(i))&&Mh(r,i),We(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),eh(s,"link",r),t.state.loading|=4,Oh(s,n.precedence,e),t.instance=s;case"script":return s=Ph(n.src),(i=e.querySelector(jh(s)))?(t.instance=i,We(i),i):(r=n,(i=_h.get(s))&&Lh(r=d({},n),i),We(i=(e=e.ownerDocument||e).createElement("script")),eh(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Oh(r,n.precedence,e));return t.instance}function Oh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Mh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Lh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fh=null;function zh(e,t,n){if(null===Fh){var r=new Map,i=Fh=new Map;i.set(n,r)}else(r=(i=Fh).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[ze]||s[Pe]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var a=s.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function Vh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Uh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Bh=null;function Hh(){}function $h(){if(this.count--,0===this.count)if(this.stylesheets)qh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Wh=null;function qh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Wh=new Map,t.forEach(Gh,e),Wh=null,$h.call(e))}function Gh(e,t){if(!(4&t.state.loading)){var n=Wh.get(e);if(n)var r=n.get(null);else{n=new Map,Wh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(s=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=$h.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Kh={$$typeof:w,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function Qh(e,t,n,r,i,s,a,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Se(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Se(0),this.hiddenUpdates=Se(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Jh(e,t,n,r,i,s,a,o,l,c,u,h){return e=new Qh(e,t,n,a,o,l,c,h),t=1,!0===s&&(t|=24),s=Mr(3,null,null,t),e.current=s,s.stateNode=e,(t=ji()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},ns(s),e}function Yh(e){return e?e=Rr:Rr}function Xh(e,t,n,r,i,s){i=Yh(i),null===r.context?r.context=i:r.pendingContext=i,(r=is(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=ss(e,r,t))&&(Mc(n,0,t),as(n,e,t))}function Zh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ed(e,t){Zh(e,t),(e=e.alternate)&&Zh(e,t)}function td(e){if(13===e.tag){var t=Dr(e,67108864);null!==t&&Mc(t,0,67108864),ed(e,67108864)}}var nd=!0;function rd(e,t,n,r){var i=R.T;R.T=null;var s=O.p;try{O.p=2,sd(e,t,n,r)}finally{O.p=s,R.T=i}}function id(e,t,n,r){var i=R.T;R.T=null;var s=O.p;try{O.p=8,sd(e,t,n,r)}finally{O.p=s,R.T=i}}function sd(e,t,n,r){if(nd){var i=ad(r);if(null===i)Bu(e,t,r,od,n),vd(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return hd=bd(hd,e,t,n,r,i),!0;case"dragenter":return dd=bd(dd,e,t,n,r,i),!0;case"mouseover":return fd=bd(fd,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return pd.set(s,bd(pd.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,gd.set(s,bd(gd.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(vd(e,r),4&t&&-1<yd.indexOf(e)){for(;null!==i;){var s=Be(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var a=ve(s.pendingLanes);if(0!==a){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-fe(a);o.entanglements[1]|=l,a&=~l}_u(s),0===(6&nc)&&(_c=te()+500,ku(0,!1))}}break;case 13:null!==(o=Dr(s,2))&&Mc(o,0,2),Uc(),ed(s,2)}if(null===(s=ad(r))&&Bu(e,t,r,od,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Bu(e,t,r,null,n)}}function ad(e){return ld(e=Dt(e))}var od=null;function ld(e){if(od=null,null!==(e=Ue(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return od=e,null}function cd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case se:case ae:return 32;case oe:return 268435456;default:return 32}default:return 32}}var ud=!1,hd=null,dd=null,fd=null,pd=new Map,gd=new Map,md=[],yd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vd(e,t){switch(e){case"focusin":case"focusout":hd=null;break;case"dragenter":case"dragleave":dd=null;break;case"mouseover":case"mouseout":fd=null;break;case"pointerover":case"pointerout":pd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gd.delete(t.pointerId)}}function bd(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Be(t))&&td(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function xd(e){var t=Ue(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=O.p;try{return O.p=e,t()}finally{O.p=n}}(e.priority,function(){if(13===n.tag){var e=Rc();e=Ne(e);var t=Dr(n,e);null!==t&&Mc(t,0,e),ed(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wd(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ad(e.nativeEvent);if(null!==n)return null!==(t=Be(n))&&td(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);It=r,n.target.dispatchEvent(r),It=null,t.shift()}return!0}function _d(e,t,n){wd(e)&&n.delete(t)}function kd(){ud=!1,null!==hd&&wd(hd)&&(hd=null),null!==dd&&wd(dd)&&(dd=null),null!==fd&&wd(fd)&&(fd=null),pd.forEach(_d),gd.forEach(_d)}function Sd(e,t){e.blockedOn===t&&(e.blockedOn=null,ud||(ud=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kd)))}var Ed=null;function Td(e){Ed!==e&&(Ed=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ed===e&&(Ed=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===ld(r||n))continue;break}var s=Be(n);null!==s&&(e.splice(t,3),t-=3,Ia(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Cd(e){function t(t){return Sd(t,e)}null!==hd&&Sd(hd,e),null!==dd&&Sd(dd,e),null!==fd&&Sd(fd,e),pd.forEach(t),gd.forEach(t);for(var n=0;n<md.length;n++){var r=md[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<md.length&&null===(n=md[0]).blockedOn;)xd(n),null===n.blockedOn&&md.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[je]||null;if("function"===typeof s)a||Td(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[je]||null)o=a.formAction;else if(null!==ld(i))continue}else o=a.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Td(n)}}}function Nd(e){this._internalRoot=e}function Ad(e){this._internalRoot=e}Ad.prototype.render=Nd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Xh(t.current,Rc(),e,t,null,null)},Ad.prototype.unmount=Nd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Xh(e.current,2,null,e,null,null),Uc(),t[Re]=null}},Ad.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ie();e={blockedOn:null,target:e,priority:t};for(var n=0;n<md.length&&0!==t&&t<md[n].priority;n++);md.splice(n,0,e),0===n&&xd(e)}};var Id=i.version;if("19.1.0"!==Id)throw Error(a(527,Id,"19.1.0"));O.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return u(i),e;if(s===r)return u(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=s;break}if(c===r){o=!0,r=i,n=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===n){o=!0,n=s,r=i;break}if(c===r){o=!0,r=s,n=i;break}c=c.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Dd={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pd.isDisabled&&Pd.supportsFiber)try{ue=Pd.inject(Dd),he=Pd}catch(Rd){}}t.createRoot=function(e,t){if(!o(e))throw Error(a(299));var n=!1,r="",i=vo,s=bo,l=xo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Jh(e,1,!1,null,0,n,r,i,s,l,0,null),e[Re]=t.current,Vu(e),new Nd(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(a(299));var r=!1,i="",s=vo,l=bo,c=xo,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Jh(e,1,!0,t,0,r,i,s,l,c,0,u)).context=Yh(null),n=t.current,(i=is(r=Ne(r=Rc()))).callback=null,ss(n,i,r),n=r,t.current.lanes=n,Ee(t,n),_u(t),e[Re]=t.current,Vu(e),new Ad(t)},t.version="19.1.0"},43:(e,t,n)=>{"use strict";e.exports=n(288)},150:(e,t,n)=>{"use strict";n.d(t,{MF:()=>ue,j6:()=>se,xZ:()=>ae,om:()=>ie,Sx:()=>de,Wp:()=>he,KO:()=>fe});var r=n(812),i=n(443),s=n(529);let a,o;const l=new WeakMap,c=new WeakMap,u=new WeakMap,h=new WeakMap,d=new WeakMap;let f={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return c.get(e);if("objectStoreNames"===t)return e.objectStoreNames||u.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return m(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function p(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(o||(o=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(y(this),n),m(l.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(e.apply(y(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(y(this),t,...r);return u.set(s,t.sort?t.sort():[t]),m(s)}}function g(e){return"function"===typeof e?p(e):(e instanceof IDBTransaction&&function(e){if(c.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});c.set(e,t)}(e),t=e,(a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,f):e);var t}function m(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(m(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&l.set(t,e)}).catch(()=>{}),d.set(t,e),t}(e);if(h.has(e))return h.get(e);const t=g(e);return t!==e&&(h.set(e,t),d.set(t,e)),t}const y=e=>d.get(e);const v=["get","getKey","getAll","getAllKeys","count"],b=["put","add","delete","clear"],x=new Map;function w(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(x.get(t))return x.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=b.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!v.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return x.set(t,s),s}f=(e=>({...e,get:(t,n,r)=>w(t,n)||e.get(t,n,r),has:(t,n)=>!!w(t,n)||e.has(t,n)}))(f);class _{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const k="@firebase/app",S="0.13.2",E=new i.Vy("@firebase/app"),T="@firebase/app-compat",C="@firebase/analytics-compat",N="@firebase/analytics",A="@firebase/app-check-compat",I="@firebase/app-check",D="@firebase/auth",P="@firebase/auth-compat",j="@firebase/database",R="@firebase/data-connect",O="@firebase/database-compat",M="@firebase/functions",L="@firebase/functions-compat",F="@firebase/installations",z="@firebase/installations-compat",V="@firebase/messaging",U="@firebase/messaging-compat",B="@firebase/performance",H="@firebase/performance-compat",$="@firebase/remote-config",W="@firebase/remote-config-compat",q="@firebase/storage",G="@firebase/storage-compat",K="@firebase/firestore",Q="@firebase/ai",J="@firebase/firestore-compat",Y="firebase",X="[DEFAULT]",Z={[k]:"fire-core",[T]:"fire-core-compat",[N]:"fire-analytics",[C]:"fire-analytics-compat",[I]:"fire-app-check",[A]:"fire-app-check-compat",[D]:"fire-auth",[P]:"fire-auth-compat",[j]:"fire-rtdb",[R]:"fire-data-connect",[O]:"fire-rtdb-compat",[M]:"fire-fn",[L]:"fire-fn-compat",[F]:"fire-iid",[z]:"fire-iid-compat",[V]:"fire-fcm",[U]:"fire-fcm-compat",[B]:"fire-perf",[H]:"fire-perf-compat",[$]:"fire-rc",[W]:"fire-rc-compat",[q]:"fire-gcs",[G]:"fire-gcs-compat",[K]:"fire-fst",[J]:"fire-fst-compat",[Q]:"fire-vertex","fire-js":"fire-js",[Y]:"fire-js-all"},ee=new Map,te=new Map,ne=new Map;function re(e,t){try{e.container.addComponent(t)}catch(n){E.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ie(e){const t=e.name;if(ne.has(t))return E.debug(`There were multiple attempts to register component ${t}.`),!1;ne.set(t,e);for(const n of ee.values())re(n,e);for(const n of te.values())re(n,e);return!0}function se(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ae(e){return null!==e&&void 0!==e&&void 0!==e.settings}const oe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},le=new s.FA("app","Firebase",oe);class ce{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw le.create("app-deleted",{appName:this._name})}}const ue="11.10.0";function he(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const i=Object.assign({name:X,automaticDataCollectionEnabled:!0},t),a=i.name;if("string"!==typeof a||!a)throw le.create("bad-app-name",{appName:String(a)});if(n||(n=(0,s.T9)()),!n)throw le.create("no-options");const o=ee.get(a);if(o){if((0,s.bD)(n,o.options)&&(0,s.bD)(i,o.config))return o;throw le.create("duplicate-app",{appName:a})}const l=new r.h1(a);for(const r of ne.values())l.addComponent(r);const c=new ce(n,i,l);return ee.set(a,c),c}function de(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X;const t=ee.get(e);if(!t&&e===X&&(0,s.T9)())return he();if(!t)throw le.create("no-app",{appName:e});return t}function fe(e,t,n){var i;let s=null!==(i=Z[e])&&void 0!==i?i:e;n&&(s+=`-${n}`);const a=s.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const e=[`Unable to register library "${s}" with version "${t}":`];return a&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void E.warn(e.join(" "))}ie(new r.uA(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const pe="firebase-heartbeat-store";let ge=null;function me(){return ge||(ge=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=m(a);return r&&a.addEventListener("upgradeneeded",e=>{r(m(a.result),e.oldVersion,e.newVersion,m(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(pe)}catch(n){console.warn(n)}}}).catch(e=>{throw le.create("idb-open",{originalErrorMessage:e.message})})),ge}async function ye(e,t){try{const n=(await me()).transaction(pe,"readwrite"),r=n.objectStore(pe);await r.put(t,ve(e)),await n.done}catch(n){if(n instanceof s.g)E.warn(n.message);else{const e=le.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});E.warn(e.message)}}}function ve(e){return`${e.name}!${e.options.appId}`}class be{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new we(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=xe();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){E.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=xe(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),_e(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_e(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=(0,s.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return E.warn(t),""}}}function xe(){return(new Date).toISOString().substring(0,10)}class we{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,s.zW)()&&(0,s.eX)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await me()).transaction(pe),n=await t.objectStore(pe).get(ve(e));return await t.done,n}catch(t){if(t instanceof s.g)E.warn(t.message);else{const e=le.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});E.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ye(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ye(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function _e(e){return(0,s.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var ke;ke="",ie(new r.uA("platform-logger",e=>new _(e),"PRIVATE")),ie(new r.uA("heartbeat",e=>new be(e),"PRIVATE")),fe(k,S,ke),fe(k,S,"esm2017"),fe("fire-js","")},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,g(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,_={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function S(e,t,r,i,s,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function N(){}function A(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case d:return A((u=e._init)(e._payload),t,i,s,a)}}if(u)return a=a(e),u=""===s?"."+C(e,0):s,w(a)?(i="",null!=u&&(i=u.replace(T,"$&/")+"/"),A(a,t,i,"",function(e){return e})):null!=a&&(E(a)&&(l=a,c=i+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+u,a=S(l.type,c,void 0,0,0,l.props)),t.push(a)),1;u=0;var h,p=""===s?".":s+":";if(w(e))for(var g=0;g<e.length;g++)u+=A(s=e[g],t,i,o=p+C(s,g),a);else if("function"===typeof(g=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=f&&h[f]||h["@@iterator"])?h:null))for(e=g.call(e),g=0;!(s=e.next()).done;)u+=A(s=s.value,t,i,o=p+C(s,g++),a);else if("object"===o){if("function"===typeof e.then)return A(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(N,N):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function I(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",function(e){return t.call(n,e,i++)}),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function j(){}t.Children={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return _.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!k.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var a=Array(s),o=0;o<s;o++)a[o]=arguments[o+2];r.children=a}return S(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)k.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return S(e,s,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.T,n={};_.T=n;try{var r=e(),i=_.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(j,P)}catch(s){P(s)}finally{_.T=t}},t.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},t.use=function(e){return _.H.use(e)},t.useActionState=function(e,t,n){return _.H.useActionState(e,t,n)},t.useCallback=function(e,t){return _.H.useCallback(e,t)},t.useContext=function(e){return _.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return _.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=_.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return _.H.useId()},t.useImperativeHandle=function(e,t,n){return _.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.H.useMemo(e,t)},t.useOptimistic=function(e,t){return _.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return _.H.useReducer(e,t,n)},t.useRef=function(e){return _.H.useRef(e)},t.useState=function(e){return _.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.H.useTransition()},t.version="19.1.0"},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},443:(e,t,n)=>{"use strict";n.d(t,{$b:()=>i,Vy:()=>c});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},a=i.INFO,o={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=o[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...s)};class c{constructor(e){this.name=e,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}},472:(e,t,n)=>{"use strict";n.d(t,{addDoc:()=>rc,rJ:()=>Yo,kd:()=>nc,H9:()=>Xo,GG:()=>ec,aU:()=>il,aQ:()=>ic,P:()=>zl,mZ:()=>tc,_M:()=>Ul});var r,i,s=n(150),a=n(812),o=n(443),l=n(529),c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},u={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function s(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var a={};function o(e){return-128<=e&&128>e?function(e,t){var n=a;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new s([0|e],0>e?-1:0)}):new s([0|e],0>e?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return c;if(0>e)return g(l(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new s(t,0)}var c=o(0),h=o(1),d=o(16777216);function f(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function p(e){return-1==e.h}function g(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new s(n,~e.h).add(h)}function m(e,t){return e.add(g(t))}function y(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function v(e,t){this.g=e,this.h=t}function b(e,t){if(f(t))throw Error("division by zero");if(f(e))return new v(c,c);if(p(e))return t=b(g(e),t),new v(g(t.g),g(t.h));if(p(t))return t=b(e,g(t)),new v(g(t.g),t.h);if(30<e.g.length){if(p(e)||p(t))throw Error("slowDivide_ only works with positive integers.");for(var n=h,r=t;0>=r.l(e);)n=x(n),r=x(r);var i=w(n,1),s=w(r,1);for(r=w(r,2),n=w(n,2);!f(r);){var a=s.add(r);0>=a.l(e)&&(i=i.add(n),s=a),r=w(r,1),n=w(n,1)}return t=m(e,i.j(t)),new v(i,t)}for(i=c;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(s=l(n)).j(t);p(a)||0<a.l(e);)a=(s=l(n-=r)).j(t);f(s)&&(s=h),i=i.add(s),e=m(e,a)}return new v(i,e)}function x(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new s(n,e.h)}function w(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new s(i,e.h)}(e=s.prototype).m=function(){if(p(this))return-g(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(f(this))return"0";if(p(this))return"-"+g(this).toString(e);for(var t=l(Math.pow(e,6)),n=this,r="";;){var i=b(n,t).g,s=((0<(n=m(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(f(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return p(e=m(this,e))?-1:f(e)?0:1},e.abs=function(){return p(this)?g(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.i(i))+(65535&e.i(i)),o=(a>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new s(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(f(this)||f(e))return c;if(p(this))return p(e)?g(this).j(g(e)):g(g(this).j(e));if(p(e))return g(this.j(g(e)));if(0>this.l(d)&&0>e.l(d))return l(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.i(r)>>>16,o=65535&this.i(r),u=e.i(i)>>>16,h=65535&e.i(i);n[2*r+2*i]+=o*h,y(n,2*r+2*i),n[2*r+2*i+1]+=a*h,y(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,y(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,y(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new s(n,0)},e.A=function(e){return b(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new s(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new s(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new s(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,i=u.Md5=t,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return g(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=l(Math.pow(n,8)),i=c,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),n);8>a?(a=l(Math.pow(n,a)),i=i.j(a).add(l(o))):i=(i=i.j(r)).add(l(o))}return i},r=u.Integer=s}).apply("undefined"!==typeof c?c:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var h,d,f,p,g,m,y,v,b="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},x={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof b&&b];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function w(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function _(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function k(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function S(e){return/^[\s\xa0]*$/.test(e)}function E(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function T(e){return T[" "](e),e}T[" "]=function(){};var C=-1!=E().indexOf("Gecko")&&!(-1!=E().toLowerCase().indexOf("webkit")&&-1==E().indexOf("Edge"))&&!(-1!=E().indexOf("Trident")||-1!=E().indexOf("MSIE"))&&-1==E().indexOf("Edge");function N(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function A(e){const t={};for(const n in e)t[n]=e[n];return t}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<I.length;t++)n=I[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function P(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function j(e){i.setTimeout(()=>{throw e},0)}function R(){var e=z;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var O=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new M,e=>e.reset());class M{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let L,F=!1,z=new class{constructor(){this.h=this.g=null}add(e,t){const n=O.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},V=()=>{const e=i.Promise.resolve(void 0);L=()=>{e.then(U)}};var U=()=>{for(var e;e=R();){try{e.h.call(e.g)}catch(n){j(n)}var t=O;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}F=!1};function B(){this.s=this.s,this.C=this.C}function H(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},H.prototype.h=function(){this.defaultPrevented=!0};var $=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function W(e,t){if(H.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(C){e:{try{T(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:q[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&W.aa.h.call(this)}}w(W,H);var q={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var G="closure_listenable_"+(1e6*Math.random()|0),K=0;function Q(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++K,this.da=this.fa=!1}function J(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Y(e){this.src=e,this.g={},this.h=0}function X(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(J(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Z(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}Y.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=Z(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new Q(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var ee="closure_lm_"+(1e6*Math.random()|0),te={};function ne(e,t,n,r,i){if(r&&r.once)return ie(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)ne(e,t[s],n,r,i);return null}return n=he(n),e&&e[G]?e.K(t,n,a(r)?!!r.capture:!!r,i):re(e,t,n,!1,r,i)}function re(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=ce(e);if(l||(e[ee]=l=new Y(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=le;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)$||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(oe(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ie(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)ie(e,t[s],n,r,i);return null}return n=he(n),e&&e[G]?e.L(t,n,a(r)?!!r.capture:!!r,i):re(e,t,n,!0,r,i)}function se(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)se(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=he(n),e&&e[G]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Z(s=e.g[t],n,r,i))&&(J(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=ce(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Z(t,n,r,i)),(n=-1<e?t[e]:null)&&ae(n))}function ae(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[G])X(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(oe(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ce(t))?(X(n,e),0==n.h&&(n.src=null,t[ee]=null)):J(e)}}}function oe(e){return e in te?te[e]:te[e]="on"+e}function le(e,t){if(e.da)e=!0;else{t=new W(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&ae(e),e=n.call(r,t)}return e}function ce(e){return(e=e[ee])instanceof Y?e:null}var ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function he(e){return"function"===typeof e?e:(e[ue]||(e[ue]=function(t){return e.handleEvent(t)}),e[ue])}function de(){B.call(this),this.i=new Y(this),this.M=this,this.F=null}function fe(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new H(t,e);else if(t instanceof H)t.target=t.target||e;else{var i=t;D(t=new H(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=pe(a,r,!0,t)&&i}if(i=pe(a=t.g=e,r,!0,t)&&i,i=pe(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=pe(a=t.g=n[s],r,!1,t)&&i}function pe(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&X(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function ge(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function me(e){e.g=ge(()=>{e.g=null,e.i&&(e.i=!1,me(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}w(de,B),de.prototype[G]=!0,de.prototype.removeEventListener=function(e,t,n,r){se(this,e,t,n,r)},de.prototype.N=function(){if(de.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)J(n[r]);delete t.g[e],t.h--}}this.F=null},de.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},de.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ye extends B{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:me(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ve(e){B.call(this),this.h=e,this.g={}}w(ve,B);var be=[];function xe(e){N(e.g,function(e,t){this.g.hasOwnProperty(t)&&ae(e)},e),e.g={}}ve.prototype.N=function(){ve.aa.N.call(this),xe(this)},ve.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var we=i.JSON.stringify,_e=i.JSON.parse,ke=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function Se(){}function Ee(e){return e.h||(e.h=e.i())}function Te(){}Se.prototype.h=null;var Ce={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ne(){H.call(this,"d")}function Ae(){H.call(this,"c")}w(Ne,H),w(Ae,H);var Ie={},De=null;function Pe(){return De=De||new de}function je(e){H.call(this,Ie.La,e)}function Re(e){const t=Pe();fe(t,new je(t))}function Oe(e,t){H.call(this,Ie.STAT_EVENT,e),this.stat=t}function Me(e){const t=Pe();fe(t,new Oe(t,e))}function Le(e,t){H.call(this,Ie.Ma,e),this.size=t}function Fe(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function ze(){this.g=!0}function Ve(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return we(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}Ie.La="serverreachability",w(je,H),Ie.STAT_EVENT="statevent",w(Oe,H),Ie.Ma="timingevent",w(Le,H),ze.prototype.xa=function(){this.g=!1},ze.prototype.info=function(){};var Ue,Be={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},He={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function $e(){}function We(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new ve(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qe}function qe(){this.i=null,this.g="",this.h=!1}w($e,Se),$e.prototype.g=function(){return new XMLHttpRequest},$e.prototype.i=function(){return{}},Ue=new $e;var Ge={},Ke={};function Qe(e,t,n){e.L=1,e.v=wt(mt(t)),e.m=n,e.P=!0,Je(e,null)}function Je(e,t){e.F=Date.now(),Ze(e),e.A=mt(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Ot(n.i,"t",r),e.C=0,n=e.j.J,e.h=new qe,e.g=kn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ye(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(be[0]=i.toString()),i=be);for(var s=0;s<i.length;s++){var a=ne(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?A(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Re(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ye(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Xe(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ke:(n=Number(t.substring(n,r)),isNaN(n)?Ge:(r+=1)+n>t.length?Ke:(t=t.slice(r,r+n),e.C=r+n,t))}function Ze(e){e.S=Date.now()+e.I,et(e,e.I)}function et(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Fe(c(e.ba,e),t)}function tt(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function nt(e){0==e.j.G||e.J||vn(e.j,e)}function rt(e){tt(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,xe(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function it(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||ct(n.h,e)))if(!e.K&&ct(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;yn(n),on(n)}pn(n),Me(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Fe(c(n.Za,n),6e3));if(1>=lt(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else xn(n,11)}else if((e.K||n.g==e)&&yn(n),!S(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ut(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,xt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=_n(r,r.J?r.ia:null,r.W),a.K){ht(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(tt(o),Ze(o)),r.g=a}else fn(r);0<n.i.length&&cn(n)}else"stop"!=c[0]&&"close"!=c[0]||xn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?xn(n,7):an(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Re()}catch(u){}}We.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==tn(e)?t.j():this.Y(e)},We.prototype.Y=function(e){try{if(e==this.g)e:{const d=tn(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||nn(this.g)))){this.J||4!=d||7==t||Re(),tt(this);var n=this.g.Z();this.X=n;t:if(Ye(this)){var r=nn(this.g);e="";var s=r.length,a=4==tn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){rt(this),nt(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Me(12),rt(this),nt(this);break e}Ve(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,it(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Xe(this,o),e==Ke){4==d&&(this.s=4,Me(14),n=!1),Ve(this.i,this.l,null,"[Incomplete Response]");break}if(e==Ge){this.s=4,Me(15),Ve(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ve(this.i,this.l,e,null),it(this,e)}if(Ye(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=o.length||this.h.h||(this.s=1,Me(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),gn(h),h.M=!0,Me(11))}}else Ve(this.i,this.l,o,"[Invalid Chunked Response]"),rt(this),nt(this)}else Ve(this.i,this.l,o,null),it(this,o);4==d&&rt(this),this.o&&!this.J&&(4==d?vn(this.j,this):(this.o=!1,Ze(this)))}else(function(e){const t={};e=(e.g&&2<=tn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(S(e[r]))continue;var n=P(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Me(12)):(this.s=0,Me(13)),rt(this),nt(this)}}}catch(d){}},We.prototype.cancel=function(){this.J=!0,rt(this)},We.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Re(),Me(17)),rt(this),this.s=2,nt(this)):et(this,this.S-e)};var st=class{constructor(e,t){this.g=e,this.map=t}};function at(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ot(e){return!!e.h||!!e.g&&e.g.size>=e.j}function lt(e){return e.h?1:e.g?e.g.size:0}function ct(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ut(e,t){e.g?e.g.add(t):e.h=t}function ht(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function dt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return _(e.i)}function ft(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}at.prototype.cancel=function(){if(this.i=dt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var pt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof gt){this.h=e.h,yt(this,e.j),this.o=e.o,this.g=e.g,vt(this,e.s),this.l=e.l;var t=e.i,n=new Dt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),bt(this,n),this.m=e.m}else e&&(t=String(e).match(pt))?(this.h=!1,yt(this,t[1]||"",!0),this.o=_t(t[2]||""),this.g=_t(t[3]||"",!0),vt(this,t[4]),this.l=_t(t[5]||"",!0),bt(this,t[6]||"",!0),this.m=_t(t[7]||"")):(this.h=!1,this.i=new Dt(null,this.h))}function mt(e){return new gt(e)}function yt(e,t,n){e.j=n?_t(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function vt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function bt(e,t,n){t instanceof Dt?(e.i=t,function(e,t){t&&!e.j&&(Pt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(jt(this,t),Ot(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=kt(t,At)),e.i=new Dt(t,e.h))}function xt(e,t,n){e.i.set(t,n)}function wt(e){return xt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function _t(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function kt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,St),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function St(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}gt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(kt(t,Tt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(kt(t,Tt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(kt(n,"/"==n.charAt(0)?Nt:Ct,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",kt(n,It)),e.join("")};var Et,Tt=/[#\/\?@]/g,Ct=/[#\?:]/g,Nt=/[#\?]/g,At=/[#\?@]/g,It=/#/g;function Dt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Pt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function jt(e,t){Pt(e),t=Mt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Rt(e,t){return Pt(e),t=Mt(e,t),e.g.has(t)}function Ot(e,t,n){jt(e,t),0<n.length&&(e.i=null,e.g.set(Mt(e,t),_(n)),e.h+=n.length)}function Mt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Lt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Ft(){this.g=new ke}function zt(e,t,n){const r=n||"";try{ft(e,function(e,n){let i=e;a(e)&&(i=we(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Vt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Ut(e,t){de.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Bt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ht(e){e.readyState=4,e.l=null,e.j=null,e.v=null,$t(e)}function $t(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Wt(e){let t="";return N(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function qt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Wt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):xt(e,t,n))}function Gt(e){de.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Dt.prototype).add=function(e,t){Pt(this),this.i=null,e=Mt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Pt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){Pt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Pt(this);let t=[];if("string"===typeof e)Rt(this,e)&&(t=t.concat(this.g.get(Mt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Pt(this),this.i=null,Rt(this,e=Mt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},w(Vt,Se),Vt.prototype.g=function(){return new Ut(this.l,this.j)},Vt.prototype.i=(Et={},function(){return Et}),w(Ut,de),(e=Ut.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,$t(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ht(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,$t(this)),this.g&&(this.readyState=3,$t(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ht(this):$t(this),3==this.readyState&&Bt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ht(this))},e.Qa=function(e){this.g&&(this.response=e,Ht(this))},e.ga=function(){this.g&&Ht(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ut.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),w(Gt,de);var Kt=/^https?$/i,Qt=["POST","PUT"];function Jt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Yt(e),Zt(e)}function Yt(e){e.A||(e.A=!0,fe(e,"complete"),fe(e,"error"))}function Xt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=tn(e)||2!=e.Z()))if(e.u&&4==tn(e))ge(e.Ea,0,e);else if(fe(e,"readystatechange"),4==tn(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(pt)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!Kt.test(a?a.toLowerCase():"")}n=s}if(n)fe(e,"complete"),fe(e,"success");else{e.m=6;try{var o=2<tn(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Yt(e)}}finally{Zt(e)}}}function Zt(e,t){if(e.g){en(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||fe(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function en(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function tn(e){return e.g?e.g.readyState:0}function nn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function rn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function sn(e){this.Aa=0,this.i=[],this.j=new ze,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rn("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rn("baseRetryDelayMs",5e3,e),this.cb=rn("retryDelaySeedMs",1e4,e),this.Wa=rn("forwardChannelMaxRetries",2,e),this.wa=rn("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new at(e&&e.concurrentRequestLimit),this.Da=new Ft,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function an(e){if(ln(e),3==e.G){var t=e.U++,n=mt(e.I);if(xt(n,"SID",e.K),xt(n,"RID",t),xt(n,"TYPE","terminate"),hn(e,n),(t=new We(e,e.j,t)).L=2,t.v=wt(mt(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=kn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ze(t)}wn(e)}function on(e){e.g&&(gn(e),e.g.cancel(),e.g=null)}function ln(e){on(e),e.u&&(i.clearTimeout(e.u),e.u=null),yn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function cn(e){if(!ot(e.h)&&!e.s){e.s=!0;var t=e.Ga;L||V(),F||(L(),F=!0),z.add(t,e),e.B=0}}function un(e,t){var n;n=t?t.l:e.U++;const r=mt(e.I);xt(r,"SID",e.K),xt(r,"RID",n),xt(r,"AID",e.T),hn(e,r),e.m&&e.o&&qt(r,e.m,e.o),n=new We(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=dn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),ut(e.h,n),Qe(n,r,t)}function hn(e,t){e.H&&N(e.H,function(e,n){xt(t,n,e)}),e.l&&ft({},function(e,n){xt(t,n,e)})}function dn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),a=!1;else try{zt(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function fn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;L||V(),F||(L(),F=!0),z.add(t,e),e.v=0}}function pn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Fe(c(e.Fa,e),bn(e,e.v)),e.v++,!0)}function gn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function mn(e){e.g=new We(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=mt(e.qa);xt(t,"RID","rpc"),xt(t,"SID",e.K),xt(t,"AID",e.T),xt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&xt(t,"TO",e.ja),xt(t,"TYPE","xmlhttp"),hn(e,t),e.m&&e.o&&qt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=wt(mt(t)),n.m=null,n.P=!0,Je(n,e)}function yn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function vn(e,t){var n=null;if(e.g==t){yn(e),gn(e),e.g=null;var r=2}else{if(!ct(e.h,t))return;n=t.D,ht(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;fe(r=Pe(),new Le(r,n)),cn(e)}else fn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(lt(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Fe(c(e.Ga,e,t),bn(e,e.B)),e.B++,!0))}(e,t)||2==r&&pn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:xn(e,5);break;case 4:xn(e,10);break;case 3:xn(e,6);break;default:xn(e,2)}}function bn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function xn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new gt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||yt(r,"https"),wt(r),t?function(e,t){const n=new ze;if(i.Image){const r=new Image;r.onload=u(Lt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Lt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Lt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Lt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new ze;const n=new AbortController,r=setTimeout(()=>{n.abort(),Lt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Lt(0,0,!0,t):Lt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Lt(0,0,!1,t)})}(r.toString(),n)}else Me(2);e.G=0,e.l&&e.l.sa(t),wn(e),ln(e)}function wn(e){if(e.G=0,e.ka=[],e.l){const t=dt(e.h);0==t.length&&0==e.i.length||(k(e.ka,t),k(e.ka,e.i),e.h.i.length=0,_(e.i),e.i.length=0),e.l.ra()}}function _n(e,t,n){var r=n instanceof gt?mt(n):new gt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),vt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new gt(null);r&&yt(a,r),t&&(a.g=t),s&&vt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&xt(r,n,t),xt(r,"VER",e.la),hn(e,r),r}function kn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Gt(new Vt({eb:n})):new Gt(e.pa)).Ha(e.J),t}function Sn(){}function En(){}function Tn(e,t){de.call(this),this.g=new sn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!S(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!S(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new An(this)}function Cn(e){Ne.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Nn(){Ae.call(this),this.status=1}function An(e){this.g=e}(e=Gt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ue.g(),this.v=this.o?Ee(this.o):Ee(Ue),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Jt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Qt,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{en(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Jt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,fe(this,"complete"),fe(this,"abort"),Zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),Gt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Xt(this):this.bb())},e.bb=function(){Xt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<tn(this)?this.g.status:-1}catch(Et){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(Et){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),_e(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=sn.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Me(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=_n(this,null,this.W),cn(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new We(this,this.j,e);let s=this.o;if(this.S&&(s?(s=A(s),D(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=dn(this,i,t),xt(n=mt(this.I),"RID",e),xt(n,"CVER",22),this.D&&xt(n,"X-HTTP-Session-Id",this.D),hn(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Wt(s)))+"&"+t:this.m&&qt(n,this.m,s)),ut(this.h,i),this.Ua&&xt(n,"TYPE","init"),this.P?(xt(n,"$req",t),xt(n,"SID","null"),i.T=!0,Qe(i,n,null)):Qe(i,n,t),this.G=2}}else 3==this.G&&(e?un(this,e):0==this.i.length||ot(this.h)||un(this))},e.Fa=function(){if(this.u=null,mn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Fe(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Me(10),on(this),mn(this))},e.Za=function(){null!=this.C&&(this.C=null,on(this),pn(this),Me(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Me(2)):(this.j.info("Failed to ping google.com"),Me(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=Sn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},En.prototype.g=function(e,t){return new Tn(e,t)},w(Tn,de),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){an(this.g)},Tn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=we(e),e=n);t.i.push(new st(t.Ya++,e)),3==t.G&&cn(t)},Tn.prototype.N=function(){this.g.l=null,delete this.j,an(this.g),delete this.g,Tn.aa.N.call(this)},w(Cn,Ne),w(Nn,Ae),w(An,Sn),An.prototype.ua=function(){fe(this.g,"a")},An.prototype.ta=function(e){fe(this.g,new Cn(e))},An.prototype.sa=function(e){fe(this.g,new Nn)},An.prototype.ra=function(){fe(this.g,"b")},En.prototype.createWebChannel=En.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,v=x.createWebChannelTransport=function(){return new En},y=x.getStatEventTarget=function(){return Pe()},m=x.Event=Ie,g=x.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Be.NO_ERROR=0,Be.TIMEOUT=8,Be.HTTP_ERROR=6,p=x.ErrorCode=Be,He.COMPLETE="complete",f=x.EventType=He,Te.EventType=Ce,Ce.OPEN="a",Ce.CLOSE="b",Ce.ERROR="c",Ce.MESSAGE="d",de.prototype.listen=de.prototype.K,d=x.WebChannel=Te,x.FetchXmlHttpFactory=Vt,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,h=x.XhrIo=Gt}).apply("undefined"!==typeof b?b:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const w="@firebase/firestore",_="4.8.0";class k{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}k.UNAUTHENTICATED=new k(null),k.GOOGLE_CREDENTIALS=new k("google-credentials-uid"),k.FIRST_PARTY=new k("first-party-uid"),k.MOCK_USER=new k("mock-user");let S="11.10.0";const E=new o.Vy("@firebase/firestore");function T(){return E.logLevel}function C(e){if(E.logLevel<=o.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(I);E.debug(`Firestore (${S}): ${e}`,...i)}}function N(e){if(E.logLevel<=o.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(I);E.error(`Firestore (${S}): ${e}`,...i)}}function A(e){if(E.logLevel<=o.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(I);E.warn(`Firestore (${S}): ${e}`,...i)}}function I(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function D(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,P(e,r,n)}function P(e,t,n){let r=`FIRESTORE (${S}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw N(r),new Error(r)}function j(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||P(t,i,r)}function R(e,t){return e}const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends l.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class L{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class F{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(k.UNAUTHENTICATED))}shutdown(){}}class V{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class U{constructor(e){this.t=e,this.currentUser=k.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){j(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new L;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new L,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{C("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(C("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new L)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(j("string"==typeof t.accessToken,31837,{l:t}),new F(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return j(null===e||"string"==typeof e,2055,{h:e}),new k(e)}}class B{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=k.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class H{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new B(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(k.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,s.xZ)(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){j(void 0===this.o,3512);const n=e=>{null!=e.error&&C("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,C("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{C("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new $(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(j("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new $(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function q(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function G(){return new TextEncoder}class K{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=q(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Q(e,t){return e<t?-1:e>t?1:0}function J(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return Q(r,i);{const s=G(),a=X(s.encode(Y(e,n)),s.encode(Y(t,n)));return 0!==a?a:Q(r,i)}}n+=r>65535?2:1}return Q(e.length,t.length)}function Y(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function X(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Q(e[n],t[n]);return Q(e.length,t.length)}function Z(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const ee="__name__";class te{constructor(e,t,n){void 0===t?t=0:t>e.length&&D(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&D(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===te.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof te?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=te.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Q(e.length,t.length)}static compareSegments(e,t){const n=te.isNumericId(e),r=te.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?te.extractNumericId(e).compare(te.extractNumericId(t)):J(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return r.fromString(e.substring(4,e.length-2))}}class ne extends te{construct(e,t,n){return new ne(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new M(O.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(e=>e.length>0))}return new ne(e)}static emptyPath(){return new ne([])}}const re=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ie extends te{construct(e,t,n){return new ie(e,t,n)}static isValidIdentifier(e){return re.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ie.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===ee}static keyField(){return new ie([ee])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new M(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new M(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new M(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new M(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ie(t)}static emptyPath(){return new ie([])}}class se{constructor(e){this.path=e}static fromPath(e){return new se(ne.fromString(e))}static fromName(e){return new se(ne.fromString(e).popFirst(5))}static empty(){return new se(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ne.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ne.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new ne(e.slice()))}}function ae(e,t,n){if(!n)throw new M(O.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function oe(e){if(!se.isDocumentKey(e))throw new M(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function le(e){if(se.isDocumentKey(e))throw new M(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ce(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function ue(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":D(12329,{type:typeof e})}function he(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new M(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ue(e);throw new M(O.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function de(e,t){const n={typeString:e};return t&&(n.value=t),n}function fe(e,t){if(!ce(e))throw new M(O.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const a=e[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(void 0!==s&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new M(O.INVALID_ARGUMENT,n);return!0}const pe=-62135596800,ge=1e6;class me{static now(){return me.fromMillis(Date.now())}static fromDate(e){return me.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*ge);return new me(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new M(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new M(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<pe)throw new M(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ge}_compareTo(e){return this.seconds===e.seconds?Q(this.nanoseconds,e.nanoseconds):Q(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fe(e,me._jsonSchema))return new me(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-pe;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}me._jsonSchemaVersion="firestore/timestamp/1.0",me._jsonSchema={type:de("string",me._jsonSchemaVersion),seconds:de("number"),nanoseconds:de("number")};class ye{static fromTimestamp(e){return new ye(e)}static min(){return new ye(new me(0,0))}static max(){return new ye(new me(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ve=-1;class be{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}be.UNKNOWN_ID=-1;function xe(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ye.fromTimestamp(1e9===r?new me(n+1,0):new me(n,r));return new _e(i,se.empty(),t)}function we(e){return new _e(e.readTime,e.key,ve)}class _e{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new _e(ye.min(),se.empty(),ve)}static max(){return new _e(ye.max(),se.empty(),ve)}}function ke(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=se.comparator(e.documentKey,t.documentKey),0!==n?n:Q(e.largestBatchId,t.largestBatchId))}const Se="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ee{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Te(e){if(e.code!==O.FAILED_PRECONDITION||e.message!==Se)throw e;C("LocalStore","Unexpectedly lost primary lease")}class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&D(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ce((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ce?t:Ce.resolve(t)}catch(e){return Ce.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.reject(t)}static resolve(e){return new Ce((t,n)=>{t(e)})}static reject(e){return new Ce((t,n)=>{n(e)})}static waitFor(e){return new Ce((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=Ce.resolve(!1);for(const n of e)t=t.next(e=>e?Ce.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Ce((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new Ce((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Ne(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ae(e){return"IndexedDbTransactionError"===e.name}class Ie{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this._e(e),this.ae=e=>t.writeSequenceNumber(e))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Ie.ue=-1;const De=-1;function Pe(e){return null==e}function je(e){return 0===e&&1/e==-1/0}function Re(e){return"number"==typeof e&&Number.isInteger(e)&&!je(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Oe="\x01";function Me(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Fe(t)),t=Le(e.get(n),t);return Fe(t)}function Le(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Oe:n+="\x01\x11";break;default:n+=t}}return n}function Fe(e){return e+Oe+"\x01"}const ze="remoteDocuments",Ve="owner",Ue="mutationQueues",Be="mutations";const He="documentMutations",$e="remoteDocumentsV14",We="remoteDocumentGlobal",qe="targets",Ge="targetDocuments",Ke="targetGlobal",Qe="collectionParents",Je="clientMetadata",Ye="bundles",Xe="namedQueries",Ze="indexConfiguration",et="indexState",tt="indexEntries",nt="documentOverlays",rt="globals",it=[Ue,Be,He,ze,qe,Ve,Ke,Ge,Je,We,Qe,Ye,Xe],st=[Ue,Be,He,$e,qe,Ve,Ke,Ge,Je,We,Qe,Ye,Xe,nt],at=st,ot=[...at,Ze,et,tt];function lt(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ct(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ut(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ht{constructor(e,t){this.comparator=e,this.root=t||ft.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ft.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ft.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dt(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dt(this.root,e,this.comparator,!1)}getReverseIterator(){return new dt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dt(this.root,e,this.comparator,!0)}}class dt{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ft{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ft.RED,this.left=null!=r?r:ft.EMPTY,this.right=null!=i?i:ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ft(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ft.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw D(43730,{key:this.key,value:this.value});if(this.right.isRed())throw D(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw D(27949);return e+(this.isRed()?0:1)}}ft.EMPTY=null,ft.RED=!0,ft.BLACK=!1,ft.EMPTY=new class{constructor(){this.size=0}get key(){throw D(57766)}get value(){throw D(16141)}get color(){throw D(16727)}get left(){throw D(29726)}get right(){throw D(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new ft(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gt(this.data.getIterator())}getIteratorFrom(e){return new gt(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof pt))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new pt(this.comparator);return t.data=e,t}}class gt{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class mt{constructor(e){this.fields=e,e.sort(ie.comparator)}static empty(){return new mt([])}unionWith(e){let t=new pt(ie.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new mt(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Z(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class yt extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new yt("Invalid base64 string: "+e):e}}(e);return new vt(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vt.EMPTY_BYTE_STRING=new vt("");const bt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xt(e){if(j(!!e,39018),"string"==typeof e){let t=0;const n=bt.exec(e);if(j(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:wt(e.seconds),nanos:wt(e.nanos)}}function wt(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function _t(e){return"string"==typeof e?vt.fromBase64String(e):vt.fromUint8Array(e)}const kt="server_timestamp",St="__type__",Et="__previous_value__",Tt="__local_write_time__";function Ct(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[St])||void 0===n?void 0:n.stringValue)===kt}function Nt(e){const t=e.mapValue.fields[Et];return Ct(t)?Nt(t):t}function At(e){const t=xt(e.mapValue.fields[Tt].timestampValue);return new me(t.seconds,t.nanos)}class It{constructor(e,t,n,r,i,s,a,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const Dt="(default)";class Pt{constructor(e,t){this.projectId=e,this.database=t||Dt}static empty(){return new Pt("","")}get isDefaultDatabase(){return this.database===Dt}isEqual(e){return e instanceof Pt&&e.projectId===this.projectId&&e.database===this.database}}const jt="__type__",Rt="__max__",Ot={mapValue:{fields:{__type__:{stringValue:Rt}}}},Mt="__vector__",Lt="value";function Ft(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ct(e)?4:tn(e)?9007199254740991:Zt(e)?10:11:D(28295,{value:e})}function zt(e,t){if(e===t)return!0;const n=Ft(e);if(n!==Ft(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return At(e).isEqual(At(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=xt(e.timestampValue),r=xt(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return _t(e.bytesValue).isEqual(_t(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return wt(e.geoPointValue.latitude)===wt(t.geoPointValue.latitude)&&wt(e.geoPointValue.longitude)===wt(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return wt(e.integerValue)===wt(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=wt(e.doubleValue),r=wt(t.doubleValue);return n===r?je(n)===je(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Z(e.arrayValue.values||[],t.arrayValue.values||[],zt);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(lt(n)!==lt(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!zt(n[i],r[i])))return!1;return!0}(e,t);default:return D(52216,{left:e})}}function Vt(e,t){return void 0!==(e.values||[]).find(e=>zt(e,t))}function Ut(e,t){if(e===t)return 0;const n=Ft(e),r=Ft(t);if(n!==r)return Q(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Q(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=wt(e.integerValue||e.doubleValue),r=wt(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Bt(e.timestampValue,t.timestampValue);case 4:return Bt(At(e),At(t));case 5:return J(e.stringValue,t.stringValue);case 6:return function(e,t){const n=_t(e),r=_t(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Q(n[i],r[i]);if(0!==e)return e}return Q(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Q(wt(e.latitude),wt(t.latitude));return 0!==n?n:Q(wt(e.longitude),wt(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ht(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a[Lt])||void 0===n?void 0:n.arrayValue,c=null===(r=o[Lt])||void 0===r?void 0:r.arrayValue,u=Q((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:Ht(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Ot.mapValue&&t===Ot.mapValue)return 0;if(e===Ot.mapValue)return 1;if(t===Ot.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=J(r[a],s[a]);if(0!==e)return e;const t=Ut(n[r[a]],i[s[a]]);if(0!==t)return t}return Q(r.length,s.length)}(e.mapValue,t.mapValue);default:throw D(23264,{le:n})}}function Bt(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Q(e,t);const n=xt(e),r=xt(t),i=Q(n.seconds,r.seconds);return 0!==i?i:Q(n.nanos,r.nanos)}function Ht(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Ut(n[i],r[i]);if(e)return e}return Q(n.length,r.length)}function $t(e){return Wt(e)}function Wt(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=xt(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return _t(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return se.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Wt(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Wt(e.fields[i])}`;return n+"}"}(e.mapValue):D(61005,{value:e})}function qt(e){switch(Ft(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Nt(e);return t?16+qt(t):16;case 5:return 2*e.stringValue.length;case 6:return _t(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+qt(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return ct(e.fields,(e,n)=>{t+=e.length+qt(n)}),t}(e.mapValue);default:throw D(13486,{value:e})}}function Gt(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Kt(e){return!!e&&"integerValue"in e}function Qt(e){return!!e&&"arrayValue"in e}function Jt(e){return!!e&&"nullValue"in e}function Yt(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Xt(e){return!!e&&"mapValue"in e}function Zt(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[jt])||void 0===n?void 0:n.stringValue)===Mt}function en(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ct(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=en(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=en(e.arrayValue.values[n]);return t}return Object.assign({},e)}function tn(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Rt}class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Xt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=en(t)}setAll(e){let t=ie.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=en(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Xt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Xt(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ct(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new nn(en(this.value))}}function rn(e){const t=[];return ct(e.fields,(e,n)=>{const r=new ie([e]);if(Xt(n)){const e=rn(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new mt(t)}class sn{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new sn(e,0,ye.min(),ye.min(),ye.min(),nn.empty(),0)}static newFoundDocument(e,t,n,r){return new sn(e,1,t,ye.min(),n,r,0)}static newNoDocument(e,t){return new sn(e,2,t,ye.min(),ye.min(),nn.empty(),0)}static newUnknownDocument(e,t){return new sn(e,3,t,ye.min(),ye.min(),nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ye.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class an{constructor(e,t){this.position=e,this.inclusive=t}}function on(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?se.comparator(se.fromName(a.referenceValue),n.key):Ut(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function ln(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!zt(e.position[n],t.position[n]))return!1;return!0}class cn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function un(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class hn{}class dn extends hn{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new xn(e,t,n):"array-contains"===t?new Sn(e,n):"in"===t?new En(e,n):"not-in"===t?new Tn(e,n):"array-contains-any"===t?new Cn(e,n):new dn(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new wn(e,n):new _n(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Ut(t,this.value)):null!==t&&Ft(this.value)===Ft(t)&&this.matchesComparison(Ut(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return D(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fn extends hn{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new fn(e,t)}matches(e){return pn(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.he||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function pn(e){return"and"===e.op}function gn(e){return mn(e)&&pn(e)}function mn(e){for(const t of e.filters)if(t instanceof fn)return!1;return!0}function yn(e){if(e instanceof dn)return e.field.canonicalString()+e.op.toString()+$t(e.value);if(gn(e))return e.filters.map(e=>yn(e)).join(",");{const t=e.filters.map(e=>yn(e)).join(",");return`${e.op}(${t})`}}function vn(e,t){return e instanceof dn?function(e,t){return t instanceof dn&&e.op===t.op&&e.field.isEqual(t.field)&&zt(e.value,t.value)}(e,t):e instanceof fn?function(e,t){return t instanceof fn&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&vn(n,t.filters[r]),!0)}(e,t):void D(19439)}function bn(e){return e instanceof dn?function(e){return`${e.field.canonicalString()} ${e.op} ${$t(e.value)}`}(e):e instanceof fn?function(e){return e.op.toString()+" {"+e.getFilters().map(bn).join(" ,")+"}"}(e):"Filter"}class xn extends dn{constructor(e,t,n){super(e,t,n),this.key=se.fromName(n.referenceValue)}matches(e){const t=se.comparator(e.key,this.key);return this.matchesComparison(t)}}class wn extends dn{constructor(e,t){super(e,"in",t),this.keys=kn("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class _n extends dn{constructor(e,t){super(e,"not-in",t),this.keys=kn("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function kn(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>se.fromName(e.referenceValue))}class Sn extends dn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qt(t)&&Vt(t.arrayValue,this.value)}}class En extends dn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Vt(this.value.arrayValue,t)}}class Tn extends dn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Vt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Vt(this.value.arrayValue,t)}}class Cn extends dn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qt(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Vt(this.value.arrayValue,e))}}class Nn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.Pe=null}}function An(e){return new Nn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function In(e){const t=R(e);if(null===t.Pe){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>yn(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Pe(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>$t(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>$t(e)).join(",")),t.Pe=e}return t.Pe}function Dn(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!un(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!vn(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ln(e.startAt,t.startAt)&&ln(e.endAt,t.endAt)}function Pn(e){return se.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class jn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Rn(e,t,n,r,i,s,a,o){return new jn(e,t,n,r,i,s,a,o)}function On(e){return new jn(e)}function Mn(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ln(e){return null!==e.collectionGroup}function Fn(e){const t=R(e);if(null===t.Te){t.Te=[];const e=new Set;for(const i of t.explicitOrderBy)t.Te.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new pt(ie.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Te.push(new cn(r,n))}),e.has(ie.keyField().canonicalString())||t.Te.push(new cn(ie.keyField(),n))}return t.Te}function zn(e){const t=R(e);return t.Ie||(t.Ie=Vn(t,Fn(e))),t.Ie}function Vn(e,t){if("F"===e.limitType)return An(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new cn(e.field,t)});const n=e.endAt?new an(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new an(e.startAt.position,e.startAt.inclusive):null;return An(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Un(e,t){const n=e.filters.concat([t]);return new jn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Bn(e,t,n){return new jn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Hn(e,t){return Dn(zn(e),zn(t))&&e.limitType===t.limitType}function $n(e){return`${In(zn(e))}|lt:${e.limitType}`}function Wn(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>bn(e)).join(", ")}]`),Pe(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>$t(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>$t(e)).join(",")),`Target(${t})`}(zn(e))}; limitType=${e.limitType})`}function qn(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):se.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Fn(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=on(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Fn(e),t))&&!(e.endAt&&!function(e,t,n){const r=on(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Fn(e),t))}(e,t)}function Gn(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Kn(e){return(t,n)=>{let r=!1;for(const i of Fn(e)){const e=Qn(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Qn(e,t,n){const r=e.field.isKeyField()?se.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ut(r,i):D(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return D(19790,{direction:e.dir})}}class Jn{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ct(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return ut(this.inner)}size(){return this.innerSize}}const Yn=new ht(se.comparator);function Xn(){return Yn}const Zn=new ht(se.comparator);function er(){let e=Zn;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function tr(e){let t=Zn;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function nr(){return ir()}function rr(){return ir()}function ir(){return new Jn(e=>e.toString(),(e,t)=>e.isEqual(t))}const sr=new ht(se.comparator),ar=new pt(se.comparator);function or(){let e=ar;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const lr=new pt(Q);function cr(){return lr}function ur(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:je(t)?"-0":t}}function hr(e){return{integerValue:""+e}}function dr(e,t){return Re(t)?hr(t):ur(e,t)}class fr{constructor(){this._=void 0}}function pr(e,t,n){return e instanceof yr?function(e,t){const n={fields:{[St]:{stringValue:kt},[Tt]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ct(t)&&(t=Nt(t)),t&&(n.fields[Et]=t),{mapValue:n}}(n,t):e instanceof vr?br(e,t):e instanceof xr?wr(e,t):function(e,t){const n=mr(e,t),r=kr(n)+kr(e.Ee);return Kt(n)&&Kt(e.Ee)?hr(r):ur(e.serializer,r)}(e,t)}function gr(e,t,n){return e instanceof vr?br(e,t):e instanceof xr?wr(e,t):n}function mr(e,t){return e instanceof _r?function(e){return Kt(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class yr extends fr{}class vr extends fr{constructor(e){super(),this.elements=e}}function br(e,t){const n=Sr(t);for(const r of e.elements)n.some(e=>zt(e,r))||n.push(r);return{arrayValue:{values:n}}}class xr extends fr{constructor(e){super(),this.elements=e}}function wr(e,t){let n=Sr(t);for(const r of e.elements)n=n.filter(e=>!zt(e,r));return{arrayValue:{values:n}}}class _r extends fr{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function kr(e){return wt(e.integerValue||e.doubleValue)}function Sr(e){return Qt(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Er{constructor(e,t){this.version=e,this.transformResults=t}}class Tr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Tr}static exists(e){return new Tr(void 0,e)}static updateTime(e){return new Tr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cr(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Nr{}function Ar(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new zr(e.key,Tr.none()):new Rr(e.key,e.data,Tr.none());{const n=e.data,r=nn.empty();let i=new pt(ie.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Or(e.key,r,new mt(i.toArray()),Tr.none())}}function Ir(e,t,n){e instanceof Rr?function(e,t,n){const r=e.value.clone(),i=Lr(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Or?function(e,t,n){if(!Cr(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Lr(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Mr(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Dr(e,t,n,r){return e instanceof Rr?function(e,t,n,r){if(!Cr(e.precondition,t))return n;const i=e.value.clone(),s=Fr(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Or?function(e,t,n,r){if(!Cr(e.precondition,t))return n;const i=Fr(e.fieldTransforms,r,t),s=t.data;return s.setAll(Mr(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Cr(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Pr(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=mr(r.transform,e||null);null!=i&&(null===n&&(n=nn.empty()),n.set(r.field,i))}return n||null}function jr(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Z(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof vr&&t instanceof vr||e instanceof xr&&t instanceof xr?Z(e.elements,t.elements,zt):e instanceof _r&&t instanceof _r?zt(e.Ee,t.Ee):e instanceof yr&&t instanceof yr}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Rr extends Nr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Or extends Nr{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Mr(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Lr(e,t,n){const r=new Map;j(e.length===n.length,32656,{Ae:n.length,Re:e.length});for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,gr(a,o,n[i]))}return r}function Fr(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,pr(e,s,t))}return r}class zr extends Nr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vr extends Nr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ur{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Ir(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Dr(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Dr(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=rr();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=Ar(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(ye.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),or())}isEqual(e){return this.batchId===e.batchId&&Z(this.mutations,e.mutations,(e,t)=>jr(e,t))&&Z(this.baseMutations,e.baseMutations,(e,t)=>jr(e,t))}}class Br{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){j(e.mutations.length===n.length,58842,{Ve:e.mutations.length,me:n.length});let r=sr;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Br(e,t,n,r)}}class Hr{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class $r{constructor(e,t){this.count=e,this.unchangedNames=t}}var Wr,qr;function Gr(e){switch(e){case O.OK:return D(64938);case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return D(15467,{code:e})}}function Kr(e){if(void 0===e)return N("GRPC error has no .code"),O.UNKNOWN;switch(e){case Wr.OK:return O.OK;case Wr.CANCELLED:return O.CANCELLED;case Wr.UNKNOWN:return O.UNKNOWN;case Wr.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Wr.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Wr.INTERNAL:return O.INTERNAL;case Wr.UNAVAILABLE:return O.UNAVAILABLE;case Wr.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Wr.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Wr.NOT_FOUND:return O.NOT_FOUND;case Wr.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Wr.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Wr.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Wr.ABORTED:return O.ABORTED;case Wr.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Wr.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Wr.DATA_LOSS:return O.DATA_LOSS;default:return D(39323,{code:e})}}(qr=Wr||(Wr={}))[qr.OK=0]="OK",qr[qr.CANCELLED=1]="CANCELLED",qr[qr.UNKNOWN=2]="UNKNOWN",qr[qr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qr[qr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qr[qr.NOT_FOUND=5]="NOT_FOUND",qr[qr.ALREADY_EXISTS=6]="ALREADY_EXISTS",qr[qr.PERMISSION_DENIED=7]="PERMISSION_DENIED",qr[qr.UNAUTHENTICATED=16]="UNAUTHENTICATED",qr[qr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qr[qr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qr[qr.ABORTED=10]="ABORTED",qr[qr.OUT_OF_RANGE=11]="OUT_OF_RANGE",qr[qr.UNIMPLEMENTED=12]="UNIMPLEMENTED",qr[qr.INTERNAL=13]="INTERNAL",qr[qr.UNAVAILABLE=14]="UNAVAILABLE",qr[qr.DATA_LOSS=15]="DATA_LOSS";let Qr=null;const Jr=new r([4294967295,4294967295],0);function Yr(e){const t=G().encode(e),n=new i;return n.update(t),new Uint8Array(n.digest())}function Xr(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new r([n,i],0),new r([s,a],0)]}class Zr{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ei(`Invalid padding: ${t}`);if(n<0)throw new ei(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new ei(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new ei(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=r.fromNumber(this.fe)}pe(e,t,n){let i=e.add(t.multiply(r.fromNumber(n)));return 1===i.compare(Jr)&&(i=new r([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.fe)return!1;const t=Yr(e),[n,r]=Xr(t);for(let i=0;i<this.hashCount;i++){const e=this.pe(n,r,i);if(!this.ye(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Zr(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.fe)return;const t=Yr(e),[n,r]=Xr(t);for(let i=0;i<this.hashCount;i++){const e=this.pe(n,r,i);this.we(e)}}we(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ei extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ti{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,ni.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ti(ye.min(),r,new ht(Q),Xn(),or())}}class ni{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ni(n,t,or(),or(),or())}}class ri{constructor(e,t,n,r){this.Se=e,this.removedTargetIds=t,this.key=n,this.be=r}}class ii{constructor(e,t){this.targetId=e,this.De=t}}class si{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vt.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ai{constructor(){this.ve=0,this.Ce=ci(),this.Fe=vt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return 0!==this.ve}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=or(),t=or(),n=or();return this.Ce.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:D(38017,{changeType:i})}}),new ni(this.Fe,this.Me,e,t,n)}ke(){this.xe=!1,this.Ce=ci()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,j(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class oi{constructor(e){this.We=e,this.Ge=new Map,this.ze=Xn(),this.je=li(),this.Je=li(),this.He=new ht(Q)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const n=this.tt(t);switch(e.state){case 0:this.nt(t)&&n.Be(e.resumeToken);break;case 1:n.Ue(),n.Oe||n.ke(),n.Be(e.resumeToken);break;case 2:n.Ue(),n.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(n.Ke(),n.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),n.Be(e.resumeToken));break;default:D(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((e,n)=>{this.nt(n)&&t(n)})}it(e){const t=e.targetId,n=e.De.count,r=this.st(t);if(r){const i=r.target;if(Pn(i))if(0===n){const e=new se(i.path);this.Xe(t,e,sn.newNoDocument(e,ye.min()))}else j(1===n,20013,{expectedCount:n});else{const r=this.ot(t);if(r!==n){const n=this._t(e),i=n?this.ut(n,e,r):1;if(0!==i){this.rt(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,e)}null==Qr||Qr.ct(function(e,t,n,r,i){var s,a,o,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==d?void 0:d.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.De,this.We.lt(),n,i))}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=_t(n).toUint8Array()}catch(e){if(e instanceof yt)return A("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Zr(s,r,i)}catch(e){return A(e instanceof ei?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.fe?null:a}ut(e,t,n){return t.De.count===n-this.ht(e,t.targetId)?0:2}ht(e,t){const n=this.We.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.We.lt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.Xe(t,n,null),r++)}),r}Pt(e){const t=new Map;this.Ge.forEach((n,r)=>{const i=this.st(r);if(i){if(n.current&&Pn(i.target)){const t=new se(i.target.path);this.Tt(t).has(r)||this.It(r,t)||this.Xe(r,t,sn.newNoDocument(t,e))}n.Ne&&(t.set(r,n.Le()),n.ke())}});let n=or();this.Je.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.st(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ze.forEach((t,n)=>n.setReadTime(e));const r=new ti(e,t,this.He,this.ze,n);return this.ze=Xn(),this.je=li(),this.Je=li(),this.He=new ht(Q),r}Ze(e,t){if(!this.nt(e))return;const n=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,n),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,n){if(!this.nt(e))return;const r=this.tt(e);this.It(e,t)?r.qe(t,1):r.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),n&&(this.ze=this.ze.insert(t,n))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new ai,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new pt(Q),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new pt(Q),this.je=this.je.insert(e,t)),t}nt(e){const t=null!==this.st(e);return t||C("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new ai),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function li(){return new ht(se.comparator)}function ci(){return new ht(se.comparator)}const ui={asc:"ASCENDING",desc:"DESCENDING"},hi={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},di={and:"AND",or:"OR"};class fi{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function pi(e,t){return e.useProto3Json||Pe(t)?t:{value:t}}function gi(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function mi(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function yi(e,t){return gi(e,t.toTimestamp())}function vi(e){return j(!!e,49232),ye.fromTimestamp(function(e){const t=xt(e);return new me(t.seconds,t.nanos)}(e))}function bi(e,t){return xi(e,t).canonicalString()}function xi(e,t){const n=function(e){return new ne(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function wi(e){const t=ne.fromString(e);return j(Ui(t),10190,{key:t.toString()}),t}function _i(e,t){return bi(e.databaseId,t.path)}function ki(e,t){const n=wi(t);if(n.get(1)!==e.databaseId.projectId)throw new M(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new M(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new se(Ci(n))}function Si(e,t){return bi(e.databaseId,t)}function Ei(e){const t=wi(e);return 4===t.length?ne.emptyPath():Ci(t)}function Ti(e){return new ne(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ci(e){return j(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Ni(e,t,n){return{name:_i(e,t),fields:n.value.mapValue.fields}}function Ai(e,t){let n;if(t instanceof Rr)n={update:Ni(e,t.key,t.value)};else if(t instanceof zr)n={delete:_i(e,t.key)};else if(t instanceof Or)n={update:Ni(e,t.key,t.data),updateMask:Vi(t.fieldMask)};else{if(!(t instanceof Vr))return D(16599,{Rt:t.type});n={verify:_i(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof yr)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof vr)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof xr)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof _r)return{fieldPath:t.field.canonicalString(),increment:n.Ee};throw D(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:yi(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:D(27497)}(e,t.precondition)),n}function Ii(e,t){return{documents:[Si(e,t.path)]}}function Di(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Si(e,i);const s=function(e){if(0!==e.length)return zi(fn.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Li(e.field),direction:Ri(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=pi(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{Vt:n,parent:i}}function Pi(e){let t=Ei(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){j(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=ji(e);return t instanceof fn&&gn(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new cn(Fi(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Pe(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new an(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new an(n,t)}(n.endAt)),Rn(t,i,a,s,o,"F",l,c)}function ji(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Fi(e.unaryFilter.field);return dn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Fi(e.unaryFilter.field);return dn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Fi(e.unaryFilter.field);return dn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Fi(e.unaryFilter.field);return dn.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return D(61313);default:return D(60726)}}(e):void 0!==e.fieldFilter?function(e){return dn.create(Fi(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return D(58110);default:return D(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return fn.create(e.compositeFilter.filters.map(e=>ji(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return D(1026)}}(e.compositeFilter.op))}(e):D(30097,{filter:e})}function Ri(e){return ui[e]}function Oi(e){return hi[e]}function Mi(e){return di[e]}function Li(e){return{fieldPath:e.canonicalString()}}function Fi(e){return ie.fromServerFormat(e.fieldPath)}function zi(e){return e instanceof dn?function(e){if("=="===e.op){if(Yt(e.value))return{unaryFilter:{field:Li(e.field),op:"IS_NAN"}};if(Jt(e.value))return{unaryFilter:{field:Li(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Yt(e.value))return{unaryFilter:{field:Li(e.field),op:"IS_NOT_NAN"}};if(Jt(e.value))return{unaryFilter:{field:Li(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Li(e.field),op:Oi(e.op),value:e.value}}}(e):e instanceof fn?function(e){const t=e.getFilters().map(e=>zi(e));return 1===t.length?t[0]:{compositeFilter:{op:Mi(e.op),filters:t}}}(e):D(54877,{filter:e})}function Vi(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Ui(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Bi{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ye.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ye.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:vt.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Hi{constructor(e){this.gt=e}}function $i(e){const t=Pi({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Bn(t,t.limit,"L"):t}class Wi{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(wt(e.integerValue));else if("doubleValue"in e){const n=wt(e.doubleValue);isNaN(n)?this.Ct(t,13):(this.Ct(t,15),je(n)?t.Ft(0):t.Ft(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ct(t,20),"string"==typeof n&&(n=xt(n)),t.Mt(`${n.seconds||""}`),t.Ft(n.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(_t(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ct(t,45),t.Ft(n.latitude||0),t.Ft(n.longitude||0)}else"mapValue"in e?tn(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):Zt(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):D(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){const n=e.fields||{};this.Ct(t,55);for(const r of Object.keys(n))this.xt(r,t),this.Dt(n[r],t)}Lt(e,t){var n,r;const i=e.fields||{};this.Ct(t,53);const s=Lt,a=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Ct(t,15),t.Ft(wt(a)),this.xt(s,t),this.Dt(i[s],t)}qt(e,t){const n=e.values||[];this.Ct(t,50);for(const r of n)this.Dt(r,t)}Bt(e,t){this.Ct(t,37),se.fromName(e).path.forEach(e=>{this.Ct(t,60),this.$t(e,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}}Wi.Ut=new Wi;class qi{constructor(){this.Dn=new Gi}addToCollectionParentIndex(e,t){return this.Dn.add(t),Ce.resolve()}getCollectionParents(e,t){return Ce.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return Ce.resolve()}deleteFieldIndex(e,t){return Ce.resolve()}deleteAllFieldIndexes(e){return Ce.resolve()}createTargetIndexes(e,t){return Ce.resolve()}getDocumentsMatchingTarget(e,t){return Ce.resolve(null)}getIndexType(e,t){return Ce.resolve(0)}getFieldIndexes(e,t){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,t){return Ce.resolve(_e.min())}getMinOffsetFromCollectionGroup(e,t){return Ce.resolve(_e.min())}updateCollectionGroup(e,t,n){return Ce.resolve()}updateIndexEntries(e,t){return Ce.resolve()}}class Gi{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new pt(ne.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new pt(ne.comparator)).toArray()}}new Uint8Array(0);const Ki={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Qi=41943040;class Ji{static withCacheSize(e){return new Ji(e,Ji.DEFAULT_COLLECTION_PERCENTILE,Ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Ji.DEFAULT_COLLECTION_PERCENTILE=10,Ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ji.DEFAULT=new Ji(Qi,Ji.DEFAULT_COLLECTION_PERCENTILE,Ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ji.DISABLED=new Ji(-1,0,0);class Yi{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Yi(0)}static ur(){return new Yi(-1)}}const Xi="LruGarbageCollector",Zi=1048576;function es(e,t){let[n,r]=e,[i,s]=t;const a=Q(n,i);return 0===a?Q(r,s):a}class ts{constructor(e){this.Tr=e,this.buffer=new pt(es),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();es(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ns{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Ar=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return null!==this.Ar}Rr(e){C(Xi,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ae(e)?C(Xi,"Ignoring IndexedDB error during garbage collection: ",e):await Te(e)}await this.Rr(3e5)})}}class rs{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Ce.resolve(Ie.ue);const n=new ts(t);return this.Vr.forEachTarget(e,e=>n.Er(e.sequenceNumber)).next(()=>this.Vr.gr(e,e=>n.Er(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(C("LruGarbageCollector","Garbage collection skipped; disabled"),Ce.resolve(Ki)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(C("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ki):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let n,r,i,s,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(C("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(c=Date.now(),T()<=o.$b.DEBUG&&C("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(a-s)+"ms\n"+`\tRemoved ${i} targets in `+(l-a)+"ms\n"+`\tRemoved ${e} documents in `+(c-l)+"ms\n"+`Total Duration: ${c-u}ms`),Ce.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function is(e,t){return new rs(e,t)}class ss{constructor(){this.changes=new Jn(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ce.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class as{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class os{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Dr(n.mutation,e,mt.empty(),me.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,or()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:or();const r=nr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=er();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=nr();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,or()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Xn();const s=ir(),a=ir();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Or)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),Dr(a.mutation,t,a.mutation.getFieldMask(),me.now())):s.set(t.key,mt.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new as(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=ir();let r=new ht((e,t)=>e-t),i=or();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||mt.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||or()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=rr();l.forEach(e=>{if(!i.has(e)){const r=Ar(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Ce.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return se.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ln(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Ce.resolve(nr());let a=ve,o=i;return s.next(t=>Ce.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Ce.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,or())).next(e=>({batchId:a,changes:tr(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new se(t)).next(e=>{let t=er();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=er();return this.indexManager.getCollectionParents(e,i).next(a=>Ce.forEach(a,a=>{const o=function(e,t){return new jn(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,sn.newInvalidDocument(r)))});let n=er();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&Dr(s.mutation,r,mt.empty(),me.now()),qn(t,r)&&(n=n.insert(e,r))}),n})}}class ls{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return Ce.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(e){return{id:e.id,version:e.version,createTime:vi(e.createTime)}}(t)),Ce.resolve()}getNamedQuery(e,t){return Ce.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(e){return{name:e.name,query:$i(e.bundledQuery),readTime:vi(e.readTime)}}(t)),Ce.resolve()}}class cs{constructor(){this.overlays=new ht(se.comparator),this.kr=new Map}getOverlay(e,t){return Ce.resolve(this.overlays.get(t))}getOverlays(e,t){const n=nr();return Ce.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.wt(e,t,r)}),Ce.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.kr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.kr.delete(n)),Ce.resolve()}getOverlaysForCollection(e,t,n){const r=nr(),i=t.length+1,s=new se(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ce.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ht((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=nr(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=nr(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return Ce.resolve(a)}wt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.kr.get(r.largestBatchId).delete(n.key);this.kr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Hr(t,n));let i=this.kr.get(t);void 0===i&&(i=or(),this.kr.set(t,i)),this.kr.set(t,i.add(n.key))}}class us{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return Ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ce.resolve()}}class hs{constructor(){this.qr=new pt(ds.Qr),this.$r=new pt(ds.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const n=new ds(e,t);this.qr=this.qr.add(n),this.$r=this.$r.add(n)}Kr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Wr(new ds(e,t))}Gr(e,t){e.forEach(e=>this.removeReference(e,t))}zr(e){const t=new se(new ne([])),n=new ds(t,e),r=new ds(t,e+1),i=[];return this.$r.forEachInRange([n,r],e=>{this.Wr(e),i.push(e.key)}),i}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new se(new ne([])),n=new ds(t,e),r=new ds(t,e+1);let i=or();return this.$r.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new ds(e,0),n=this.qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ds{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return se.comparator(e.key,t.key)||Q(e.Hr,t.Hr)}static Ur(e,t){return Q(e.Hr,t.Hr)||se.comparator(e.key,t.key)}}class fs{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new pt(ds.Qr)}checkEmpty(e){return Ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Ur(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Yr=this.Yr.add(new ds(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ce.resolve(s)}lookupMutationBatch(e,t){return Ce.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Xr(n),i=r<0?0:r;return Ce.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(0===this.mutationQueue.length?De:this.er-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ds(t,0),r=new ds(t,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([n,r],e=>{const t=this.Zr(e.Hr);i.push(t)}),Ce.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new pt(Q);return t.forEach(e=>{const t=new ds(e,0),r=new ds(e,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([t,r],e=>{n=n.add(e.Hr)})}),Ce.resolve(this.ei(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;se.isDocumentKey(i)||(i=i.child(""));const s=new ds(new se(i),0);let a=new pt(Q);return this.Yr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Hr)),!0)},s),Ce.resolve(this.ei(a))}ei(e){const t=[];return e.forEach(e=>{const n=this.Zr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){j(0===this.ti(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Yr;return Ce.forEach(t.mutations,r=>{const i=new ds(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Yr=n})}rr(e){}containsKey(e,t){const n=new ds(t,0),r=this.Yr.firstAfterOrEqual(n);return Ce.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ce.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ps{constructor(e){this.ni=e,this.docs=new ht(se.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ni(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ce.resolve(n?n.document.mutableCopy():sn.newInvalidDocument(t))}getEntries(e,t){let n=Xn();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():sn.newInvalidDocument(e))}),Ce.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Xn();const s=t.path,a=new se(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||ke(we(a),n)<=0||(r.has(a.key)||qn(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Ce.resolve(i)}getAllFromCollectionGroup(e,t,n,r){D(9500)}ri(e,t){return Ce.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new gs(this)}getSize(e){return Ce.resolve(this.size)}}class gs extends ss{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Or.addEntry(e,r)):this.Or.removeEntry(n)}),Ce.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}class ms{constructor(e){this.persistence=e,this.ii=new Jn(e=>In(e),Dn),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.si=0,this.oi=new hs,this.targetCount=0,this._i=Yi.ar()}forEachTarget(e,t){return this.ii.forEach((e,n)=>t(n)),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.si&&(this.si=t),Ce.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Yi(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,Ce.resolve()}updateTargetData(e,t){return this.hr(t),Ce.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.ii.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),Ce.waitFor(i).next(()=>r)}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,t){const n=this.ii.get(t)||null;return Ce.resolve(n)}addMatchingKeys(e,t,n){return this.oi.Kr(t,n),Ce.resolve()}removeMatchingKeys(e,t,n){this.oi.Gr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Ce.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),Ce.resolve()}getMatchingKeysForTargetId(e,t){const n=this.oi.Jr(t);return Ce.resolve(n)}containsKey(e,t){return Ce.resolve(this.oi.containsKey(t))}}class ys{constructor(e,t){this.ai={},this.overlays={},this.ui=new Ie(0),this.ci=!1,this.ci=!0,this.li=new us,this.referenceDelegate=e(this),this.hi=new ms(this),this.indexManager=new qi,this.remoteDocumentCache=function(e){return new ps(e)}(e=>this.referenceDelegate.Pi(e)),this.serializer=new Hi(t),this.Ti=new ls(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cs,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ai[e.toKey()];return n||(n=new fs(t,this.referenceDelegate),this.ai[e.toKey()]=n),n}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,n){C("MemoryPersistence","Starting transaction:",e);const r=new vs(this.ui.next());return this.referenceDelegate.Ii(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ei(e,t){return Ce.or(Object.values(this.ai).map(n=>()=>n.containsKey(e,t)))}}class vs extends Ee{constructor(e){super(),this.currentSequenceNumber=e}}class bs{constructor(e){this.persistence=e,this.Ai=new hs,this.Ri=null}static Vi(e){return new bs(e)}get mi(){if(this.Ri)return this.Ri;throw D(60996)}addReference(e,t,n){return this.Ai.addReference(n,t),this.mi.delete(n.toString()),Ce.resolve()}removeReference(e,t,n){return this.Ai.removeReference(n,t),this.mi.add(n.toString()),Ce.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),Ce.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(e=>this.mi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.mi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.mi,n=>{const r=se.fromPath(n);return this.fi(e,r).next(e=>{e||t.removeEntry(r,ye.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(e=>{e?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return Ce.or([()=>Ce.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class xs{constructor(e,t){this.persistence=e,this.gi=new Jn(e=>Me(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=is(this,t)}static Vi(e,t){return new xs(e,t)}Ii(){}di(e){return Ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}yr(e){let t=0;return this.gr(e,e=>{t++}).next(()=>t)}gr(e,t){return Ce.forEach(this.gi,(n,r)=>this.Sr(e,n,r).next(e=>e?Ce.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ri(e,r=>this.Sr(e,r,t).next(e=>{e||(n++,i.removeEntry(r,ye.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),Ce.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),Ce.resolve()}removeReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),Ce.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),Ce.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=qt(e.data.value)),t}Sr(e,t,n){return Ce.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.gi.get(t);return Ce.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ws{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Is=n,this.ds=r}static Es(e,t){let n=or(),r=or();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new ws(e,t.fromCache,n,r)}}class _s{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ks{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(0,l.nr)()?8:Ne((0,l.ZQ)())>0?6:4}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ps(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ys(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new _s;return this.ws(e,t,n).next(r=>{if(i.result=r,this.Rs)return this.Ss(e,t,n,r.size)})}).next(()=>i.result)}Ss(e,t,n,r){return n.documentReadCount<this.Vs?(T()<=o.$b.DEBUG&&C("QueryEngine","SDK will not create cache indexes for query:",Wn(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Ce.resolve()):(T()<=o.$b.DEBUG&&C("QueryEngine","Query:",Wn(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.fs*r?(T()<=o.$b.DEBUG&&C("QueryEngine","The SDK decides to create cache indexes for query:",Wn(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zn(t))):Ce.resolve())}ps(e,t){if(Mn(t))return Ce.resolve(null);let n=zn(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Bn(t,null,"F"),n=zn(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=or(...r);return this.gs.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.bs(t,r);return this.Ds(t,s,i,n.readTime)?this.ps(e,Bn(t,null,"F")):this.vs(e,s,t,n)}))})))}ys(e,t,n,r){return Mn(t)||r.isEqual(ye.min())?Ce.resolve(null):this.gs.getDocuments(e,n).next(i=>{const s=this.bs(t,i);return this.Ds(t,s,n,r)?Ce.resolve(null):(T()<=o.$b.DEBUG&&C("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Wn(t)),this.vs(e,s,t,xe(r,ve)).next(e=>e))})}bs(e,t){let n=new pt(Kn(e));return t.forEach((t,r)=>{qn(e,r)&&(n=n.add(r))}),n}Ds(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ws(e,t,n){return T()<=o.$b.DEBUG&&C("QueryEngine","Using full collection scan to execute query:",Wn(t)),this.gs.getDocumentsMatchingQuery(e,t,_e.min(),n)}vs(e,t,n,r){return this.gs.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Ss="LocalStore",Es=3e8;class Ts{constructor(e,t,n,r){this.persistence=e,this.Cs=t,this.serializer=r,this.Fs=new ht(Q),this.Ms=new Jn(e=>In(e),Dn),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(n)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new os(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function Cs(e,t,n,r){return new Ts(e,t,n,r)}async function Ns(e,t){const n=R(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Ns(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=or();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Bs:e,removedBatchIds:i,addedBatchIds:s}))})})}function As(e){const t=R(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.hi.getLastRemoteSnapshotVersion(e))}function Is(e,t,n){let r=or(),i=or();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Xn();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(ye.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):C(Ss,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{Ls:r,ks:i}})}function Ds(e,t){const n=R(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=De),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Ps(e,t){const n=R(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.hi.getTargetData(e,t).next(i=>i?(r=i,Ce.resolve(r)):n.hi.allocateTargetId(e).next(i=>(r=new Bi(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.hi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Fs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(e.targetId,e),n.Ms.set(t,e.targetId)),e})}async function js(e,t,n){const r=R(e),i=r.Fs.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Ae(e))throw e;C(Ss,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Fs=r.Fs.remove(t),r.Ms.delete(i.target)}function Rs(e,t,n){const r=R(e);let i=ye.min(),s=or();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=R(e),i=r.Ms.get(n);return void 0!==i?Ce.resolve(r.Fs.get(i)):r.hi.getTargetData(t,n)}(r,e,zn(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Cs.getDocumentsMatchingQuery(e,t,n?i:ye.min(),n?s:or())).next(e=>(Os(r,Gn(t),e),{documents:e,qs:s})))}function Os(e,t,n){let r=e.xs.get(t)||ye.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.xs.set(t,r)}class Ms{constructor(){this.activeTargetIds=cr()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ls{constructor(){this.Fo=new Ms,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,n){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Ms,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Fs{xo(e){}shutdown(){}}const zs="ConnectivityMonitor";class Vs{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){C(zs,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){C(zs,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Us=null;function Bs(){return null===Us?Us=268435456+Math.round(2147483648*Math.random()):Us++,"0x"+Us.toString(16)}const Hs="RestConnection",$s={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ws{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${n}/databases/${r}`,this.Ko=this.databaseId.database===Dt?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Wo(e,t,n,r,i){const s=Bs(),a=this.Go(e,t.toUriEncodedString());C(Hs,`Sending RPC '${e}' ${s}:`,a,n);const o={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(o,r,i);const{host:c}=new URL(a),u=(0,l.zJ)(c);return this.jo(e,a,o,n,u).then(t=>(C(Hs,`Received RPC '${e}' ${s}: `,t),t),t=>{throw A(Hs,`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t})}Jo(e,t,n,r,i,s){return this.Wo(e,t,n,r,i)}zo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+S,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}Go(e,t){const n=$s[e];return`${this.$o}/v1/${t}:${n}`}terminate(){}}class qs{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}const Gs="WebChannelConnection";class Ks extends Ws{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,n,r,i){const s=Bs();return new Promise((i,a)=>{const o=new h;o.setWithCredentials(!0),o.listenOnce(f.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case p.NO_ERROR:const t=o.getResponseJson();C(Gs,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(t)),i(t);break;case p.TIMEOUT:C(Gs,`RPC '${e}' ${s} timed out`),a(new M(O.DEADLINE_EXCEEDED,"Request time out"));break;case p.HTTP_ERROR:const n=o.getStatus();if(C(Gs,`RPC '${e}' ${s} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(t)>=0?t:O.UNKNOWN}(t.status);a(new M(e,t.message))}else a(new M(O.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new M(O.UNAVAILABLE,"Connection failed."));break;default:D(9055,{c_:e,streamId:s,l_:o.getLastErrorCode(),h_:o.getLastError()})}}finally{C(Gs,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(r);C(Gs,`RPC '${e}' ${s} sending request:`,r),o.send(t,"POST",l,n,15)})}P_(e,t,n){const r=Bs(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=v(),a=y(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.zo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");C(Gs,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=s.createWebChannel(c,o);this.T_(u);let h=!1,f=!1;const p=new qs({Ho:t=>{f?C(Gs,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(C(Gs,`Opening RPC '${e}' stream ${r} transport.`),u.open(),h=!0),C(Gs,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Yo:()=>u.close()}),b=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return b(u,d.EventType.OPEN,()=>{f||(C(Gs,`RPC '${e}' stream ${r} transport opened.`),p.s_())}),b(u,d.EventType.CLOSE,()=>{f||(f=!0,C(Gs,`RPC '${e}' stream ${r} transport closed`),p.__(),this.I_(u))}),b(u,d.EventType.ERROR,t=>{f||(f=!0,A(Gs,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),p.__(new M(O.UNAVAILABLE,"The operation could not be completed")))}),b(u,d.EventType.MESSAGE,t=>{var n;if(!f){const i=t.data[0];j(!!i,16349);const s=i,a=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){C(Gs,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=Wr[e];if(void 0!==t)return Kr(t)}(t),i=a.message;void 0===n&&(n=O.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),f=!0,p.__(new M(n,i)),u.close()}else C(Gs,`RPC '${e}' stream ${r} received:`,i),p.a_(i)}}),b(a,m.STAT_EVENT,t=>{t.stat===g.PROXY?C(Gs,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===g.NOPROXY&&C(Gs,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.o_()},0),p}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function Qs(){return"undefined"!=typeof document?document:null}function Js(e){return new fi(e,!0)}class Ys{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Fi=e,this.timerId=t,this.d_=n,this.E_=r,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),r=Math.max(0,t-n);r>0&&C("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){null!==this.V_&&(this.V_.skipDelay(),this.V_=null)}cancel(){null!==this.V_&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}const Xs="PersistentStream";class Zs{constructor(e,t,n,r,i,s,a,o){this.Fi=e,this.w_=n,this.S_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Ys(e,t)}M_(){return 1===this.state||5===this.state||this.x_()}x_(){return 2===this.state||3===this.state}start(){this.C_=0,4!==this.state?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&null===this.D_&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,4!==e?this.F_.reset():t&&t.code===O.RESOURCE_EXHAUSTED?(N(t.toString()),N("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===O.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.b_===t&&this.W_(n,r)},t=>{e(()=>{const e=new M(O.UNKNOWN,"Fetching auth token failed: "+t.message);return this.G_(e)})})}W_(e,t){const n=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{n(()=>this.listener.Zo())}),this.stream.e_(()=>{n(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(e=>{n(()=>this.G_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.C_?this.j_(e):this.onNext(e))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return C(Xs,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(C(Xs,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ea extends Zs{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:D(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(j(void 0===t||"string"==typeof t,58123),vt.fromBase64String(t||"")):(j(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),vt.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?O.UNKNOWN:Kr(e.code);return new M(t,e.message||"")}(a);n=new si(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=ki(e,r.document.name),s=vi(r.document.updateTime),a=r.document.createTime?vi(r.document.createTime):ye.min(),o=new nn({mapValue:{fields:r.document.fields}}),l=sn.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new ri(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=ki(e,r.document),s=r.readTime?vi(r.readTime):ye.min(),a=sn.newNoDocument(i,s),o=r.removedTargetIds||[];n=new ri([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=ki(e,r.document),s=r.removedTargetIds||[];n=new ri([],s,i,null)}else{if(!("filter"in t))return D(11601,{At:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new $r(r,i),a=e.targetId;n=new ii(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ye.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ye.min():t.readTime?vi(t.readTime):ye.min()}(e);return this.listener.J_(t,n)}H_(e){const t={};t.database=Ti(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Pn(r)?{documents:Ii(e,r)}:{query:Di(e,r).Vt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=mi(e,t.resumeToken);const r=pi(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ye.min())>0){n.readTime=gi(e,t.snapshotVersion.toTimestamp());const r=pi(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return D(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.k_(t)}Y_(e){const t={};t.database=Ti(this.serializer),t.removeTarget=e,this.k_(t)}}class ta extends Zs{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return j(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,j(!e.writeResults||0===e.writeResults.length,55816),this.listener.ea()}onNext(e){j(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=function(e,t){return e&&e.length>0?(j(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?vi(e.updateTime):vi(t);return n.isEqual(ye.min())&&(n=vi(t)),new Er(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=vi(e.commitTime);return this.listener.ta(n,t)}na(){const e={};e.database=Ti(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Ai(this.serializer,e))};this.k_(t)}}class na{}class ra extends na{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new M(O.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,n,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.Wo(e,xi(t,n),r,s,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new M(O.UNKNOWN,e.toString())})}Jo(e,t,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[a,o]=s;return this.connection.Jo(e,xi(t,n),r,a,o,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new M(O.UNKNOWN,e.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class ia{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){0===this.sa&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){"Online"===this.state?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,"Online"===e&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(N(t),this._a=!1):C("OnlineStateTracker",t)}ha(){null!==this.oa&&(this.oa.cancel(),this.oa=null)}}const sa="RemoteStore";class aa{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo(e=>{n.enqueueAndForget(async()=>{ga(this)&&(C(sa,"Restarting streams for network reachability change."),await async function(e){const t=R(e);t.Ia.add(4),await la(t),t.Aa.set("Unknown"),t.Ia.delete(4),await oa(t)}(this))})}),this.Aa=new ia(n,r)}}async function oa(e){if(ga(e))for(const t of e.da)await t(!0)}async function la(e){for(const t of e.da)await t(!1)}function ca(e,t){const n=R(e);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),pa(n)?fa(n):Ra(n).x_()&&ha(n,t))}function ua(e,t){const n=R(e),r=Ra(n);n.Ta.delete(t),r.x_()&&da(n,t),0===n.Ta.size&&(r.x_()?r.B_():ga(n)&&n.Aa.set("Unknown"))}function ha(e,t){if(e.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ye.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ra(e).H_(t)}function da(e,t){e.Ra.$e(t),Ra(e).Y_(t)}function fa(e){e.Ra=new oi({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Ta.get(t)||null,lt:()=>e.datastore.serializer.databaseId}),Ra(e).start(),e.Aa.aa()}function pa(e){return ga(e)&&!Ra(e).M_()&&e.Ta.size>0}function ga(e){return 0===R(e).Ia.size}function ma(e){e.Ra=void 0}async function ya(e){e.Aa.set("Online")}async function va(e){e.Ta.forEach((t,n)=>{ha(e,t)})}async function ba(e,t){ma(e),pa(e)?(e.Aa.la(t),fa(e)):e.Aa.set("Unknown")}async function xa(e,t,n){if(e.Aa.set("Online"),t instanceof si&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ta.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ta.delete(r),e.Ra.removeTarget(r))}(e,t)}catch(n){C(sa,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await wa(e,n)}else if(t instanceof ri?e.Ra.Ye(t):t instanceof ii?e.Ra.it(t):e.Ra.et(t),!n.isEqual(ye.min()))try{const t=await As(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Ra.Pt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ta.get(r);i&&e.Ta.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ta.get(t);if(!r)return;e.Ta.set(t,r.withResumeToken(vt.EMPTY_BYTE_STRING,r.snapshotVersion)),da(e,t);const i=new Bi(r.target,t,n,r.sequenceNumber);ha(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){C(sa,"Failed to raise snapshot:",t),await wa(e,t)}}async function wa(e,t,n){if(!Ae(t))throw t;e.Ia.add(1),await la(e),e.Aa.set("Offline"),n||(n=()=>As(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{C(sa,"Retrying IndexedDB access"),await n(),e.Ia.delete(1),await oa(e)})}function _a(e,t){return t().catch(n=>wa(e,n,t))}async function ka(e){const t=R(e),n=Oa(t);let r=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:De;for(;Sa(t);)try{const e=await Ds(t.localStore,r);if(null===e){0===t.Pa.length&&n.B_();break}r=e.batchId,Ea(t,e)}catch(e){await wa(t,e)}Ta(t)&&Ca(t)}function Sa(e){return ga(e)&&e.Pa.length<10}function Ea(e,t){e.Pa.push(t);const n=Oa(e);n.x_()&&n.Z_&&n.X_(t.mutations)}function Ta(e){return ga(e)&&!Oa(e).M_()&&e.Pa.length>0}function Ca(e){Oa(e).start()}async function Na(e){Oa(e).na()}async function Aa(e){const t=Oa(e);for(const n of e.Pa)t.X_(n.mutations)}async function Ia(e,t,n){const r=e.Pa.shift(),i=Br.from(r,t,n);await _a(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await ka(e)}async function Da(e,t){t&&Oa(e).Z_&&await async function(e,t){if(function(e){return Gr(e)&&e!==O.ABORTED}(t.code)){const n=e.Pa.shift();Oa(e).N_(),await _a(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await ka(e)}}(e,t),Ta(e)&&Ca(e)}async function Pa(e,t){const n=R(e);n.asyncQueue.verifyOperationInProgress(),C(sa,"RemoteStore received new credentials");const r=ga(n);n.Ia.add(3),await la(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await oa(n)}async function ja(e,t){const n=R(e);t?(n.Ia.delete(2),await oa(n)):t||(n.Ia.add(2),await la(n),n.Aa.set("Unknown"))}function Ra(e){return e.Va||(e.Va=function(e,t,n){const r=R(e);return r.ia(),new ea(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:ya.bind(null,e),e_:va.bind(null,e),n_:ba.bind(null,e),J_:xa.bind(null,e)}),e.da.push(async t=>{t?(e.Va.N_(),pa(e)?fa(e):e.Aa.set("Unknown")):(await e.Va.stop(),ma(e))})),e.Va}function Oa(e){return e.ma||(e.ma=function(e,t,n){const r=R(e);return r.ia(),new ta(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),e_:Na.bind(null,e),n_:Da.bind(null,e),ea:Aa.bind(null,e),ta:Ia.bind(null,e)}),e.da.push(async t=>{t?(e.ma.N_(),await ka(e)):(await e.ma.stop(),e.Pa.length>0&&(C(sa,`Stopping write stream with ${e.Pa.length} pending writes`),e.Pa=[]))})),e.ma}class Ma{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new L,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Ma(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new M(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function La(e,t){if(N("AsyncQueue",`${t}: ${e}`),Ae(e))return new M(O.UNAVAILABLE,`${t}: ${e}`);throw e}class Fa{static emptySet(e){return new Fa(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||se.comparator(t.key,n.key):(e,t)=>se.comparator(e.key,t.key),this.keyedMap=er(),this.sortedSet=new ht(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fa))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Fa;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class za{constructor(){this.fa=new ht(se.comparator)}track(e){const t=e.doc.key,n=this.fa.get(t);n?0!==e.type&&3===n.type?this.fa=this.fa.insert(t,e):3===e.type&&1!==n.type?this.fa=this.fa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.fa=this.fa.remove(t):1===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):D(63341,{At:e,ga:n}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,n)=>{e.push(n)}),e}}class Va{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new Va(e,t,Fa.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Ua{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class Ba{constructor(){this.queries=Ha(),this.onlineState="Unknown",this.Da=new Set}terminate(){!function(e,t){const n=R(e),r=n.queries;n.queries=Ha(),r.forEach((e,n)=>{for(const r of n.wa)r.onError(t)})}(this,new M(O.ABORTED,"Firestore shutting down"))}}function Ha(){return new Jn(e=>$n(e),Hn)}async function $a(e,t){const n=R(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.Sa()&&t.ba()&&(r=2):(s=new Ua,r=t.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(i,!0);break;case 1:s.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=La(e,`Initialization of query '${Wn(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.wa.push(t),t.va(n.onlineState),s.ya&&t.Ca(s.ya)&&Ka(n)}async function Wa(e,t){const n=R(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.wa.indexOf(t);e>=0&&(s.wa.splice(e,1),0===s.wa.length?i=t.ba()?0:1:!s.Sa()&&t.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function qa(e,t){const n=R(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.wa)e.Ca(i)&&(r=!0);t.ya=i}}r&&Ka(n)}function Ga(e,t,n){const r=R(e),i=r.queries.get(t);if(i)for(const s of i.wa)s.onError(n);r.queries.delete(t)}function Ka(e){e.Da.forEach(e=>{e.next()})}var Qa,Ja;(Ja=Qa||(Qa={})).Fa="default",Ja.Cache="cache";class Ya{constructor(e,t,n){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=n||{}}Ca(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Va(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache)return!0;if(!this.ba())return!0;const n="Offline"!==t;return(!this.options.ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}La(e){e=Va.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Qa.Cache}}class Xa{constructor(e){this.key=e}}class Za{constructor(e){this.key=e}}class eo{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=or(),this.mutatedKeys=or(),this.Xa=Kn(e),this.eu=new Fa(this.Xa)}get tu(){return this.Ha}nu(e,t){const n=t?t.ru:new za,r=t?t.eu:this.eu;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=qn(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.iu(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Xa(u,o)>0||l&&this.Xa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{eu:s,ru:n,Ds:a,mutatedKeys:i}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const s=e.ru.pa();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return D(20277,{At:e})}};return n(e)-n(t)}(e.type,t.type)||this.Xa(e.doc,t.doc)),this.su(n),r=null!=r&&r;const a=t&&!r?this.ou():[],o=0===this.Za.size&&this.current&&!r?1:0,l=o!==this.Ya;return this.Ya=o,0!==s.length||l?{snapshot:new Va(this.query,e.eu,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({eu:this.eu,ru:new za,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=or(),this.eu.forEach(e=>{this.au(e.key)&&(this.Za=this.Za.add(e.key))});const t=[];return e.forEach(e=>{this.Za.has(e)||t.push(new Za(e))}),this.Za.forEach(n=>{e.has(n)||t.push(new Xa(n))}),t}uu(e){this.Ha=e.qs,this.Za=or();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Va.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,0===this.Ya,this.hasCachedResults)}}const to="SyncEngine";class no{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class ro{constructor(e){this.key=e,this.lu=!1}}class io{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Jn(e=>$n(e),Hn),this.Tu=new Map,this.Iu=new Set,this.du=new ht(se.comparator),this.Eu=new Map,this.Au=new hs,this.Ru={},this.Vu=new Map,this.mu=Yi.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return!0===this.fu}}async function so(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Co(e);let i;const s=r.Pu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await oo(r,t,n,!0),i}async function ao(e,t){const n=Co(e);await oo(n,t,!0,!1)}async function oo(e,t,n,r){const i=await Ps(e.localStore,zn(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await lo(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&ca(e.remoteStore,i),o}async function lo(e,t,n,r,i){e.gu=(t,n,r)=>async function(e,t,n,r){let i=t.view.nu(n);i.Ds&&(i=await Rs(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.nu(n,i)}));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return wo(e,t.targetId,o._u),o.snapshot}(e,t,n,r);const s=await Rs(e.localStore,t,!0),a=new eo(t,s.qs),o=a.nu(s.documents),l=ni.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);wo(e,n,c._u);const u=new no(t,n,a);return e.Pu.set(t,u),e.Tu.has(n)?e.Tu.get(n).push(t):e.Tu.set(n,[t]),c.snapshot}async function co(e,t,n){const r=R(e),i=r.Pu.get(t),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(e=>!Hn(e,t))),void r.Pu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await js(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ua(r.remoteStore,i.targetId),bo(r,i.targetId)}).catch(Te)):(bo(r,i.targetId),await js(r.localStore,i.targetId,!0))}async function uo(e,t){const n=R(e),r=n.Pu.get(t),i=n.Tu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ua(n.remoteStore,r.targetId))}async function ho(e,t){const n=R(e);try{const e=await function(e,t){const n=R(e),r=t.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const a=[];t.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.hi.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.hi.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(vt.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=Es||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&a.push(n.hi.updateTargetData(e,c))});let o=Xn(),l=or();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(Is(e,s,t.documentUpdates).next(e=>{o=e.Ls,l=e.ks})),!r.isEqual(ye.min())){const t=n.hi.getLastRemoteSnapshotVersion(e).next(t=>n.hi.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return Ce.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Fs=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Eu.get(t);r&&(j(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.lu=!0:e.modifiedDocuments.size>0?j(r.lu,14607):e.removedDocuments.size>0&&(j(r.lu,42227),r.lu=!1))}),await So(n,e,t)}catch(e){await Te(e)}}function fo(e,t,n){const r=R(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Pu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=R(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.wa)i.va(t)&&(r=!0)}),r&&Ka(n)}(r.eventManager,t),e.length&&r.hu.J_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function po(e,t,n){const r=R(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Eu.get(t),s=i&&i.key;if(s){let e=new ht(se.comparator);e=e.insert(s,sn.newNoDocument(s,ye.min()));const n=or().add(s),i=new ti(ye.min(),new Map,new ht(Q),e,n);await ho(r,i),r.du=r.du.remove(s),r.Eu.delete(t),ko(r)}else await js(r.localStore,t,!1).then(()=>bo(r,t,n)).catch(Te)}async function go(e,t){const n=R(e),r=t.batch.batchId;try{const e=await function(e,t){const n=R(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=Ce.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);j(null!==s,48541),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=or();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);vo(n,r,null),yo(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await So(n,e)}catch(e){await Te(e)}}async function mo(e,t,n){const r=R(e);try{const e=await function(e,t){const n=R(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(j(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);vo(r,t,n),yo(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await So(r,e)}catch(n){await Te(n)}}function yo(e,t){(e.Vu.get(t)||[]).forEach(e=>{e.resolve()}),e.Vu.delete(t)}function vo(e,t,n){const r=R(e);let i=r.Ru[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ru[r.currentUser.toKey()]=i}}function bo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Tu.get(t))e.Pu.delete(r),n&&e.hu.pu(r,n);e.Tu.delete(t),e.isPrimaryClient&&e.Au.zr(t).forEach(t=>{e.Au.containsKey(t)||xo(e,t)})}function xo(e,t){e.Iu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(ua(e.remoteStore,n),e.du=e.du.remove(t),e.Eu.delete(n),ko(e))}function wo(e,t,n){for(const r of n)r instanceof Xa?(e.Au.addReference(r.key,t),_o(e,r)):r instanceof Za?(C(to,"Document no longer in limbo: "+r.key),e.Au.removeReference(r.key,t),e.Au.containsKey(r.key)||xo(e,r.key)):D(19791,{yu:r})}function _o(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Iu.has(r)||(C(to,"New document in limbo: "+n),e.Iu.add(r),ko(e))}function ko(e){for(;e.Iu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Iu.values().next().value;e.Iu.delete(t);const n=new se(ne.fromString(t)),r=e.mu.next();e.Eu.set(r,new ro(n)),e.du=e.du.insert(n,r),ca(e.remoteStore,new Bi(zn(On(n.path)),r,"TargetPurposeLimboResolution",Ie.ue))}}async function So(e,t,n){const r=R(e),i=[],s=[],a=[];r.Pu.isEmpty()||(r.Pu.forEach((e,o)=>{a.push(r.gu(o,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=ws.Es(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.hu.J_(i),await async function(e,t){const n=R(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Ce.forEach(t,t=>Ce.forEach(t.Is,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Ce.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Ae(e))throw e;C(Ss,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Fs.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Fs=n.Fs.insert(e,i)}}}(r.localStore,s))}async function Eo(e,t){const n=R(e);if(!n.currentUser.isEqual(t)){C(to,"User change. New user:",t.toKey());const e=await Ns(n.localStore,t);n.currentUser=t,function(e,t){e.Vu.forEach(e=>{e.forEach(e=>{e.reject(new M(O.CANCELLED,t))})}),e.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await So(n,e.Bs)}}function To(e,t){const n=R(e),r=n.Eu.get(t);if(r&&r.lu)return or().add(r.key);{let e=or();const r=n.Tu.get(t);if(!r)return e;for(const t of r){const r=n.Pu.get(t);e=e.unionWith(r.view.tu)}return e}}function Co(e){const t=R(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ho.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=To.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=po.bind(null,t),t.hu.J_=qa.bind(null,t.eventManager),t.hu.pu=Ga.bind(null,t.eventManager),t}function No(e){const t=R(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=go.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=mo.bind(null,t),t}class Ao{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Js(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return Cs(this.persistence,new ks,e.initialUser,this.serializer)}Du(e){return new ys(bs.Vi,this.serializer)}bu(e){return new Ls}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ao.provider={build:()=>new Ao};class Io extends Ao{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){j(this.persistence.referenceDelegate instanceof xs,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new ns(n,e.asyncQueue,t)}Du(e){const t=void 0!==this.cacheSizeBytes?Ji.withCacheSize(this.cacheSizeBytes):Ji.DEFAULT;return new ys(e=>xs.Vi(e,t),this.serializer)}}class Do{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>fo(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Eo.bind(null,this.syncEngine),await ja(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ba}createDatastore(e){const t=Js(e.databaseInfo.databaseId),n=function(e){return new Ks(e)}(e.databaseInfo);return function(e,t,n,r){return new ra(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new aa(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>fo(this.syncEngine,e,0),Vs.C()?new Vs:new Fs)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new io(e,t,n,r,i,s);return a&&(o.fu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=R(e);C(sa,"RemoteStore shutting down."),t.Ia.add(5),await la(t),t.Ea.shutdown(),t.Aa.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Do.provider={build:()=>new Do};class Po{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):N("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const jo="FirestoreClient";class Ro{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=k.UNAUTHENTICATED,this.clientId=K.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{C(jo,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(C(jo,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new L;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=La(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Oo(e,t){e.asyncQueue.verifyOperationInProgress(),C(jo,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Ns(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>{A("Terminating Firestore due to IndexedDb database deletion"),e.terminate().then(()=>{C("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(e=>{A("Terminating Firestore due to IndexedDb database deletion failed",e)})}),e._offlineComponents=t}async function Mo(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Lo(e);C(jo,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Pa(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Pa(t.remoteStore,n)),e._onlineComponents=t}async function Lo(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){C(jo,"Using user provided OfflineComponentProvider");try{await Oo(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===O.FAILED_PRECONDITION||e.code===O.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;A("Error using user provided cache. Falling back to memory cache: "+n),await Oo(e,new Ao)}}else C(jo,"Using default OfflineComponentProvider"),await Oo(e,new Io(void 0));return e._offlineComponents}async function Fo(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(C(jo,"Using user provided OnlineComponentProvider"),await Mo(e,e._uninitializedComponentsProvider._online)):(C(jo,"Using default OnlineComponentProvider"),await Mo(e,new Do))),e._onlineComponents}function zo(e){return Fo(e).then(e=>e.syncEngine)}async function Vo(e){const t=await Fo(e),n=t.eventManager;return n.onListen=so.bind(null,t.syncEngine),n.onUnlisten=co.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=ao.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=uo.bind(null,t.syncEngine),n}function Uo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new L;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Po({next:n=>{s.Ou(),t.enqueueAndForget(()=>Wa(e,a)),n.fromCache&&"server"===r.source?i.reject(new M(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Ya(n,s,{includeMetadataChanges:!0,ka:!0});return $a(e,a)}(await Vo(e),e.asyncQueue,t,n,r)),r.promise}function Bo(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Ho=new Map,$o="firestore.googleapis.com",Wo=!0;class qo{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new M(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$o,this.ssl=Wo}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Wo;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Qi;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Zi)throw new M(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new M(O.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Bo(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new M(O.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new M(O.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new M(O.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Go{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qo({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new M(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new M(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qo(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new z;switch(e.type){case"firstParty":return new H(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new M(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ho.get(e);t&&(C("ComponentProvider","Removing Datastore"),Ho.delete(e),t.terminate())}(this),Promise.resolve()}}class Ko{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ko(this.firestore,e,this._query)}}class Qo{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qo(this.firestore,e,this._key)}toJSON(){return{type:Qo._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(fe(t,Qo._jsonSchema))return new Qo(e,n||null,new se(ne.fromString(t.referencePath)))}}Qo._jsonSchemaVersion="firestore/documentReference/1.0",Qo._jsonSchema={type:de("string",Qo._jsonSchemaVersion),referencePath:de("string")};class Jo extends Ko{constructor(e,t,n){super(e,t,On(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qo(this.firestore,null,new se(e))}withConverter(e){return new Jo(this.firestore,e,this._path)}}function Yo(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,l.Ku)(e),ae("collection","path",t),e instanceof Go){const n=ne.fromString(t,...r);return le(n),new Jo(e,null,n)}{if(!(e instanceof Qo||e instanceof Jo))throw new M(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ne.fromString(t,...r));return le(n),new Jo(e.firestore,null,n)}}function Xo(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,l.Ku)(e),1===arguments.length&&(t=K.newId()),ae("doc","path",t),e instanceof Go){const n=ne.fromString(t,...r);return oe(n),new Qo(e,null,new se(n))}{if(!(e instanceof Qo||e instanceof Jo))throw new M(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ne.fromString(t,...r));return oe(n),new Qo(e.firestore,e instanceof Jo?e.converter:null,new se(n))}}const Zo="AsyncQueue";class el{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Ys(this,"async_queue_retry"),this.oc=()=>{const e=Qs();e&&C(Zo,"Visibility state changed to "+e.visibilityState),this.F_.y_()},this._c=e;const t=Qs();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Qs();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new L;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(0!==this.Zu.length){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ae(e))throw e;C(Zo,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(e=>{throw this.tc=e,this.nc=!1,N("INTERNAL UNHANDLED ERROR: ",tl(e)),e}).then(e=>(this.nc=!1,e))));return this._c=t,t}enqueueAfterDelay(e,t,n){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const r=Ma.createAndSchedule(this,e,t,n,e=>this.lc(e));return this.ec.push(r),r}ac(){this.tc&&D(47125,{hc:tl(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do{e=this._c,await e}while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function tl(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function nl(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class rl extends Go{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new el,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new el(e),this._firestoreClient=void 0,await e}}}function il(e,t){const n="object"==typeof e?e:(0,s.Sx)(),r="string"==typeof e?e:t||Dt,i=(0,s.j6)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(0,l.yU)("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;e=he(e,Go);const s=(0,l.zJ)(t),a=e._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),c=`${t}:${n}`;s&&((0,l.gE)(`https://${c}`),(0,l.P1)("Firestore",!0)),a.host!==$o&&a.host!==c&&A("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},a),{host:c,ssl:s,emulatorOptions:r});if(!(0,l.bD)(u,o)&&(e._setSettings(u),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=k.MOCK_USER;else{t=(0,l.Fy)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new M(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new k(s)}e._authCredentials=new V(new F(t,n))}}(i,...e)}return i}function sl(e){if(e._terminated)throw new M(O.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||al(e),e._firestoreClient}function al(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new It(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Bo(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Ro(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class ol{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ol(vt.fromBase64String(e))}catch(e){throw new M(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new ol(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ol._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fe(e,ol._jsonSchema))return ol.fromBase64String(e.bytes)}}ol._jsonSchemaVersion="firestore/bytes/1.0",ol._jsonSchema={type:de("string",ol._jsonSchemaVersion),bytes:de("string")};class ll{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new M(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ie(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cl{constructor(e){this._methodName=e}}class ul{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new M(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new M(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Q(this._lat,e._lat)||Q(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ul._jsonSchemaVersion}}static fromJSON(e){if(fe(e,ul._jsonSchema))return new ul(e.latitude,e.longitude)}}ul._jsonSchemaVersion="firestore/geoPoint/1.0",ul._jsonSchema={type:de("string",ul._jsonSchemaVersion),latitude:de("number"),longitude:de("number")};class hl{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:hl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fe(e,hl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new hl(e.vectorValues);throw new M(O.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hl._jsonSchemaVersion="firestore/vectorValue/1.0",hl._jsonSchema={type:de("string",hl._jsonSchemaVersion),vectorValues:de("object")};const dl=/^__.*__$/;class fl{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Or(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rr(e,this.data,t,this.fieldTransforms)}}class pl{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Or(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function gl(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw D(40011,{Ec:e})}}class ml{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new ml(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Rc({path:n,mc:!1});return r.fc(e),r}gc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Rc({path:n,mc:!1});return r.Ac(),r}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Dl(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(0===e.length)throw this.wc("Document fields must not be empty");if(gl(this.Ec)&&dl.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class yl{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Js(e)}Dc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ml({Ec:e,methodName:t,bc:n,path:ie.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vl(e){const t=e._freezeSettings(),n=Js(e._databaseId);return new yl(e._databaseId,!!t.ignoreUndefinedProperties,n)}function bl(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Dc(s.merge||s.mergeFields?2:0,t,n,i);Cl("Data must be an object, but it was:",a,r);const o=El(r,a);let l,c;if(s.merge)l=new mt(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Nl(t,r,n);if(!a.contains(i))throw new M(O.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Pl(e,i)||e.push(i)}l=new mt(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new fl(new nn(o),l,c)}class xl extends cl{_toFieldTransform(e){if(2!==e.Ec)throw 1===e.Ec?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xl}}function wl(e,t,n,r){const i=e.Dc(1,t,n);Cl("Data must be an object, but it was:",i,r);const s=[],a=nn.empty();ct(r,(e,r)=>{const o=Il(t,e,n);r=(0,l.Ku)(r);const c=i.gc(o);if(r instanceof xl)s.push(o);else{const e=Sl(r,c);null!=e&&(s.push(o),a.set(o,e))}});const o=new mt(s);return new pl(a,o,i.fieldTransforms)}function _l(e,t,n,r,i,s){const a=e.Dc(1,t,n),o=[Nl(t,r,n)],c=[i];if(s.length%2!=0)throw new M(O.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let l=0;l<s.length;l+=2)o.push(Nl(t,s[l])),c.push(s[l+1]);const u=[],h=nn.empty();for(let f=o.length-1;f>=0;--f)if(!Pl(u,o[f])){const e=o[f];let t=c[f];t=(0,l.Ku)(t);const n=a.gc(e);if(t instanceof xl)u.push(e);else{const r=Sl(t,n);null!=r&&(u.push(e),h.set(e,r))}}const d=new mt(u);return new pl(h,d,a.fieldTransforms)}function kl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Sl(n,e.Dc(r?4:3,t))}function Sl(e,t){if(Tl(e=(0,l.Ku)(e)))return Cl("Unsupported field value:",t,e),El(e,t);if(e instanceof cl)return function(e,t){if(!gl(t.Ec))throw t.wc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.wc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.mc&&4!==t.Ec)throw t.wc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Sl(i,t.yc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,l.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return dr(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=me.fromDate(e);return{timestampValue:gi(t.serializer,n)}}if(e instanceof me){const n=new me(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:gi(t.serializer,n)}}if(e instanceof ul)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ol)return{bytesValue:mi(t.serializer,e._byteString)};if(e instanceof Qo){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.wc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:bi(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof hl)return function(e,t){return{mapValue:{fields:{[jt]:{stringValue:Mt},[Lt]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.wc("VectorValues must only contain numeric values.");return ur(t.serializer,e)})}}}}}}(e,t);throw t.wc(`Unsupported field value: ${ue(e)}`)}(e,t)}function El(e,t){const n={};return ut(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ct(e,(e,r)=>{const i=Sl(r,t.Vc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Tl(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof me||e instanceof ul||e instanceof ol||e instanceof Qo||e instanceof cl||e instanceof hl)}function Cl(e,t,n){if(!Tl(n)||!ce(n)){const r=ue(n);throw"an object"===r?t.wc(e+" a custom object"):t.wc(e+" "+r)}}function Nl(e,t,n){if((t=(0,l.Ku)(t))instanceof ll)return t._internalPath;if("string"==typeof t)return Il(e,t);throw Dl("Field path arguments must be of type string or ",e,!1,void 0,n)}const Al=new RegExp("[~\\*/\\[\\]]");function Il(e,t,n){if(t.search(Al)>=0)throw Dl(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ll(...t.split("."))._internalPath}catch(r){throw Dl(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Dl(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new M(O.INVALID_ARGUMENT,o+e+l)}function Pl(e,t){return e.some(e=>e.isEqual(t))}class jl{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Qo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Rl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ol("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Rl extends jl{data(){return super.data()}}function Ol(e,t){return"string"==typeof t?Il(e,t):t instanceof ll?t._internalPath:t._delegate._internalPath}function Ml(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new M(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ll{}class Fl extends Ll{}function zl(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Ll&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof Bl).length,n=e.filter(e=>e instanceof Vl).length;if(t>1||t>0&&n>0)throw new M(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Vl extends Fl{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Vl(e,t,n)}_apply(e){const t=this._parse(e);return Wl(e._query,t),new Ko(e.firestore,e.converter,Un(e._query,t))}_parse(e){const t=vl(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new M(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){$l(a,s);const t=[];for(const n of a)t.push(Hl(r,e,n));o={arrayValue:{values:t}}}else o=Hl(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||$l(a,s),o=kl(n,t,a,"in"===s||"not-in"===s);return dn.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Ul(e,t,n){const r=t,i=Ol("where",e);return Vl._create(i,r,n)}class Bl extends Ll{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Bl(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:fn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Wl(n,i),n=Un(n,i)}(e._query,t),new Ko(e.firestore,e.converter,Un(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Hl(e,t,n){if("string"==typeof(n=(0,l.Ku)(n))){if(""===n)throw new M(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ln(t)&&-1!==n.indexOf("/"))throw new M(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ne.fromString(n));if(!se.isDocumentKey(r))throw new M(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Gt(e,new se(r))}if(n instanceof Qo)return Gt(e,n._key);throw new M(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ue(n)}.`)}function $l(e,t){if(!Array.isArray(e)||0===e.length)throw new M(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Wl(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new M(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new M(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class ql{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ft(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_t(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw D(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return ct(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Lt].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>wt(e.doubleValue));return new hl(i)}convertGeoPoint(e){return new ul(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Nt(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(At(e));default:return null}}convertTimestamp(e){const t=xt(e);return new me(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ne.fromString(e);j(Ui(n),9688,{name:e});const r=new Pt(n.get(1),n.get(3)),i=new se(n.popFirst(5));return r.isEqual(t)||N(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Gl(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Kl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ql extends jl{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Jl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Ol("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new M(O.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ql._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Ql._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ql._jsonSchema={type:de("string",Ql._jsonSchemaVersion),bundleSource:de("string","DocumentSnapshot"),bundleName:de("string"),bundle:de("string")};class Jl extends Ql{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Yl{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Kl(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Jl(this._firestore,this._userDataWriter,n.key,n,new Kl(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new M(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Jl(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Kl(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Jl(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Kl(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Xl(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new M(O.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Yl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=K.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Xl(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return D(61501,{type:e})}}Yl._jsonSchemaVersion="firestore/querySnapshot/1.0",Yl._jsonSchema={type:de("string",Yl._jsonSchemaVersion),bundleSource:de("string","QuerySnapshot"),bundleName:de("string"),bundle:de("string")};class Zl extends ql{constructor(e){super(),this.firestore=e}convertBytes(e){return new ol(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qo(this.firestore,null,t)}}function ec(e){e=he(e,Ko);const t=he(e.firestore,rl),n=sl(t),r=new Zl(t);return Ml(e._query),Uo(n,e._query).then(n=>new Yl(t,r,e,n))}function tc(e,t,n){e=he(e,Qo);const r=he(e.firestore,rl),i=vl(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),c=3;c<a;c++)o[c-3]=arguments[c];return s="string"==typeof(t=(0,l.Ku)(t))||t instanceof ll?_l(i,"updateDoc",e._key,t,n,o):wl(i,"updateDoc",e._key,t),sc(r,[s.toMutation(e._key,Tr.exists(!0))])}function nc(e){return sc(he(e.firestore,rl),[new zr(e._key,Tr.none())])}function rc(e,t){const n=he(e.firestore,rl),r=Xo(e),i=Gl(e.converter,t);return sc(n,[bl(vl(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Tr.exists(!1))]).then(()=>r)}function ic(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,a;e=(0,l.Ku)(e);let o={includeMetadataChanges:!1,source:"default"},c=0;"object"!=typeof n[c]||nl(n[c])||(o=n[c++]);const u={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(nl(n[c])){const e=n[c];n[c]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[c+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[c+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let h,d,f;if(e instanceof Qo)d=he(e.firestore,rl),f=On(e._key.path),h={next:t=>{n[c]&&n[c](ac(d,e,t))},error:n[c+1],complete:n[c+2]};else{const t=he(e,Ko);d=he(t.firestore,rl),f=t._query;const r=new Zl(d);h={next:e=>{n[c]&&n[c](new Yl(d,r,t,e))},error:n[c+1],complete:n[c+2]},Ml(e._query)}return function(e,t,n,r){const i=new Po(r),s=new Ya(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>$a(await Vo(e),s)),()=>{i.Ou(),e.asyncQueue.enqueueAndForget(async()=>Wa(await Vo(e),s))}}(sl(d),f,u,h)}function sc(e,t){return function(e,t){const n=new L;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=No(e);try{const e=await function(e,t){const n=R(e),r=me.now(),i=t.reduce((e,t)=>e.add(t.key),or());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=Xn(),l=or();return n.Os.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{s=i;const a=[];for(const e of t){const t=Pr(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new Or(e.key,t,rn(t.value.mapValue),Tr.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:tr(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ru[e.currentUser.toKey()];r||(r=new ht(Q)),r=r.insert(t,n),e.Ru[e.currentUser.toKey()]=r}(r,e.batchId,n),await So(r,e.changes),await ka(r.remoteStore)}catch(e){const t=La(e,"Failed to persist write");n.reject(t)}}(await zo(e),t,n)),n.promise}(sl(e),t)}function ac(e,t,n){const r=n.docs.get(t._key),i=new Zl(e);return new Ql(e,i,t._key,r,new Kl(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){S=e}(s.MF),(0,s.om)(new a.uA("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new rl(new U(e.getProvider("auth-internal")),new W(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new M(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pt(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),(0,s.KO)(w,_,e),(0,s.KO)(w,_,"esm2017")}()},529:(e,t,n)=>{"use strict";n.d(t,{cY:()=>p,FA:()=>j,g:()=>P,u:()=>o,Uj:()=>a,Fy:()=>y,tD:()=>U,bD:()=>M,hp:()=>V,T9:()=>d,Tj:()=>u,yU:()=>h,XA:()=>f,mS:()=>l,Ku:()=>$,ZQ:()=>w,sr:()=>E,zJ:()=>g,c1:()=>S,Im:()=>O,lT:()=>C,zW:()=>I,jZ:()=>_,lV:()=>T,nr:()=>N,Ov:()=>A,gE:()=>m,Am:()=>F,I9:()=>z,P1:()=>x,eX:()=>D});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const l=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==o||null==l)throw new s;const c=t<<2|a>>4;if(r.push(c),64!==o){const e=a<<4&240|o>>2;if(r.push(e),64!==l){const e=o<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a=function(e){return function(e){const t=r(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},o=function(e){try{return i.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const c=()=>{try{return l().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/uff_2",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&o(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},u=e=>{var t,n;return null===(n=null===(t=c())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},h=e=>{const t=u(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},d=()=>{var e;return null===(e=c())||void 0===e?void 0:e.config},f=e=>{var t;return null===(t=c())||void 0===t?void 0:t[`_${e}`]};class p{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function g(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function m(e){return(await fetch(e,{credentials:"include"})).ok}function y(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[a(JSON.stringify({alg:"none",type:"JWT"})),a(JSON.stringify(s)),""].join(".")}const v={};let b=!1;function x(e,t){if("undefined"===typeof window||"undefined"===typeof document||!g(window.location.host)||v[e]===t||v[e]||b)return;function n(e){return`__firebase__banner__${e}`}v[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(v))v[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{b=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}i?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function w(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function _(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(w())}function k(){var e;const t=null===(e=c())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function S(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function E(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function T(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function C(){const e=w();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function N(){return!k()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A(){return!k()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function I(){try{return"object"===typeof indexedDB}catch(e){return!1}}function D(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class P extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,P.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,j.prototype.create)}}class j{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(R,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new P(n,s,t)}}const R=/\{\$([^}]+)}/g;function O(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function M(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(L(n)&&L(s)){if(!M(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function L(e){return null!==e&&"object"===typeof e}function F(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function z(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function V(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function U(e,t){const n=new B(e,t);return n.subscribe.bind(n)}class B{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=H),void 0===r.error&&(r.error=H),void 0===r.complete&&(r.complete=H);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function H(){}function $(e){return e&&e._delegate?e._delegate:e}},579:(e,t,n)=>{"use strict";e.exports=n(799)},672:(e,t,n)=>{"use strict";var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},766:function(e,t){var n,r,i;r=[],n=function e(){var t,n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:{},r=!n.document&&!!n.postMessage,i=n.IS_PAPA_WORKER||!1,s={},a=0,o={};function l(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=b(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new f(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,t){var r=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<r){let t=this._config.newline;t||(s=this._config.quoteChar||'"',t=this._handle.guessLineEndings(e,s)),e=[...e.split(t).slice(r)].join(t)}this.isFirstChunk&&w(this._config.beforeFirstChunk)&&void 0!==(s=this._config.beforeFirstChunk(e))&&(e=s),this.isFirstChunk=!1,this._halted=!1,r=this._partialLine+e;var s=(this._partialLine="",this._handle.parse(r,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(e=s.meta.cursor,this._finished||(this._partialLine=r.substring(e-this._baseIndex),this._baseIndex=e),s&&s.data&&(this._rowCount+=s.data.length),r=this._finished||this._config.preview&&this._rowCount>=this._config.preview,i)n.postMessage({results:s,workerId:o.WORKER_ID,finished:r});else if(w(this._config.chunk)&&!t){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=s=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!r||!w(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),r||s&&s.meta.paused||this._nextChunk(),s}this._halted=!0},this._sendError=function(e){w(this._config.error)?this._config.error(e):i&&this._config.error&&n.postMessage({workerId:o.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=o.RemoteChunkSize),l.call(this,e),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),r||(t.onload=x(this._chunkLoaded,this),t.onerror=x(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var e,n=this._config.downloadRequestHeaders;for(e in n)t.setRequestHeader(e,n[e])}var i;this._config.chunkSize&&(i=this._start+this._config.chunkSize-1,t.setRequestHeader("Range","bytes="+this._start+"-"+i));try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}r&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize||t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(e=>null!==(e=e.getResponseHeader("Content-Range"))?parseInt(e.substring(e.lastIndexOf("/")+1)):-1)(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){e=t.statusText||e,this._sendError(new Error(e))}}function u(e){(e=e||{}).chunkSize||(e.chunkSize=o.LocalChunkSize),l.call(this,e);var t,n,r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=x(this._chunkLoaded,this),t.onerror=x(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input,i=(this._config.chunkSize&&(i=Math.min(this._start+this._config.chunkSize,this._input.size),e=n.call(e,this._start,i)),t.readAsText(e,this._config.encoding));r||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function h(e){var t;l.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){var e,n;if(!this._finished)return e=this._config.chunkSize,t=e?(n=t.substring(0,e),t.substring(e)):(n=t,""),this._finished=!t,this.parseChunk(n)}}function d(e){l.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=x(function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=x(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=x(function(){this._streamCleanUp(),r=!0,this._streamData("")},this),this._streamCleanUp=x(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function f(e){var t,n,r,i,s=Math.pow(2,53),a=-s,l=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,c=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,u=this,h=0,d=0,f=!1,m=!1,y=[],v={data:[],errors:[],meta:{}};function x(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function _(){if(v&&r&&(S("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+o.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines&&(v.data=v.data.filter(function(e){return!x(e)})),k()){if(v)if(Array.isArray(v.data[0])){for(var t=0;k()&&t<v.data.length;t++)v.data[t].forEach(n);v.data.splice(0,1)}else v.data.forEach(n);function n(t,n){w(e.transformHeader)&&(t=e.transformHeader(t,n)),y.push(t)}}function i(t,n){for(var r=e.header?{}:[],i=0;i<t.length;i++){var o=i,u=t[i];u=((t,n)=>(t=>(e.dynamicTypingFunction&&void 0===e.dynamicTyping[t]&&(e.dynamicTyping[t]=e.dynamicTypingFunction(t)),!0===(e.dynamicTyping[t]||e.dynamicTyping)))(t)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&((e=>{if(l.test(e)&&(e=parseFloat(e),a<e&&e<s))return 1})(n)?parseFloat(n):c.test(n)?new Date(n):""===n?null:n):n)(o=e.header?i>=y.length?"__parsed_extra":y[i]:o,u=e.transform?e.transform(u,o):u),"__parsed_extra"===o?(r[o]=r[o]||[],r[o].push(u)):r[o]=u}return e.header&&(i>y.length?S("FieldMismatch","TooManyFields","Too many fields: expected "+y.length+" fields but parsed "+i,d+n):i<y.length&&S("FieldMismatch","TooFewFields","Too few fields: expected "+y.length+" fields but parsed "+i,d+n)),r}var u;v&&(e.header||e.dynamicTyping||e.transform)&&(u=1,!v.data.length||Array.isArray(v.data[0])?(v.data=v.data.map(i),u=v.data.length):v.data=i(v.data,0),e.header&&v.meta&&(v.meta.fields=y),d+=u)}function k(){return e.header&&0===y.length}function S(e,t,n,r){e={type:e,code:t,message:n},void 0!==r&&(e.row=r),v.errors.push(e)}w(e.step)&&(i=e.step,e.step=function(t){v=t,k()?_():(_(),0!==v.data.length&&(h+=t.data.length,e.preview&&h>e.preview?n.abort():(v.data=v.data[0],i(v,u))))}),this.parse=function(i,s,a){var l=e.quoteChar||'"';return e.newline||(e.newline=this.guessLineEndings(i,l)),r=!1,e.delimiter?w(e.delimiter)&&(e.delimiter=e.delimiter(i),v.meta.delimiter=e.delimiter):((l=((t,n,r,i,s)=>{var a,l,c,u;s=s||[",","\t","|",";",o.RECORD_SEP,o.UNIT_SEP];for(var h=0;h<s.length;h++){for(var d,f=s[h],p=0,m=0,y=0,v=(c=void 0,new g({comments:i,delimiter:f,newline:n,preview:10}).parse(t)),b=0;b<v.data.length;b++)r&&x(v.data[b])?y++:(m+=d=v.data[b].length,void 0===c?c=d:0<d&&(p+=Math.abs(d-c),c=d));0<v.data.length&&(m/=v.data.length-y),(void 0===l||p<=l)&&(void 0===u||u<m)&&1.99<m&&(l=p,a=f,u=m)}return{successful:!!(e.delimiter=a),bestDelimiter:a}})(i,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess)).successful?e.delimiter=l.bestDelimiter:(r=!0,e.delimiter=o.DefaultDelimiter),v.meta.delimiter=e.delimiter),l=b(e),e.preview&&e.header&&l.preview++,t=i,n=new g(l),v=n.parse(t,s,a),_(),f?{meta:{paused:!0}}:v||{meta:{paused:!1}}},this.paused=function(){return f},this.pause=function(){f=!0,n.abort(),t=w(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){u.streamer._halted?(f=!1,u.streamer.parseChunk(t,!0)):setTimeout(u.resume,3)},this.aborted=function(){return m},this.abort=function(){m=!0,n.abort(),v.meta.aborted=!0,w(e.complete)&&e.complete(v),t=""},this.guessLineEndings=function(e,t){e=e.substring(0,1048576),t=new RegExp(p(t)+"([^]*?)"+p(t),"gm");var n=(e=e.replace(t,"")).split("\r");if(e=1<(t=e.split("\n")).length&&t[0].length<n[0].length,1===n.length||e)return"\n";for(var r=0,i=0;i<n.length;i++)"\n"===n[i][0]&&r++;return r>=n.length/2?"\r\n":"\r"}}function p(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(e){var t=(e=e||{}).delimiter,n=e.newline,r=e.comments,i=e.step,s=e.preview,a=e.fastMode,l=null,c=!1,u=null==e.quoteChar?'"':e.quoteChar,h=u;if(void 0!==e.escapeChar&&(h=e.escapeChar),("string"!=typeof t||-1<o.BAD_DELIMITERS.indexOf(t))&&(t=","),r===t)throw new Error("Comment character same as delimiter");!0===r?r="#":("string"!=typeof r||-1<o.BAD_DELIMITERS.indexOf(r))&&(r=!1),"\n"!==n&&"\r"!==n&&"\r\n"!==n&&(n="\n");var d=0,f=!1;this.parse=function(o,g,m){if("string"!=typeof o)throw new Error("Input must be a string");var y=o.length,v=t.length,b=n.length,x=r.length,_=w(i),k=[],S=[],E=[],T=d=0;if(!o)return F();if(a||!1!==a&&-1===o.indexOf(u)){for(var C=o.split(n),N=0;N<C.length;N++){if(E=C[N],d+=E.length,N!==C.length-1)d+=n.length;else if(m)return F();if(!r||E.substring(0,x)!==r){if(_){if(k=[],R(E.split(t)),z(),f)return F()}else R(E.split(t));if(s&&s<=N)return k=k.slice(0,s),F(!0)}}return F()}for(var A=o.indexOf(t,d),I=o.indexOf(n,d),D=new RegExp(p(h)+p(u),"g"),P=o.indexOf(u,d);;)if(o[d]===u)for(P=d,d++;;){if(-1===(P=o.indexOf(u,P+1)))return m||S.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:k.length,index:d}),M();if(P===y-1)return M(o.substring(d,P).replace(D,u));if(u===h&&o[P+1]===h)P++;else if(u===h||0===P||o[P-1]!==h){-1!==A&&A<P+1&&(A=o.indexOf(t,P+1));var j=O(-1===(I=-1!==I&&I<P+1?o.indexOf(n,P+1):I)?A:Math.min(A,I));if(o.substr(P+1+j,v)===t){E.push(o.substring(d,P).replace(D,u)),o[d=P+1+j+v]!==u&&(P=o.indexOf(u,d)),A=o.indexOf(t,d),I=o.indexOf(n,d);break}if(j=O(I),o.substring(P+1+j,P+1+j+b)===n){if(E.push(o.substring(d,P).replace(D,u)),L(P+1+j+b),A=o.indexOf(t,d),P=o.indexOf(u,d),_&&(z(),f))return F();if(s&&k.length>=s)return F(!0);break}S.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:k.length,index:d}),P++}}else if(r&&0===E.length&&o.substring(d,d+x)===r){if(-1===I)return F();d=I+b,I=o.indexOf(n,d),A=o.indexOf(t,d)}else if(-1!==A&&(A<I||-1===I))E.push(o.substring(d,A)),d=A+v,A=o.indexOf(t,d);else{if(-1===I)break;if(E.push(o.substring(d,I)),L(I+b),_&&(z(),f))return F();if(s&&k.length>=s)return F(!0)}return M();function R(e){k.push(e),T=d}function O(e){var t=0;return-1!==e&&(e=o.substring(P+1,e))&&""===e.trim()?e.length:t}function M(e){return m||(void 0===e&&(e=o.substring(d)),E.push(e),d=y,R(E),_&&z()),F()}function L(e){d=e,R(E),E=[],I=o.indexOf(n,d)}function F(r){if(e.header&&!g&&k.length&&!c){var i=k[0],s=Object.create(null),a=new Set(i);let t=!1;for(let n=0;n<i.length;n++){let r=i[n];if(s[r=w(e.transformHeader)?e.transformHeader(r,n):r]){let e,o=s[r];for(;e=r+"_"+o,o++,a.has(e););a.add(e),i[n]=e,s[r]++,t=!0,(l=null===l?{}:l)[e]=r}else s[r]=1,i[n]=r;a.add(r)}t&&console.warn("Duplicate headers found and renamed."),c=!0}return{data:k,errors:S,meta:{delimiter:t,linebreak:n,aborted:f,truncated:!!r,cursor:T+(g||0),renamedHeaders:l}}}function z(){i(F()),k=[],S=[]}},this.abort=function(){f=!0},this.getCharIndex=function(){return d}}function m(e){var t=e.data,n=s[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var i={abort:function(){r=!0,y(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:v,resume:v};if(w(n.userStep)){for(var a=0;a<t.results.data.length&&(n.userStep({data:t.results.data[a],errors:t.results.errors,meta:t.results.meta},i),!r);a++);delete t.results}else w(n.userChunk)&&(n.userChunk(t.results,i,t.file),delete t.results)}t.finished&&!r&&y(t.workerId,t.results)}function y(e,t){var n=s[e];w(n.userComplete)&&n.userComplete(t),n.terminate(),delete s[e]}function v(){throw new Error("Not implemented.")}function b(e){if("object"!=typeof e||null===e)return e;var t,n=Array.isArray(e)?[]:{};for(t in e)n[t]=b(e[t]);return n}function x(e,t){return function(){e.apply(t,arguments)}}function w(e){return"function"==typeof e}return o.parse=function(t,r){var i=(r=r||{}).dynamicTyping||!1;if(w(i)&&(r.dynamicTypingFunction=i,i={}),r.dynamicTyping=i,r.transform=!!w(r.transform)&&r.transform,!r.worker||!o.WORKERS_SUPPORTED)return i=null,o.NODE_STREAM_INPUT,"string"==typeof t?(t=(e=>65279!==e.charCodeAt(0)?e:e.slice(1))(t),i=new(r.download?c:h)(r)):!0===t.readable&&w(t.read)&&w(t.on)?i=new d(r):(n.File&&t instanceof File||t instanceof Object)&&(i=new u(r)),i.stream(t);(i=(()=>{var t;return!!o.WORKERS_SUPPORTED&&(t=(()=>{var t=n.URL||n.webkitURL||null,r=e.toString();return o.BLOB_URL||(o.BLOB_URL=t.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",r,")();"],{type:"text/javascript"})))})(),(t=new n.Worker(t)).onmessage=m,t.id=a++,s[t.id]=t)})()).userStep=r.step,i.userChunk=r.chunk,i.userComplete=r.complete,i.userError=r.error,r.step=w(r.step),r.chunk=w(r.chunk),r.complete=w(r.complete),r.error=w(r.error),delete r.worker,i.postMessage({input:t,config:r,workerId:i.id})},o.unparse=function(e,t){var n=!1,r=!0,i=",",s="\r\n",a='"',l=a+a,c=!1,u=null,h=!1,d=((()=>{if("object"==typeof t){if("string"!=typeof t.delimiter||o.BAD_DELIMITERS.filter(function(e){return-1!==t.delimiter.indexOf(e)}).length||(i=t.delimiter),"boolean"!=typeof t.quotes&&"function"!=typeof t.quotes&&!Array.isArray(t.quotes)||(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(s=t.newline),"string"==typeof t.quoteChar&&(a=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");u=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+a),t.escapeFormulae instanceof RegExp?h=t.escapeFormulae:"boolean"==typeof t.escapeFormulae&&t.escapeFormulae&&(h=/^[=+\-@\t\r].*$/)}})(),new RegExp(p(a),"g"));if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return f(null,e,c);if("object"==typeof e[0])return f(u||Object.keys(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||u),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),f(e.fields||[],e.data||[],c);throw new Error("Unable to serialize unrecognized input");function f(e,t,n){var a="",o=("string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t)),Array.isArray(e)&&0<e.length),l=!Array.isArray(t[0]);if(o&&r){for(var c=0;c<e.length;c++)0<c&&(a+=i),a+=g(e[c],c);0<t.length&&(a+=s)}for(var u=0;u<t.length;u++){var h=(o?e:t[u]).length,d=!1,f=o?0===Object.keys(t[u]).length:0===t[u].length;if(n&&!o&&(d="greedy"===n?""===t[u].join("").trim():1===t[u].length&&0===t[u][0].length),"greedy"===n&&o){for(var p=[],m=0;m<h;m++){var y=l?e[m]:m;p.push(t[u][y])}d=""===p.join("").trim()}if(!d){for(var v=0;v<h;v++){0<v&&!f&&(a+=i);var b=o&&l?e[v]:v;a+=g(t[u][b],v)}u<t.length-1&&(!n||0<h&&!f)&&(a+=s)}}return a}function g(e,t){var r,s;return null==e?"":e.constructor===Date?JSON.stringify(e).slice(1,25):(s=!1,h&&"string"==typeof e&&h.test(e)&&(e="'"+e,s=!0),r=e.toString().replace(d,l),(s=s||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||((e,t)=>{for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1})(r,o.BAD_DELIMITERS)||-1<r.indexOf(i)||" "===r.charAt(0)||" "===r.charAt(r.length-1))?a+r+a:r)}},o.RECORD_SEP=String.fromCharCode(30),o.UNIT_SEP=String.fromCharCode(31),o.BYTE_ORDER_MARK="\ufeff",o.BAD_DELIMITERS=["\r","\n",'"',o.BYTE_ORDER_MARK],o.WORKERS_SUPPORTED=!r&&!!n.Worker,o.NODE_STREAM_INPUT=1,o.LocalChunkSize=10485760,o.RemoteChunkSize=5242880,o.DefaultDelimiter=",",o.Parser=g,o.ParserHandle=f,o.NetworkStreamer=c,o.FileStreamer=u,o.StringStreamer=h,o.ReadableStreamStreamer=d,n.jQuery&&((t=n.jQuery).fn.parse=function(e){var r=e.config||{},i=[];return this.each(function(e){if("INPUT"!==t(this).prop("tagName").toUpperCase()||"file"!==t(this).attr("type").toLowerCase()||!n.FileReader||!this.files||0===this.files.length)return!0;for(var s=0;s<this.files.length;s++)i.push({file:this.files[s],inputElem:this,instanceConfig:t.extend({},r)})}),s(),this;function s(){if(0===i.length)w(e.complete)&&e.complete();else{var n,r,s,l,c=i[0];if(w(e.before)){var u=e.before(c.file,c.inputElem);if("object"==typeof u){if("abort"===u.action)return n="AbortError",r=c.file,s=c.inputElem,l=u.reason,void(w(e.error)&&e.error({name:n},r,s,l));if("skip"===u.action)return void a();"object"==typeof u.config&&(c.instanceConfig=t.extend(c.instanceConfig,u.config))}else if("skip"===u)return void a()}var h=c.instanceConfig.complete;c.instanceConfig.complete=function(e){w(h)&&h(e,c.file,c.inputElem),a()},o.parse(c.file,c.instanceConfig)}}function a(){i.splice(0,1),s()}}),i&&(n.onmessage=function(e){e=e.data,void 0===o.WORKER_ID&&e&&(o.WORKER_ID=e.workerId),"string"==typeof e.input?n.postMessage({workerId:o.WORKER_ID,results:o.parse(e.input,e.config),finished:!0}):(n.File&&e.input instanceof File||e.input instanceof Object)&&(e=o.parse(e.input,e.config))&&n.postMessage({workerId:o.WORKER_ID,results:e,finished:!0})}),(c.prototype=Object.create(l.prototype)).constructor=c,(u.prototype=Object.create(l.prototype)).constructor=u,(h.prototype=Object.create(h.prototype)).constructor=h,(d.prototype=Object.create(l.prototype)).constructor=d,o},void 0===(i="function"===typeof n?n.apply(t,r):n)||(e.exports=i)},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},812:(e,t,n)=>{"use strict";n.d(t,{h1:()=>o,uA:()=>i});var r=n(529);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const s="[DEFAULT]";class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:s})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===s?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.component?this.component.multipleInstances?e:s:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class o{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(m=!1,w(e),!g)if(null!==r(c))g=!0,S||(S=!0,k());else{var t=r(u);null!==t&&P(_,t.startTime-e)}}var k,S=!1,E=-1,T=5,C=-1;function N(){return!!y||!(t.unstable_now()-C<T)}function A(){if(y=!1,S){var e=t.unstable_now();C=e;var n=!0;try{e:{g=!1,m&&(m=!1,b(E),E=-1),p=!0;var s=f;try{t:{for(w(e),d=r(c);null!==d&&!(d.expirationTime>e&&N());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){d.callback=o,w(e),n=!0;break t}d===r(c)&&i(c),w(e)}else i(c);d=r(c)}if(null!==d)n=!0;else{var l=r(u);null!==l&&P(_,l.startTime-e),n=!1}}break e}finally{d=null,f=s,p=!1}n=void 0}}finally{n?k():S=!1}}}if("function"===typeof x)k=function(){x(A)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,D=I.port2;I.port1.onmessage=A,k=function(){D.postMessage(null)}}else k=function(){v(A,0)};function P(e,n){E=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(m?(b(E),E=-1):m=!0,P(_,s-a))):(e.sortIndex=o,n(c,e),g||p||(g=!0,S||(S=!0,k()))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(43),t=n(391);const r={de:{welcome:'Willkommen auf dem Clan-Dashboard von "Union For Friends 2"',chooseLanguage:"W\xe4hle hier deine Sprache",continueButton:"Weiter",backToNavigation:"Zur\xfcck zur Navigation",backToInfo:"Zur\xfcck zur Info-Seite",copyright:"\xa9 Copyright by PizzaOnkel",infoTitle:"\xdcber unseren Clan und das Spiel",clanName:"Unser Clan: Union For Friends 2",clanDescription:"Wir sind eine Gemeinschaft leidenschaftlicher Spieler, die sich dem Abenteuer und dem gemeinsamen Erfolg verschrieben haben. Egal COT oder KvK, wir unterst\xfctzen uns gegenseitig und haben Spa\xdf dabei.",gameTitle:"Das Spiel: Total Battle",gameDescription:"ist ein taktisch, strategisches Kriegsspiel. Egal ob du \xfcberfallen wirst, oder selbst \xfcberf\xe4lle durchf\xfchrst, wir halten uns stets an die Netikette.\nWir befinden uns im K\xf6nigreich Nr. 36 und folgen den Gesetzen des K\xf6nigreichs ROE 36*",normsInfo:"In diesem Spiel und in unserem Clan, musst du Normen erf\xfcllen um selbst erfolgreich zu sein und den Clan zum Erfolg zu verhelfen.",playerInfo:"Hier auf dieser Seite kannst du dich \xfcber Clan- und pers\xf6nliche Statistiken informieren.",contactInfo:"Wenn du Fehler entdeckst oder Vorschl\xe4ge/Anregungen zu dieser Seite hast, nutze das Kontaktformular",goodLuck:"Ich w\xfcnsche euch allen eine erfolgreiche Jagd.\nLos geht's \u2013 viel Gl\xfcck und habt Spa\xdf!",signature:"Der PizzaOnkel",navigationTitle:"Clan-Navigation",currentEventPeriod:"Aktuelle Veranstaltungsperiode",currentEventPeriodDesc:"Zeigt die aktuellen Gesamtergebnisse der Veranstaltungsperiode an.",standardsEvaluation:"UFF_2_Standards Auswertung",standardsEvaluationDesc:"Diese Seite zeigt die Auswertung der Spielerfortschritte basierend auf den UFF_2_Standards.",eventArchive:"Veranstaltungsarchiv",eventArchiveDesc:"\xdcbersicht \xfcber vergangene Veranstaltungen.",topTen:"Top Ten",topTenDesc:"Zeigt die Top 10 Spieler in verschiedenen Kategorien an.",hallOfChampions:"Halle der Champions",hallOfChampionsDesc:"Zeigt die Champions aller Zeiten an.",contactForm:"Kontaktformular",contactFormDesc:"Kontaktiere die Administration.",adminPanel:"Admin-Panel",adminPanelDesc:"Verwalte Clan-Einstellungen und Spielerdaten.",managePlayers:"Spieler verwalten",managePlayersDesc:"F\xfcge neue Spieler hinzu, bearbeite oder l\xf6sche bestehende Spieler.",manageRanks:"R\xe4nge verwalten",manageRanksDesc:"Erstelle, bearbeite oder l\xf6sche R\xe4nge f\xfcr Spieler.",manageTroopStrengths:"Truppenst\xe4rken verwalten",manageTroopStrengthsDesc:"Definiere und verwalte verschiedene Truppenst\xe4rken.",manageNorms:"Normen verwalten",manageNormsDesc:"Lege Normen fest und weise sie den Truppenst\xe4rken zu.",uploadResults:"Ergebnisse hochladen",uploadResultsDesc:"Lade die JSON-Datei mit den Spielergebnissen hoch.",createPeriod:"Zeitraum erstellen",createPeriodDesc:"Erstelle neue Perioden f\xfcr Events und Auswertungen.",currentTotalEvent:"Aktuelle Gesamtereignisse",currentTotalEventDesc:"Zeigt die aktuellen Gesamtergebnisse der Veranstaltungsperiode an.",eventArchiveAdmin:"Ereignisarchiv (Admin)",eventArchiveAdminDesc:"Verwalte historische Eventdaten und archivierte Ergebnisse.",backToAdminPanel:"Zur\xfcck zum Admin-Panel",comingSoon:"Diese Seite befindet sich noch im Aufbau. Bitte hab etwas Geduld!",adminPanelTitle:"Admin-Panel",managePlayersTitle:"Spieler verwalten",manageRanksTitle:"R\xe4nge verwalten",manageTroopStrengthsTitle:"Truppenst\xe4rken verwalten",manageNormsTitle:"Normen verwalten",uploadResultsTitle:"Ergebnisse hochladen",createPeriodTitle:"Zeitraum erstellen",currentTotalEventTitle:"Aktuelle Gesamtereignisse",eventArchiveTitle:"Veranstaltungsarchiv",topTenTitle:"Top Ten",hallOfChampionsTitle:"Halle der Champions",contactFormTitle:"Kontaktformular",standardsEvaluationTitle:"UFF_2_Standards Auswertung"},en:{welcome:'Welcome to the Clan Dashboard of "Union For Friends 2"',chooseLanguage:"Choose your language here",continueButton:"Continue",backToNavigation:"To Navigation",backToInfo:"Back to Info Page",copyright:"\xa9 Copyright by PizzaOnkel",infoTitle:"About our Clan and the Game",clanName:"Our Clan: Union For Friends 2",clanDescription:"We are a community of passionate players who have dedicated themselves to adventure and common success. Whether COT or KvK, we support each other and have fun doing it.",gameTitle:"The Game: Total Battle",gameDescription:"is a tactical, strategic war game. Whether you are raided or carry out raids yourself, we always adhere to netiquette.\nWe are in Kingdom No. 36 and follow the laws of Kingdom ROE 36*",normsInfo:"In this game and in our clan, you must fulfill norms to be successful yourself and to help the clan succeed.",playerInfo:"On this page you can find information about clan and personal statistics.",contactInfo:"If you find errors or have suggestions/ideas for this page, please use the contact form",goodLuck:"I wish you all a successful hunt.\nLet's go \u2013 good luck and have fun!",signature:"Der PizzaOnkel",navigationTitle:"Clan Navigation",currentEventPeriod:"Current Event Period",currentEventPeriodDesc:"Shows the current overall results of the event period.",standardsEvaluation:"UFF_2_Standards Evaluation",standardsEvaluationDesc:"This page shows the evaluation of player progress based on the UFF_2_Standards.",eventArchive:"Event Archive",eventArchiveDesc:"Overview of past events.",topTen:"Top Ten",topTenDesc:"Shows the Top 10 players in various categories.",hallOfChampions:"Hall of Champions",hallOfChampionsDesc:"Shows the champions of all time.",contactForm:"Contact Form",contactFormDesc:"Contact the administration.",adminPanel:"Admin Panel",adminPanelDesc:"Manage clan settings and player data.",managePlayers:"Manage Players",managePlayersDesc:"Add new players, edit or delete existing ones.",manageRanks:"Manage Ranks",manageRanksDesc:"Create, edit, or delete ranks for players.",manageTroopStrengths:"Manage Troop Strengths",manageTroopStrengthsDesc:"Set the troop strengths of players.",manageNorms:"Manage Norms",manageNormsDesc:"Define norms for clan chests and points.",uploadResults:"Upload Results",uploadResultsDesc:"Upload player results as a JSON file.",createPeriod:"Create Period",createPeriodDesc:"Create new periods for events and evaluations.",currentTotalEvent:"Current Total Event",currentTotalEventDesc:"Shows the current overall results of the event period.",eventArchiveAdmin:"Event Archive (Admin)",eventArchiveAdminDesc:"Manage historical event data and archived results.",backToAdminPanel:"Back to Admin Panel",comingSoon:"This page is under construction. Please be patient!",adminPanelTitle:"Admin Panel",managePlayersTitle:"Manage Players",manageRanksTitle:"Manage Ranks",manageTroopStrengthsTitle:"Manage Troop Strengths",manageNormsTitle:"Manage Norms",uploadResultsTitle:"Upload Results",createPeriodTitle:"Create Period",currentTotalEventTitle:"Current Total Event",eventArchiveTitle:"Event Archive",topTenTitle:"Top Ten",hallOfChampionsTitle:"Hall of Champions",contactFormTitle:"Contact Form",standardsEvaluationTitle:"UFF_2_Standards Evaluation"},fr:{welcome:'Bienvenue sur le tableau de bord du clan "Union For Friends 2"',chooseLanguage:"Choisissez votre langue ici",continueButton:"Continuer",backToNavigation:"Vers la Navigation",backToInfo:"Retour \xe0 la page d'informations",copyright:"\xa9 Copyright by PizzaOnkel",infoTitle:"\xc0 propos de notre clan et du jeu",clanName:"Notre Clan: Union For Friends 2",clanDescription:"Nous sommes une communaut\xe9 de joueurs passionn\xe9s qui se sont consacr\xe9s \xe0 l'aventure et au succ\xe8s commun. Que ce soit COT ou KvK, nous nous soutenons mutuellement et nous amusons.",gameTitle:"Le Jeu: Total Battle",gameDescription:"est un jeu de guerre tactique et strat\xe9gique. Que vous soyez attaqu\xe9 ou que vous meniez vous-m\xeame des attaques, nous respectons toujours la n\xe9tiquette.\nNous sommes dans le Royaume n\xb0 36 und suivons les lois du Royaume ROE 36*",normsInfo:"Dans ce jeu und dans notre clan, vous devez respecter les normes pour r\xe9ussir und aider le clan \xe0 r\xe9ussir.",playerInfo:"Sur cette page, vous trouverez des informations sur le clan und les statistiques personnelles.",contactInfo:"Si vous trouvez des erreurs ou avez des suggestions/id\xe9es pour cette page, veuillez utiliser le formulaire de contact",goodLuck:"Je vous souhaite \xe0 tous une chasse r\xe9ussige.\nC'est parti \u2013 bonne chance et amusez-vous!",signature:"Der PizzaOnkel",navigationTitle:"Navigation du Clan",currentEventPeriod:"P\xe9riode d'\xe9v\xe9nement actuelle",currentEventPeriodDesc:"Affiche les r\xe9sultats globaux actuels de la p\xe9riode d'\xe9v\xe9nement.",standardsEvaluation:"\xc9valuation UFF_2_Standards",standardsEvaluationDesc:"Cette page affiche l'\xe9valuation de la progression des joueurs bas\xe9e sur les UFF_2_Standards.",eventArchive:"Archives des \xe9v\xe9nements",eventArchiveDesc:"Aper\xe7u des \xe9v\xe9nements pass\xe9s.",topTen:"Top Dix",topTenDesc:"Affiche les 10 meilleurs joueurs dans diverses cat\xe9gories.",hallOfChampions:"Hall des Champions",hallOfChampionsDesc:"Affiche les champions de tous les temps.",contactForm:"Formulaire de contact",contactFormDesc:"Contactez l'administration.",adminPanel:"Panneau d'administration",adminPanelDesc:"G\xe9rer les param\xe8tres du clan und les donn\xe9es des joueurs.",managePlayers:"G\xe9rer les joueurs",managePlayersDesc:"Ajouter de nouveaux joueurs, modifier ou supprimer ceux qui existent.",manageRanks:"G\xe9rer les rangs",manageRanksDesc:"Cr\xe9er, modifier ou supprimer des rangs pour les joueurs.",manageTroopStrengths:"G\xe9rer les forces de troupes",manageTroopStrengthsDesc:"D\xe9finir et g\xe9rer diverses forces de troupes.",manageNorms:"G\xe9rer les normes",manageNormsDesc:"\xc9tablir des normes et les attribuer aux forces de troupes.",uploadResults:"T\xe9l\xe9charger les r\xe9sultats",uploadResultsDesc:"T\xe9l\xe9charger le fichier JSON avec les r\xe9sultats des joueurs.",createPeriod:"Cr\xe9er une p\xe9riode",createPeriodDesc:"Cr\xe9er de nouvelles p\xe9riodes pour les \xe9v\xe9nements et les \xe9valuations.",currentTotalEvent:"\xc9v\xe9nement total actuel",currentTotalEventDesc:"Affiche les r\xe9sultats globaux actuels de la p\xe9riode d'\xe9v\xe9nement.",eventArchiveAdmin:"Archives des \xe9v\xe9nements (Admin)",eventArchiveAdminDesc:"G\xe9rer les donn\xe9es historiques des \xe9v\xe9nements und les r\xe9sultats archiv\xe9s.",backToAdminPanel:"Retour au panneau d'administration",comingSoon:"Cette page est en construction. Veuillez patienter!",adminPanelTitle:"Panneau d'administration",managePlayersTitle:"G\xe9rer les joueurs",manageRanksTitle:"G\xe9rer les rangs",manageTroopStrengthsTitle:"G\xe9rer les forces de troupes",manageNormsTitle:"G\xe9rer les normes",uploadResultsTitle:"T\xe9l\xe9charger les r\xe9sultats",createPeriodTitle:"Cr\xe9er une p\xe9riode",currentTotalEventTitle:"\xc9v\xe9nement total actuel",eventArchiveTitle:"Archives des \xe9v\xe9nements",topTenTitle:"Top Dix",hallOfChampionsTitle:"Hall des Champions",contactFormTitle:"Formulaire de contact",standardsEvaluationTitle:"\xc9valuation UFF_2_Standards"},es:{welcome:'Bienvenido al Panel de Clan de "Union For Friends 2"',chooseLanguage:"Elige tu idioma aqu\xed",continueButton:"Continuar",backToNavigation:"A la Navegaci\xf3n",backToInfo:"Volver a la p\xe1gina de informaci\xf3n",copyright:"\xa9 Copyright by PizzaOnkel",infoTitle:"Sobre nuestro Clan y el Juego",clanName:"Nuestro Clan: Union For Friends 2",clanDescription:"Somos una comunidad de jugadores apasionados que se han dedicado a la aventura y al \xe9xito com\xfan. Ya sea COT o KvK, nos apoyamos mutuamente y nos divertimos.",gameTitle:"El Juego: Total Battle",gameDescription:"es un juego de guerra t\xe1ctico y estrat\xe9gico. Ya sea que te ataquen o realices ataques t\xfa mismo, siempre nos adherimos a la netiqueta.\nEstamos en el Reino No. 36 y seguimos las leyes del Reino ROE 36*",normsInfo:"En este juego y en nuestro clan, debes cumplir las normas para tener \xe9xito y ayudar al clan a tener \xe9xito.",playerInfo:"En esta p\xe1gina puedes encontrar informaci\xf3n sobre el clan y estad\xedsticas personales.",contactInfo:"Si encuentras errores o tienes sugerencias/ideas para esta p\xe1gina, utiliza el formulario de contacto",goodLuck:"\xa1Les deseo a todos una caza exitosa!\n\xa1Vamos \u2013 buena suerte y divi\xe9rtanse!",signature:"Der PizzaOnkel",navigationTitle:"Navegaci\xf3n del Clan",currentEventPeriod:"Per\xedodo de evento actual",currentEventPeriodDesc:"Muestra los resultados generales actuales del per\xedodo del evento.",standardsEvaluation:"Evaluaci\xf3n de UFF_2_Standards",standardsEvaluationDesc:"Esta p\xe1gina muestra la evaluaci\xf3n del progreso del jugador basada en los UFF_2_Standards.",eventArchive:"Archivo de eventos",eventArchiveDesc:"Resumen de eventos pasados.",topTen:"Top Diez",topTenDesc:"Muestra los 10 mejores jugadores en varias categor\xedas.",hallOfChampions:"Sal\xf3n de Campeones",hallOfChampionsDesc:"Muestra a los campeones de todos los tiempos.",contactForm:"Formulario de contacto",contactFormDesc:"Contactar con la administraci\xf3n.",adminPanel:"Panel de administraci\xf3n",adminPanelDesc:"Gestionar la configuraci\xf3n del clan y los datos de los jugadores.",managePlayers:"Gestionar jugadores",managePlayersDesc:"A\xf1adir nuevos jugadores, editar o eliminar los existentes.",manageRanks:"Gestionar rangos",manageRanksDesc:"Crear, editar o eliminar rangos para jugadores.",manageTroopStrengths:"Gestionar fuerzas de tropas",manageTroopStrengthsDesc:"Definir y gestionar varias fuerzas de tropas.",manageNorms:"Gestionar normas",manageNormsDesc:"Establecer normas y asignarlas a las fuerzas de tropas.",uploadResults:"Subir resultados",uploadResultsDesc:"Subir el archivo JSON con los resultados de los jugadores.",createPeriod:"Crear per\xedodo",createPeriodDesc:"Crear nuevos per\xedodos para eventos y evaluaciones.",currentTotalEvent:"Evento total actual",currentTotalEventDesc:"Muestra los resultados generales actuales del per\xedodo del evento.",eventArchiveAdmin:"Archivo de eventos (Admin)",eventArchiveAdminDesc:"Gestionar datos hist\xf3ricos de eventos y resultados archivados.",backToAdminPanel:"Volver al panel de administraci\xf3n",comingSoon:"Esta p\xe1gina est\xe1 en construcci\xf3n. \xa1Por favor, sea paciente!",adminPanelTitle:"Panel de administraci\xf3n",managePlayersTitle:"Gestionar jugadores",manageRanksTitle:"Gestionar rangos",manageTroopStrengthsTitle:"Gestionar fuerzas de tropas",manageNormsTitle:"Gestionar normas",uploadResultsTitle:"Subir resultados",createPeriodTitle:"Crear per\xedodo",currentTotalEventTitle:"Evento total actual",eventArchiveTitle:"Archivo de eventos",topTenTitle:"Top Diez",hallOfChampionsTitle:"Sal\xf3n de Campeones",contactFormTitle:"Formulario de contacto",standardsEvaluationTitle:"Evaluaci\xf3n de UFF_2_Standards"},it:{welcome:'Benvenuti nella Dashboard del Clan di "Union For Friends 2"',chooseLanguage:"Scegli la tua lingua qui",continueButton:"Continua",backToNavigation:"Alla Navigazione",backToInfo:"Torna alla pagina informazioni",copyright:"\xa9 Copyright by PizzaOnkel",infoTitle:"Informazioni sul nostro Clan e sul Gioco",clanName:"Il nostro Clan: Union For Friends 2",clanDescription:"Siamo una comunit\xe0 di giocatori appassionati che si sono dedicati all'avventura e al successo comune. Che si tratti di COT o KvK, ci sosteniamo a vicenda e ci divertiamo.",gameTitle:"Il Gioco: Total Battle",gameDescription:"\xe8 un gioco di guerra tattico e strategico. Che tu venga attaccato o che tu stesso conduca attacchi, ci atteniamo sempre alla netiquette.\nSiamo nel Regno n. 36 und seguiamo le leggi del Regno ROE 36*",normsInfo:"In questo gioco und in unserem clan, devi rispettare le norme per avere successo und aiutare il clan ad avere successo.",playerInfo:"Su questa pagina puoi trovare informazioni sul clan und statistiche personali.",contactInfo:"Se trovi errori o hai suggerimenti/idee per questa pagina, utilizza il modulo di contatto",goodLuck:"Auguro a tutti una caccia di successo!\nAndiamo \u2013 buona fortuna e buon divertimento!",signature:"Der PizzaOnkel",navigationTitle:"Navigazione Clan",currentEventPeriod:"Periodo evento attuale",currentEventPeriodDesc:"Mostra i risultati complessivi attuali del periodo dell'evento.",standardsEvaluation:"Valutazione UFF_2_Standards",standardsEvaluationDesc:"Questa pagina mostra la valutazione del progresso del giocatore basata sugli UFF_2_Standards.",eventArchive:"Archivio eventi",eventArchiveDesc:"Panoramica degli eventi passati.",topTen:"Top Dieci",topTenDesc:"Mostra i 10 migliori giocatori in varie categorie.",hallOfChampions:"Sala dei Campioni",hallOfChampionsDesc:"Mostra i campioni di tutti i tempi.",contactForm:"Modulo di contatto",contactFormDesc:"Contatta l'amministrazione.",adminPanel:"Pannello di amministrazione",adminPanelDesc:"Gestisci le impostazioni del clan und i dati dei giocatori.",managePlayers:"Gestisci giocatori",managePlayersDesc:"Aggiungi nuovi giocatori, modifica o elimina quelli esistenti.",manageRanks:"Gestisci ranghi",manageRanksDesc:"Crea, modifica o elimina ranghi per i giocatori.",manageTroopStrengths:"Gestisci forze di truppe",manageTroopStrengthsDesc:"Definisci e gestisci varie forze di truppe.",manageNorms:"Gestisci norme",manageNormsDesc:"Imposta norme e assegnale alle forze di truppe.",uploadResults:"Carica risultati",uploadResultsDesc:"Carica il file JSON con i risultati dei giocatori.",createPeriod:"Crea periodo",createPeriodDesc:"Crea nuovi periodi per eventi e valutazioni.",currentTotalEvent:"Evento totale attuale",currentTotalEventDesc:"Mostra i risultati complessivi attuali del periodo dell'evento.",eventArchiveAdmin:"Archivio eventi (Admin)",eventArchiveAdminDesc:"Gestisci dati storici di eventi und risultati archiviati.",backToAdminPanel:"Torna al pannello di amministrazione",comingSoon:"Questa pagina \xe8 in costruzione. Per favore, sii paziente!",adminPanelTitle:"Pannello di amministrazione",managePlayersTitle:"Gestisci giocatori",manageRanksTitle:"Gestisci ranghi",manageTroopStrengthsTitle:"Gestisci forze di truppe",manageNormsTitle:"Gestisci norme",uploadResultsTitle:"Carica risultati",createPeriodTitle:"Crea periodo",currentTotalEventTitle:"Evento totale attuale",eventArchiveTitle:"Archivio eventi",topTenTitle:"Top Dieci",hallOfChampionsTitle:"Sala dei Campioni",contactFormTitle:"Modulo di contatto",standardsEvaluationTitle:"Valutazione UFF_2_Standards"},ru:{welcome:'\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u043d\u0430 \u043f\u0430\u043d\u0435\u043b\u044c \u043a\u043b\u0430\u043d\u0430 "Union For Friends 2"',chooseLanguage:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u044f\u0437\u044b\u043a \u0437\u0434\u0435\u0441\u044c",continueButton:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c",backToNavigation:"\u041a \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u0438",backToInfo:"\u041d\u0430\u0437\u0430\u0434 \u043a \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435",copyright:"\xa9 Copyright by PizzaOnkel",infoTitle:"\u041e \u043d\u0430\u0448\u0435\u043c \u041a\u043b\u0430\u043d\u0435 \u0438 \u0418\u0433\u0440\u0435",clanName:"\u041d\u0430\u0448 \u041a\u043b\u0430\u043d: Union For Friends 2",clanDescription:"\u041c\u044b \u2014 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e \u0443\u0432\u043b\u0435\u0447\u0435\u043d\u043d\u044b\u0445 \u0438\u0433\u0440\u043e\u043a\u043e\u0432, \u043f\u043e\u0441\u0432\u044f\u0442\u0438\u0432\u0448\u0438\u0445\u0441\u044f \u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f\u043c \u0438 \u043e\u0431\u0449\u0435\u043c\u0443 \u0443\u0441\u043f\u0435\u0445\u0443. \u0411\u0443\u0434\u044c \u0442\u043e COT \u0438\u043b\u0438 KvK, \u043c\u044b \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c \u0434\u0440\u0443\u0433 \u0434\u0440\u0443\u0433\u0430 \u0438 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u043e\u0442 \u044d\u0442\u043e\u0433\u043e \u0443\u0434\u043e\u0432\u043e\u043b\u044c\u0441\u0442\u0432\u0438\u0435.",gameTitle:"\u0418\u0433\u0440\u0430: Total Battle",gameDescription:"\u044d\u0442\u043e \u0442\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f, \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0432\u043e\u0435\u043d\u043d\u0430\u044f \u0438\u0433\u0440\u0430. \u041d\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e \u043e\u0442 \u0442\u043e\u0433\u043e, \u043f\u043e\u0434\u0432\u0435\u0440\u0433\u0430\u0435\u0442\u0435\u0441\u044c \u043b\u0438 \u0432\u044b \u043d\u0430\u043f\u0430\u0434\u0435\u043d\u0438\u044e \u0438\u043b\u0438 \u0441\u0430\u043c\u0438 \u0441\u043e\u0432\u0435\u0440\u0448\u0430\u0435\u0442\u0435 \u043d\u0430\u0431\u0435\u0433\u0438, \u043c\u044b \u0432\u0441\u0435\u0433\u0434\u0430 \u043f\u0440\u0438\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u0441\u044f \u0441\u0435\u0442\u0435\u0432\u043e\u0433\u043e \u044d\u0442\u0438\u043a\u0435\u0442\u0430.\n\u041c\u044b \u043d\u0430\u0445\u043e\u0434\u0438\u043c\u0441\u044f \u0432 \u041a\u043e\u0440\u043e\u043b\u0435\u0432\u0441\u0442\u0432\u0435 \u2116 36 \u0438 \u0441\u043b\u0435\u0434\u0443\u0435\u043c \u0437\u0430\u043a\u043e\u043d\u0430\u043c \u041a\u043e\u0440\u043e\u043b\u0435\u0432\u0441\u0442\u0432\u0430 ROE 36*",normsInfo:"\u0412 \u044d\u0442\u043e\u0439 \u0438\u0433\u0440\u0435 \u0438 \u0432 \u043d\u0430\u0448\u0435\u043c \u043a\u043b\u0430\u043d\u0435 \u0432\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u043d\u043e\u0440\u043c\u044b, \u0447\u0442\u043e\u0431\u044b \u0431\u044b\u0442\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u044b\u043c \u0441\u0430\u043c\u043e\u043c\u0443 \u0438 \u043f\u043e\u043c\u043e\u0447\u044c \u043a\u043b\u0430\u043d\u0443 \u0434\u043e\u0431\u0438\u0442\u044c\u0441\u044f \u0443\u0441\u043f\u0435\u0445\u0430.",playerInfo:"\u041d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u0439\u0442\u0438 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043a\u043b\u0430\u043d\u0435 \u0438 \u043b\u0438\u0447\u043d\u043e\u0439 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0435.",contactInfo:"\u0415\u0441\u043b\u0438 \u0432\u044b \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0438\u0442\u0435 \u043e\u0448\u0438\u0431\u043a\u0438 \u0438\u043b\u0438 \u0443 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f/\u0438\u0434\u0435\u0438 \u0434\u043b\u044f \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0444\u043e\u0440\u043c\u0443 \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0439 \u0441\u0432\u044f\u0437\u0438",goodLuck:"\u0416\u0435\u043b\u0430\u044e \u0432\u0441\u0435\u043c \u0443\u0434\u0430\u0447\u043d\u043e\u0439 \u043e\u0445\u043e\u0442\u044b!\n\u0412\u043f\u0435\u0440\u0435\u0434 \u2013 \u0443\u0434\u0430\u0447\u0438 \u0438 \u0432\u0435\u0441\u0435\u043b\u044c\u044f!",signature:"Der PizzaOnkel",navigationTitle:"\u041d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f \u043f\u043e \u041a\u043b\u0430\u043d\u0443",currentEventPeriod:"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 \u0441\u043e\u0431\u044b\u0442\u0438\u044f",currentEventPeriodDesc:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u0442\u0435\u043a\u0443\u0449\u0438\u0435 \u043e\u0431\u0449\u0438\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u0435\u0440\u0438\u043e\u0434\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u044f.",standardsEvaluation:"\u041e\u0446\u0435\u043d\u043a\u0430 UFF_2_Standards",standardsEvaluationDesc:"\u042d\u0442\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u043e\u0446\u0435\u043d\u043a\u0443 \u043f\u0440\u043e\u0433\u0440\u0435\u0441\u0441\u0430 \u0438\u0433\u0440\u043e\u043a\u0430 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 UFF_2_Standards.",eventArchive:"\u0410\u0440\u0445\u0438\u0432 \u0441\u043e\u0431\u044b\u0442\u0438\u0439",eventArchiveDesc:"\u041e\u0431\u0437\u043e\u0440 \u043f\u0440\u043e\u0448\u043b\u044b\u0445 \u0441\u043e\u0431\u044b\u0442\u0438\u0439.",topTen:"\u0422\u043e\u043f \u0414\u0435\u0441\u044f\u0442\u044c",topTenDesc:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 10 \u043b\u0443\u0447\u0448\u0438\u0445 \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u0432 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u0445.",hallOfChampions:"\u0417\u0430\u043b \u0427\u0435\u043c\u043f\u0438\u043e\u043d\u043e\u0432",hallOfChampionsDesc:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u0447\u0435\u043c\u043f\u0438\u043e\u043d\u043e\u0432 \u0432\u0441\u0435\u0445 \u0432\u0440\u0435\u043c\u0435\u043d.",contactForm:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u0430\u044f \u0444\u043e\u0440\u043c\u0430",contactFormDesc:"\u0421\u0432\u044f\u0437\u0430\u0442\u044c\u0441\u044f \u0441 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0435\u0439.",adminPanel:"\u041f\u0430\u043d\u0435\u043b\u044c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430",adminPanelDesc:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u043c\u0438 \u043a\u043b\u0430\u043d\u0430 \u0438 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u0438\u0433\u0440\u043e\u043a\u043e\u0432.",managePlayers:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u0433\u0440\u043e\u043a\u0430\u043c\u0438",managePlayersDesc:"\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0439\u0442\u0435 \u043d\u043e\u0432\u044b\u0445 \u0438\u0433\u0440\u043e\u043a\u043e\u0432, \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0438\u043b\u0438 \u0443\u0434\u0430\u043b\u044f\u0439\u0442\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445.",manageRanks:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0440\u0430\u043d\u0433\u0430\u043c\u0438",manageRanksDesc:"\u0421\u043e\u0437\u0434\u0430\u0432\u0430\u0439\u0442\u0435, \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0438\u043b\u0438 \u0443\u0434\u0430\u043b\u044f\u0439\u0442\u0435 \u0440\u0430\u043d\u0433\u0438 \u0434\u043b\u044f \u0438\u0433\u0440\u043e\u043a\u043e\u0432.",manageTroopStrengths:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0438\u043b\u0430\u043c\u0438 \u0432\u043e\u0439\u0441\u043a",manageTroopStrengthsDesc:"\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0439\u0442\u0435 \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0439\u0442\u0435 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u043c\u0438 \u0441\u0438\u043b\u0430\u043c\u0438 \u0432\u043e\u0439\u0441\u043a.",manageNorms:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u0440\u043c\u0430\u043c\u0438",manageNormsDesc:"\u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0439\u0442\u0435 \u043d\u043e\u0440\u043c\u044b \u0438 \u043d\u0430\u0437\u043d\u0430\u0447\u0430\u0439\u0442\u0435 \u0438\u0445 \u0441\u0438\u043b\u0430\u043c \u0432\u043e\u0439\u0441\u043a.",uploadResults:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b",uploadResultsDesc:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0444\u0430\u0439\u043b JSON \u0441 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\u043c\u0438 \u0438\u0433\u0440\u043e\u043a\u043e\u0432.",createPeriod:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0435\u0440\u0438\u043e\u0434",createPeriodDesc:"\u0421\u043e\u0437\u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u043d\u043e\u0432\u044b\u0435 \u043f\u0435\u0440\u0438\u043e\u0434\u044b \u0434\u043b\u044f \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0438 \u043e\u0446\u0435\u043d\u043e\u043a.",currentTotalEvent:"\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u043e\u0431\u0449\u0435\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0435",currentTotalEventDesc:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u0442\u0435\u043a\u0443\u0449\u0438\u0435 \u043e\u0431\u0449\u0438\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u0435\u0440\u0438\u043e\u0434\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u044f.",eventArchiveAdmin:"\u0410\u0440\u0445\u0438\u0432 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 (\u0410\u0434\u043c\u0438\u043d)",eventArchiveAdminDesc:"\u0423\u043f\u0440\u0430\u0432\u043b\u044f\u0439\u0442\u0435 \u0438\u0441\u0442\u043e\u0440\u0438\u0447\u0435\u0441\u043a\u0438\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0438 \u0437\u0430\u0430\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u043c\u0438 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\u043c\u0438.",backToAdminPanel:"\u041d\u0430\u0437\u0430\u0434 \u043a \u043f\u0430\u043d\u0435\u043b\u0438 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430",comingSoon:"\u042d\u0442\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435!",adminPanelTitle:"\u041f\u0430\u043d\u0435\u043b\u044c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430",managePlayersTitle:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u0433\u0440\u043e\u043a\u0430\u043c\u0438",manageRanksTitle:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0440\u0430\u043d\u0433\u0430\u043c\u0438",manageTroopStrengthsTitle:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0438\u043b\u0430\u043c\u0438 \u0432\u043e\u0439\u0441\u043a",manageNormsTitle:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u0440\u043c\u0430\u043c\u0438",uploadResultsTitle:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b",createPeriodTitle:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0435\u0440\u0438\u043e\u0434",currentTotalEventTitle:"\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u043e\u0431\u0449\u0435\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0435",eventArchiveTitle:"\u0410\u0440\u0445\u0438\u0432 \u0441\u043e\u0431\u044b\u0442\u0438\u0439",topTenTitle:"\u0422\u043e\u043f \u0414\u0435\u0441\u044f\u0442\u044c",hallOfChampionsTitle:"\u0417\u0430\u043b \u0427\u0435\u043c\u043f\u0438\u043e\u043d\u043e\u0432",contactFormTitle:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u0430\u044f \u0444\u043e\u0440\u043c\u0430",standardsEvaluationTitle:"\u041e\u0446\u0435\u043d\u043a\u0430 UFF_2_Standards"}},i={HOME:"home",INFO:"info",NAVIGATION:"navigation",ADMIN_PANEL:"adminPanel",MANAGE_PLAYERS:"managePlayers",MANAGE_RANKS:"manageRanks",MANAGE_TROOP_STRENGTHS:"manageTroopStrengths",MANAGE_NORMS:"manageNorms",MANAGE_CHEST_MAPPING:"manageChestMapping",ADMIN_REGISTRATION:"adminRegistration",MANAGE_ADMIN_REQUESTS:"manageAdminRequests",MANAGE_ADMINISTRATORS:"manageAdministrators",UPLOAD_RESULTS:"uploadResults",CREATE_PERIOD:"createPeriod",CURRENT_TOTAL_EVENT:"currentTotalEvent",STANDARDS_EVALUATION:"standardsEvaluation",EVENT_ARCHIVE:"eventArchive",TOP_TEN:"topTen",TOP_TEN_ARENA:"topTenArena",TOP_TEN_COMMON:"topTenCommon",TOP_TEN_RARE:"topTenRare",TOP_TEN_EPIC:"topTenEpic",TOP_TEN_TARTAROS:"topTenTartaros",TOP_TEN_ELVEN:"topTenElven",TOP_TEN_CURSED:"topTenCursed",TOP_TEN_BANK:"topTenBank",TOP_TEN_RUNIC:"topTenRunic",TOP_TEN_HEROIC:"topTenHeroic",TOP_TEN_VOTA:"topTenVotA",TOP_TEN_ROTA:"topTenROTA",TOP_TEN_EAS:"topTenEAs",TOP_TEN_UNION:"topTenUnion",TOP_TEN_JORMUNGANDR:"topTenJormungandr",HALL_OF_CHAMPIONS:"hallOfChampions",CONTACT_FORM:"contactForm",CURRENT_TOTAL_EVENT_ADMIN:"currentTotalEventAdmin",EVENT_ARCHIVE_ADMIN:"eventArchiveAdmin",EMAIL_TEST:"emailTest",ADMIN_DEBUG:"adminDebug"};var s=n(150);(0,s.KO)("firebase","11.10.0","app");var a=n(472),o=n(529),l=n(443);function c(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var u=n(812);function h(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const d=h,f=new o.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),p=new l.Vy("@firebase/auth");function g(e){if(p.logLevel<=l.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];p.error(`Auth (${s.MF}): ${e}`,...n)}}function m(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw x(e,...n)}function y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return x(e,...n)}function v(e,t,n){const r=Object.assign(Object.assign({},d()),{[t]:n});return new o.FA("auth","Firebase",r).create(t,{appName:e.name})}function b(e){return v(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function x(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return f.create(e,...n)}function w(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw x(t,...r)}}function _(e){const t="INTERNAL ASSERTION FAILED: "+e;throw g(t),new Error(t)}function k(e,t){e||_(t)}function S(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function E(){return"http:"===T()||"https:"===T()}function T(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class C{constructor(e,t){this.shortDelay=e,this.longDelay=t,k(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,o.jZ)()||(0,o.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(E()||(0,o.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function N(e,t){k(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class A{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void _("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void _("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void _("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const I={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},D=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],P=new C(3e4,6e4);function j(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function R(e,t,n,r){return O(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=(0,o.Am)(Object.assign({key:e.config.apiKey},s)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c=Object.assign({method:t,headers:l},i);return(0,o.c1)()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&(0,o.zJ)(e.emulatorConfig.host)&&(c.credentials="include"),A.fetch()(await L(e,e.config.apiHost,n,a),c)})}async function O(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},I),t);try{const t=new z(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw V(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw V(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw V(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw V(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw v(e,o,a);m(e,o)}}catch(i){if(i instanceof o.g)throw i;m(e,"network-request-failed",{message:String(i)})}}async function M(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await R(e,t,n,r,i);return"mfaPendingCredential"in s&&m(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function L(e,t,n,r){const i=`${t}${n}?${r}`,s=e,a=s.config.emulator?N(e.config,i):`${e.config.apiScheme}://${i}`;if(D.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(a).toString()}return a}function F(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class z{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(y(this.auth,"network-request-failed")),P.get())})}}function V(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=y(e,t,r);return i.customData._tokenResponse=n,i}function U(e){return void 0!==e&&void 0!==e.enterprise}class B{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return F(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function H(e,t){return R(e,"GET","/v2/recaptchaConfig",j(e,t))}async function $(e,t){return R(e,"POST","/v1/accounts:lookup",t)}function W(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function q(e){return 1e3*Number(e)}function G(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return g("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,o.u)(n);return e?JSON.parse(e):(g("Failed to decode base64 JWT payload"),null)}catch(i){return g("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function K(e){const t=G(e);return w(t,"internal-error"),w("undefined"!==typeof t.exp,"internal-error"),w("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Q(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof o.g&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class J{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null===e||void 0===e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class Y{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=W(this.lastLoginAt),this.creationTime=W(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function X(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Q(e,$(n,{idToken:r}));w(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Z(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Y(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function Z(e){return e.map(e=>{var{providerId:t}=e,n=c(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class ee{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){w(e.idToken,"internal-error"),w("undefined"!==typeof e.idToken,"internal-error"),w("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):K(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){w(0!==e.length,"internal-error");const t=K(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(w(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await O(e,{},async()=>{const n=(0,o.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=await L(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:n};return e.emulatorConfig&&(0,o.zJ)(e.emulatorConfig.host)&&(l.credentials="include"),A.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new ee;return n&&(w("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(w("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(w("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ee,this.toJSON())}_performRefresh(){return _("not implemented")}}function te(e,t){w("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ne{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=c(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new J(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Y(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Q(this,this.stsTokenManager.getToken(this.auth,e));return w(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,o.Ku)(e),r=await n.getIdToken(t),i=G(r);w(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:W(q(i.auth_time)),issuedAtTime:W(q(i.iat)),expirationTime:W(q(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,o.Ku)(e);await X(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(w(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ne(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){w(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await X(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,s.xZ)(this.auth.app))return Promise.reject(b(this.auth));const e=await this.getIdToken();return await Q(this,async function(e,t){return R(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:x,providerData:_,stsTokenManager:k}=t;w(v&&k,e,"internal-error");const S=ee.fromJSON(this.name,k);w("string"===typeof v,e,"internal-error"),te(u,e.name),te(h,e.name),w("boolean"===typeof b,e,"internal-error"),w("boolean"===typeof x,e,"internal-error"),te(d,e.name),te(f,e.name),te(p,e.name),te(g,e.name),te(m,e.name),te(y,e.name);const E=new ne({uid:v,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:x,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:m,lastLoginAt:y});return _&&Array.isArray(_)&&(E.providerData=_.map(e=>Object.assign({},e))),g&&(E._redirectEventId=g),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new ee;r.updateFromServerResponse(t);const i=new ne({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await X(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];w(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Z(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new ee;a.updateFromIdToken(n);const o=new ne({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Y(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const re=new Map;function ie(e){k(e instanceof Function,"Expected a class definition");let t=re.get(e);return t?(k(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,re.set(e,t),t)}class se{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}se.type="NONE";const ae=se;function oe(e,t,n){return`firebase:${e}:${t}:${n}`}class le{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=oe(this.userKey,r.apiKey,i),this.fullPersistenceKey=oe("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await $(this.auth,{idToken:e}).catch(()=>{});return t?ne._fromGetAccountInfoResponse(this.auth,t,e):null}return ne._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new le(ie(ae),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||ie(ae);const s=oe(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){let n;if("string"===typeof t){const r=await $(e,{idToken:t}).catch(()=>{});if(!r)break;n=await ne._fromGetAccountInfoResponse(e,r,t)}else n=ne._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(l){}})),new le(i,e,n)):new le(i,e,n)}}function ce(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(fe(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ue(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ge(t))return"Blackberry";if(me(t))return"Webos";if(he(t))return"Safari";if((t.includes("chrome/")||de(t))&&!t.includes("edge/"))return"Chrome";if(pe(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.ZQ)();return/firefox\//i.test(e)}function he(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function de(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.ZQ)();return/crios\//i.test(e)}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.ZQ)();return/iemobile/i.test(e)}function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.ZQ)();return/android/i.test(e)}function ge(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.ZQ)();return/blackberry/i.test(e)}function me(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.ZQ)();return/webos/i.test(e)}function ye(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ve(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.ZQ)();return ye(e)||pe(e)||me(e)||ge(e)||/windows phone/i.test(e)||fe(e)}function be(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ce((0,o.ZQ)());break;case"Worker":t=`${ce((0,o.ZQ)())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${s.MF}/${r}`}class xe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class we{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class _e{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Se(this),this.idTokenSubscription=new Se(this),this.beforeStateQueue=new xe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ie(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await le.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(s){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await $(this,{idToken:e}),n=await ne._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if((0,s.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return w(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await X(e)}catch(t){if("auth/network-request-failed"!==(null===t||void 0===t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,s.xZ)(this.app))return Promise.reject(b(this));const t=e?(0,o.Ku)(e):null;return t&&w(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&w(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,s.xZ)(this.app)?Promise.reject(b(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,s.xZ)(this.app)?Promise.reject(b(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ie(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return R(e,"GET","/v2/passwordPolicy",j(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new we(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new o.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return R(e,"POST","/v2/accounts:revokeToken",j(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ie(e)||this._popupRedirectResolver;w(t,this,"argument-error"),this.redirectPersistenceManager=await le.create(this,[ie(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(w(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return w(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=be(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if((0,s.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(p.logLevel<=l.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];p.warn(`Auth (${s.MF}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function ke(e){return(0,o.Ku)(e)}class Se{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,o.tD)(e=>this.observer=e)}get next(){return w(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ee={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Te(e){return Ee.loadJS(e)}function Ce(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Ne{constructor(){this.enterprise=new Ae}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ae{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ie="NO_RECAPTCHA";class De{constructor(e){this.type="recaptcha-enterprise",this.auth=ke(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;U(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Ie)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Ne).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{H(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new B(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&U(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ee.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Te(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Pe(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new De(e);let a;if(i)a=Ie;else try{a=await s.verify(n)}catch(l){a=await s.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function je(e,t,n,r,i){var s,a;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Pe(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Pe(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){const i=await Pe(e,t,n);return r(e,i).catch(async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await Pe(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Pe(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Re(e){const t=ke(e),n=await H(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new B(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new De(t).verify()}}function Oe(e,t,n){const r=ke(e);w(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Me(t),{host:a,port:l}=function(e){const t=Me(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Le(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Le(t)}}}(t),c=null===l?"":`:${l}`,u={url:`${s}//${a}${c}/`},h=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return w(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void w((0,o.bD)(u,r.config.emulator)&&(0,o.bD)(h,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,(0,o.zJ)(a)?((0,o.gE)(`${s}//${a}${c}`),(0,o.P1)("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Me(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Le(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Fe{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return _("not implemented")}_getIdTokenResponse(e){return _("not implemented")}_linkToIdToken(e,t){return _("not implemented")}_getReauthenticationResolver(e){return _("not implemented")}}async function ze(e,t){return R(e,"POST","/v1/accounts:signUp",t)}async function Ve(e,t){return M(e,"POST","/v1/accounts:signInWithPassword",j(e,t))}class Ue extends Fe{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ue(e,t,"password")}static _fromEmailAndCode(e,t){return new Ue(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return je(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ve,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return M(e,"POST","/v1/accounts:signInWithEmailLink",j(e,t))}(e,{email:this._email,oobCode:this._password});default:m(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return je(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ze,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return M(e,"POST","/v1/accounts:signInWithEmailLink",j(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:m(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Be(e,t){return M(e,"POST","/v1/accounts:signInWithIdp",j(e,t))}class He extends Fe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new He(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):m("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=c(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new He(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Be(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Be(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Be(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,o.Am)(t)}return e}}async function $e(e,t){return R(e,"POST","/v1/accounts:sendVerificationCode",j(e,t))}const We={USER_NOT_FOUND:"user-not-found"};class qe extends Fe{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new qe({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new qe({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return M(e,"POST","/v1/accounts:signInWithPhoneNumber",j(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await M(e,"POST","/v1/accounts:signInWithPhoneNumber",j(e,t));if(n.temporaryProof)throw V(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return M(e,"POST","/v1/accounts:signInWithPhoneNumber",j(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),We)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new qe({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Ge{constructor(e){var t,n,r,i,s,a;const l=(0,o.I9)((0,o.hp)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);w(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=null!==(i=l.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=l.lang)&&void 0!==s?s:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,o.I9)((0,o.hp)(e)).link,n=t?(0,o.I9)((0,o.hp)(t)).deep_link_id:null,r=(0,o.I9)((0,o.hp)(e)).deep_link_id;return(r?(0,o.I9)((0,o.hp)(r)).link:null)||r||n||t||e}(e);try{return new Ge(t)}catch(n){return null}}}class Ke{constructor(){this.providerId=Ke.PROVIDER_ID}static credential(e,t){return Ue._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ge.parseLink(t);return w(n,"argument-error"),Ue._fromEmailAndCode(e,n.code,n.tenantId)}}Ke.PROVIDER_ID="password",Ke.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ke.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Qe{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Je extends Qe{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ye extends Je{constructor(){super("facebook.com")}static credential(e){return He._fromParams({providerId:Ye.PROVIDER_ID,signInMethod:Ye.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ye.credentialFromTaggedObject(e)}static credentialFromError(e){return Ye.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ye.credential(t.oauthAccessToken)}catch(n){return null}}}Ye.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ye.PROVIDER_ID="facebook.com";class Xe extends Je{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return He._fromParams({providerId:Xe.PROVIDER_ID,signInMethod:Xe.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Xe.credentialFromTaggedObject(e)}static credentialFromError(e){return Xe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Xe.credential(n,r)}catch(i){return null}}}Xe.GOOGLE_SIGN_IN_METHOD="google.com",Xe.PROVIDER_ID="google.com";class Ze extends Je{constructor(){super("github.com")}static credential(e){return He._fromParams({providerId:Ze.PROVIDER_ID,signInMethod:Ze.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ze.credentialFromTaggedObject(e)}static credentialFromError(e){return Ze.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ze.credential(t.oauthAccessToken)}catch(n){return null}}}Ze.GITHUB_SIGN_IN_METHOD="github.com",Ze.PROVIDER_ID="github.com";class et extends Je{constructor(){super("twitter.com")}static credential(e,t){return He._fromParams({providerId:et.PROVIDER_ID,signInMethod:et.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return et.credentialFromTaggedObject(e)}static credentialFromError(e){return et.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return et.credential(n,r)}catch(i){return null}}}et.TWITTER_SIGN_IN_METHOD="twitter.com",et.PROVIDER_ID="twitter.com";class tt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ne._fromIdTokenResponse(e,n,r),s=nt(n);return new tt({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=nt(n);return new tt({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function nt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class rt extends o.g{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,rt.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new rt(e,t,n,r)}}function it(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw rt._fromErrorAndOperation(e,n,t,r);throw n})}async function st(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Q(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return tt._forOperation(e,"link",r)}async function at(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if((0,s.xZ)(r.app))return Promise.reject(b(r));const i="reauthenticate";try{const s=await Q(e,it(r,i,t,e),n);w(s.idToken,r,"internal-error");const a=G(s.idToken);w(a,r,"internal-error");const{sub:o}=a;return w(e.uid===o,r,"user-mismatch"),tt._forOperation(e,i,s)}catch(a){throw"auth/user-not-found"===(null===a||void 0===a?void 0:a.code)&&m(r,"user-mismatch"),a}}async function ot(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,s.xZ)(e.app))return Promise.reject(b(e));const r="signIn",i=await it(e,r,t),a=await tt._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}function lt(e,t){return R(e,"POST","/v2/accounts/mfaEnrollment:start",j(e,t))}new WeakMap;const ct="__sak";class ut{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ct,"1"),this.storage.removeItem(ct),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ht extends ut{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ve(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,o.lT)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ht.type="LOCAL";const dt=ht;function ft(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp(`${r}=([^;]+)`);return null!==(n=null===(t=document.cookie.match(i))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function pt(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class gt{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=pt(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return ft(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=pt(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=pt(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=ft(n);const i=setInterval(()=>{const e=ft(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}gt.type="COOKIE";class mt extends ut{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}mt.type="SESSION";const yt=mt;class vt{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new vt(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function bt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}vt.receivers=[];class xt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const l=bt("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function wt(){return window}function _t(){return"undefined"!==typeof wt().WorkerGlobalScope&&"function"===typeof wt().importScripts}const kt="firebaseLocalStorageDb",St="firebaseLocalStorage",Et="fbase_key";class Tt{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ct(e,t){return e.transaction([St],t?"readwrite":"readonly").objectStore(St)}function Nt(){const e=indexedDB.open(kt,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(St,{keyPath:Et})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(St)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(kt);return new Tt(e).toPromise()}(),t(await Nt()))})})}async function At(e,t,n){const r=Ct(e,!0).put({[Et]:t,value:n});return new Tt(r).toPromise()}function It(e,t){const n=Ct(e,!0).delete(t);return new Tt(n).toPromise()}class Dt{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Nt()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _t()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vt._getInstance(_t()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new xt(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Nt();return await At(e,ct,"1"),await It(e,ct),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>At(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Ct(e,!1).get(t),r=await new Tt(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>It(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Ct(e,!1).getAll();return new Tt(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Dt.type="LOCAL";const Pt=Dt;function jt(e,t){return R(e,"POST","/v2/accounts/mfaSignIn:start",j(e,t))}Ce("rcb"),new C(3e4,6e4);const Rt="recaptcha";async function Ot(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Re(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){w("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=je(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Ie){w((null===n||void 0===n?void 0:n.type)===Rt,e,"argument-error");return lt(e,await Mt(e,t,n))}return lt(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{w("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;w(s,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=je(e,a,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Ie){w((null===n||void 0===n?void 0:n.type)===Rt,e,"argument-error");return jt(e,await Mt(e,t,n))}return jt(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=je(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Ie){w((null===n||void 0===n?void 0:n.type)===Rt,e,"argument-error");return $e(e,await Mt(e,t,n))}return $e(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Mt(e,t,n){w(n.type===Rt,e,"argument-error");const r=await n.verify();w("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Lt{constructor(e){this.providerId=Lt.PROVIDER_ID,this.auth=ke(e)}verifyPhoneNumber(e,t){return Ot(this.auth,e,(0,o.Ku)(t))}static credential(e,t){return qe._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Lt.credentialFromTaggedObject(t)}static credentialFromError(e){return Lt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?qe._fromTokenResponse(n,r):null}}function Ft(e,t){return t?ie(t):(w(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Lt.PROVIDER_ID="phone",Lt.PHONE_SIGN_IN_METHOD="phone";class zt extends Fe{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Be(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Be(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Be(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Vt(e){return ot(e.auth,new zt(e),e.bypassAuthState)}function Ut(e){const{auth:t,user:n}=e;return w(n,t,"internal-error"),at(n,new zt(e),e.bypassAuthState)}async function Bt(e){const{auth:t,user:n}=e;return w(n,t,"internal-error"),st(n,new zt(e),e.bypassAuthState)}class Ht{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vt;case"linkViaPopup":case"linkViaRedirect":return Bt;case"reauthViaPopup":case"reauthViaRedirect":return Ut;default:m(this.auth,"internal-error")}}resolve(e){k(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){k(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $t=new C(2e3,1e4);class Wt extends Ht{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Wt.currentPopupAction&&Wt.currentPopupAction.cancel(),Wt.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return w(e,this.auth,"internal-error"),e}async onExecution(){k(1===this.filter.length,"Popup operations only handle one event");const e=bt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(y(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(y(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wt.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(y(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,$t.get())};e()}}Wt.currentPopupAction=null;const qt=new Map;class Gt extends Ht{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=qt.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Jt(t),r=Qt(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}qt.set(this.auth._key(),e)}return this.bypassAuthState||qt.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Kt(e,t){qt.set(e._key(),t)}function Qt(e){return ie(e._redirectPersistence)}function Jt(e){return oe("pendingRedirect",e.config.apiKey,e.name)}async function Yt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,s.xZ)(e.app))return Promise.reject(b(e));const r=ke(e),i=Ft(r,t),a=new Gt(r,i,n),o=await a.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class Xt{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return en(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!en(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(y(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zt(e))}saveEventToCache(e){this.cachedEventUids.add(Zt(e)),this.lastProcessedEventTime=Date.now()}}function Zt(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function en(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const tn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nn=/^https?/;async function rn(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return R(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(sn(r))return}catch(n){}m(e,"unauthorized-domain")}function sn(e){const t=S(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!nn.test(n))return!1;if(tn.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const an=new C(3e4,6e4);function on(){const e=wt().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function ln(e){return new Promise((t,n)=>{var r,i,s;function a(){on(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{on(),n(y(e,"network-request-failed"))},timeout:an.get()})}if(null===(i=null===(r=wt().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=wt().gapi)||void 0===s?void 0:s.load)){const t=Ce("iframefcb");return wt()[t]=()=>{gapi.load?a():n(y(e,"network-request-failed"))},Te(`${Ee.gapiScript}?onload=${t}`).catch(e=>n(e))}a()}}).catch(e=>{throw cn=null,e})}let cn=null;const un=new C(5e3,15e3),hn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fn(e){const t=e.config;w(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?N(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:s.MF},i=dn.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${(0,o.Am)(r).slice(1)}`}async function pn(e){const t=await function(e){return cn=cn||ln(e),cn}(e),n=wt().gapi;return w(n,e,"internal-error"),t.open({where:document.body,url:fn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hn,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=y(e,"network-request-failed"),s=wt().setTimeout(()=>{r(i)},un.get());function a(){wt().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const gn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class mn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function yn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},gn),{width:r.toString(),height:i.toString(),top:s,left:a}),u=(0,o.ZQ)().toLowerCase();n&&(l=de(u)?"_blank":n),ue(u)&&(t=t||"http://localhost",c.scrollbars="yes");const h=Object.entries(c).reduce((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`},"");if(function(){var e;return ye(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.ZQ)())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==l)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new mn(null);const d=window.open(t||"",l,h);w(d,e,"popup-blocked");try{d.focus()}catch(f){}return new mn(d)}const vn="__/auth/handler",bn="emulator/auth/handler",xn=encodeURIComponent("fac");async function wn(e,t,n,r,i,a){w(e.config.authDomain,e,"auth-domain-config-required"),w(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:s.MF,eventId:i};if(t instanceof Qe){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,o.Im)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))l[e]=t}if(t instanceof Je){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const s of Object.keys(c))void 0===c[s]&&delete c[s];const u=await e._getAppCheckToken(),h=u?`#${xn}=${encodeURIComponent(u)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${vn}`;return N(t,bn)}(e)}?${(0,o.Am)(c).slice(1)}${h}`}const _n="webStorageSupport";const kn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yt,this._completeRedirectFn=Yt,this._overrideRedirectResult=Kt}async _openPopup(e,t,n,r){var i;k(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return yn(e,await wn(e,t,n,S(),r),bt())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){wt().location.href=e}(await wn(e,t,n,S(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(k(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await pn(e),n=new Xt(e);return t.register("authEvent",t=>{w(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_n,{type:_n},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[_n];void 0!==i&&t(!!i),m(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=rn(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ve()||he()||ye()}};var Sn="@firebase/auth",En="1.10.8";class Tn{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){w(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Cn=(0,o.XA)("authIdTokenMaxAge")||300;let Nn=null;var An,In;An={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=y("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Ee=An,In="Browser",(0,s.om)(new u.uA("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;w(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:In,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:be(In)},c=new _e(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ie);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,s.om)(new u.uA("auth-internal",e=>(e=>new Tn(e))(ke(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,s.KO)(Sn,En,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(In)),(0,s.KO)(Sn,En,"esm2017");const Dn=(0,s.Wp)({apiKey:"AIzaSyDsh7jXiFXIgCPRIXh0PNpFhhsshS4pLmE",authDomain:"pizzaonkel-clan.firebaseapp.com",projectId:"pizzaonkel-clan",storageBucket:"pizzaonkel-clan.firebasestorage.app",messagingSenderId:"77478212384",appId:"1:77478212384:web:d240b46780e96d65a51d45",measurementId:"G-XPBX8KGGRZ"}),Pn=(0,a.aU)(Dn);!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.Sx)();const t=(0,s.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,s.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,o.bD)(r,null!==t&&void 0!==t?t:{}))return e;m(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:kn,persistence:[Pt,dt,yt]}),r=(0,o.XA)("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Cn)return;const r=null===t||void 0===t?void 0:t.token;Nn!==r&&(Nn=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){(0,o.Ku)(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){(0,o.Ku)(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const a=(0,o.Tj)("auth");a&&Oe(n,`http://${a}`)}(Dn);var jn=n(579);const Rn=(0,e.createContext)();function On(){return(0,e.useContext)(Rn)}function Mn(t){let{children:r}=t;const[i,s]=(0,e.useState)(null),[o,l]=(0,e.useState)(!0);(0,e.useEffect)(()=>{const e=localStorage.getItem("currentAdmin");if(e)try{const t=JSON.parse(e);t&&t.id&&t.email&&t.role?s(t):localStorage.removeItem("currentAdmin")}catch(t){console.error("Fehler beim Laden der Admin-Daten:",t),localStorage.removeItem("currentAdmin")}l(!1)},[]);const c={currentAdmin:i,login:async(e,t)=>{try{const i=(0,a.P)((0,a.rJ)(Pn,"admins"));if(0===(await(0,a.GG)(i)).size)try{const{addDoc:r}=await Promise.resolve().then(n.bind(n,472)),i={name:"Emergency Admin",email:e,password:t,role:"superAdmin",status:"active",createdAt:(new Date).toISOString(),requestedRole:"superAdmin"},o={id:(await r((0,a.rJ)(Pn,"admins"),i)).id,...i};return s(o),localStorage.setItem("currentAdmin",JSON.stringify(o)),{success:!0,admin:o}}catch(r){return console.error("Fehler beim Erstellen des Emergency-Admins:",r),{success:!1,error:"Fehler beim Erstellen des Emergency-Admins: "+r.message}}const o=(0,a.P)((0,a.rJ)(Pn,"admins"),(0,a._M)("email","==",e),(0,a._M)("password","==",t),(0,a._M)("status","==","active")),l=await(0,a.GG)(o);if(l.empty)return{success:!1,error:"Ung\xfcltige Anmeldedaten"};{const e=l.docs[0].data(),t={id:l.docs[0].id,...e};return s(t),localStorage.setItem("currentAdmin",JSON.stringify(t)),{success:!0,admin:t}}}catch(r){return console.error("Login error:",r),{success:!1,error:"Fehler beim Anmelden"}}},logout:()=>{s(null),localStorage.removeItem("currentAdmin"),sessionStorage.clear()},clearSession:()=>{s(null),localStorage.clear()},hasPermission:e=>{var t;if(!i)return!1;if(i.permissions&&Array.isArray(i.permissions))return i.permissions.includes(e);return(null===(t={superAdmin:["upload","delete","manage_players","manage_ranks","manage_troop_strengths","manage_norms","manage_chest_mapping","manage_admin_requests","create_period","view_admin_data"],contentAdmin:["manage_players","manage_ranks","manage_troop_strengths","manage_norms","manage_chest_mapping","view_admin_data"],viewer:["view_admin_data"]}[i.role])||void 0===t?void 0:t.includes(e))||!1},loading:o};return(0,jn.jsx)(Rn.Provider,{value:c,children:r})}function Ln(e){let{t:t,language:n,setLanguage:r,setCurrentPage:i}=e;return(0,jn.jsxs)("div",{className:"flex flex-col items-center justify-between min-h-screen bg-gray-900 text-gray-100 p-4 pb-8",children:[(0,jn.jsx)("div",{className:"text-center mb-10 mt-auto",children:(0,jn.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-blue-300 to-purple-400",children:t.welcome})}),(0,jn.jsxs)("div",{className:"mb-10 flex flex-col items-center",children:[(0,jn.jsx)("p",{className:"text-lg text-gray-300 mb-4",children:t.chooseLanguage}),(0,jn.jsx)("div",{className:"flex space-x-3",children:[{code:"de",flag:"\ud83c\udde9\ud83c\uddea",title:"Deutsch"},{code:"en",flag:"\ud83c\uddec\ud83c\udde7",title:"English"},{code:"fr",flag:"\ud83c\uddeb\ud83c\uddf7",title:"Fran\xe7ais"},{code:"es",flag:"\ud83c\uddea\ud83c\uddf8",title:"Espa\xf1ol"},{code:"it",flag:"\ud83c\uddee\ud83c\uddf9",title:"Italiano"},{code:"ru",flag:"\ud83c\uddf7\ud83c\uddfa",title:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"}].map(e=>(0,jn.jsx)("button",{onClick:()=>r(e.code),className:`p-3 rounded-lg transition-all duration-200 ${n===e.code?"bg-blue-700 shadow-md":"bg-gray-700 hover:bg-gray-600"} text-2xl`,title:e.title,children:e.flag},e.code))})]}),(0,jn.jsxs)("button",{onClick:()=>i("info"),className:"flex flex-col items-center justify-center p-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 w-48 h-32 bg-blue-900/30 hover:bg-blue-800/40 border-blue-800",children:[(0,jn.jsxs)("svg",{className:"w-12 h-12 text-blue-400 mb-2",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[(0,jn.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),(0,jn.jsx)("polyline",{points:"12 5 19 12 12 19"})]}),(0,jn.jsx)("span",{className:"text-xl font-semibold text-white text-center mb-1",children:t.continueButton})]}),(0,jn.jsx)("footer",{className:"mt-auto text-gray-500 text-sm",children:t.copyright})]})}function Fn(e){let{t:t,setCurrentPage:n}=e;return(0,jn.jsxs)("div",{className:"flex flex-col items-center justify-between min-h-screen bg-gray-900 text-gray-100 p-6 pb-8 w-full",children:[(0,jn.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-xl p-8 max-w-3xl w-full mt-12 mb-8 border border-gray-700",children:[(0,jn.jsx)("h2",{className:"text-4xl font-bold mb-6 text-center text-blue-400",children:t.infoTitle}),(0,jn.jsxs)("div",{className:"mb-6",children:[(0,jn.jsx)("h3",{className:"text-2xl font-semibold mb-2 text-purple-400",children:t.clanName}),(0,jn.jsx)("p",{className:"text-gray-300 leading-relaxed whitespace-pre-line",children:t.clanDescription})]}),(0,jn.jsxs)("div",{className:"mb-6",children:[(0,jn.jsx)("h3",{className:"text-2xl font-semibold mb-2 text-purple-400",children:t.gameTitle}),(0,jn.jsx)("p",{className:"text-gray-300 leading-relaxed whitespace-pre-line",children:t.gameDescription})]}),(0,jn.jsx)("p",{className:"text-gray-300 mb-4 leading-relaxed",children:t.normsInfo}),(0,jn.jsx)("p",{className:"text-gray-300 mb-4 leading-relaxed",children:t.playerInfo}),(0,jn.jsx)("p",{className:"text-gray-300 mb-6 leading-relaxed",children:t.contactInfo}),(0,jn.jsx)("p",{className:"text-gray-300 text-lg italic text-center mb-6 whitespace-pre-line",children:t.goodLuck}),(0,jn.jsx)("p",{className:"text-right text-blue-300 font-medium",children:t.signature})]}),(0,jn.jsxs)("button",{onClick:()=>n(i.NAVIGATION),className:"flex items-center px-8 py-4 bg-gradient-to-r from-purple-500 to-indigo-600 text-white text-xl font-semibold rounded-full shadow-lg hover:from-purple-600 hover:to-indigo-700 transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-purple-500 focus:ring-opacity-50 mb-12",children:[(0,jn.jsxs)("svg",{className:"mr-3 w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[(0,jn.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),(0,jn.jsx)("polyline",{points:"12 5 19 12 12 19"})]}),t.backToNavigation]}),(0,jn.jsx)("footer",{className:"mt-auto text-gray-500 text-sm",children:t.copyright})]})}function zn(e){let{t:t,setCurrentPage:n}=e;function r(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return"bg-red-900/40 hover:bg-red-800/50 border-red-700";switch(e){case"green":return"bg-green-900/30 hover:bg-green-800/40 border-green-800";case"yellow":return"bg-yellow-900/30 hover:bg-yellow-800/40 border-yellow-800";case"blue":return"bg-blue-900/30 hover:bg-blue-800/40 border-blue-800";case"red":return"bg-red-900/30 hover:bg-red-800/40 border-red-800";case"purple":return"bg-purple-900/30 hover:bg-purple-800/40 border-purple-800";case"orange":return"bg-orange-900/30 hover:bg-orange-800/40 border-orange-800";case"teal":return"bg-teal-900/30 hover:bg-teal-800/40 border-teal-800";case"indigo":return"bg-indigo-900/30 hover:bg-indigo-800/40 border-indigo-800";default:return"bg-gray-800/30 hover:bg-gray-700/40 border-gray-700"}}const s={Calendar:(0,jn.jsxs)("svg",{className:"w-12 h-12 text-green-400 mb-2",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[(0,jn.jsx)("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),(0,jn.jsx)("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),(0,jn.jsx)("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),(0,jn.jsx)("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),ListTodo:(0,jn.jsxs)("svg",{className:"w-12 h-12 text-yellow-400 mb-2",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[(0,jn.jsx)("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),(0,jn.jsx)("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),(0,jn.jsx)("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),(0,jn.jsx)("line",{x1:"3",y1:"6",x2:"3",y2:"6"}),(0,jn.jsx)("line",{x1:"3",y1:"12",x2:"3",y2:"12"}),(0,jn.jsx)("line",{x1:"3",y1:"18",x2:"3",y2:"18"})]}),Archive:(0,jn.jsxs)("svg",{className:"w-12 h-12 text-blue-400 mb-2",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[(0,jn.jsx)("rect",{x:"3",y:"3",width:"18",height:"4"}),(0,jn.jsx)("rect",{x:"3",y:"7",width:"18",height:"14"}),(0,jn.jsx)("line",{x1:"9",y1:"12",x2:"15",y2:"12"})]}),Award:(0,jn.jsxs)("svg",{className:"w-12 h-12 text-red-400 mb-2",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[(0,jn.jsx)("circle",{cx:"12",cy:"8",r:"7"}),(0,jn.jsx)("polyline",{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"})]}),Trophy:(0,jn.jsxs)("svg",{className:"w-12 h-12 text-purple-400 mb-2",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[(0,jn.jsx)("path",{d:"M8 21h8"}),(0,jn.jsx)("path",{d:"M12 17v4"}),(0,jn.jsx)("path",{d:"M7 4h10"}),(0,jn.jsx)("path",{d:"M17 4v6a5 5 0 0 1-10 0V4"}),(0,jn.jsx)("path",{d:"M4 4v6a7.002 7.002 0 0 0 7 7 7.002 7.002 0 0 0 7-7V4"})]}),Mail:(0,jn.jsxs)("svg",{className:"w-12 h-12 text-orange-400 mb-2",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[(0,jn.jsx)("rect",{x:"3",y:"5",width:"18",height:"14",rx:"2"}),(0,jn.jsx)("polyline",{points:"3 7 12 13 21 7"})]}),Shield:(0,jn.jsx)("svg",{className:"w-12 h-12 text-white mb-2",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:(0,jn.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),ArrowLeft:(0,jn.jsxs)("svg",{className:"mr-3 w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[(0,jn.jsx)("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),(0,jn.jsx)("polyline",{points:"12 19 5 12 12 5"})]})};return(0,jn.jsxs)("div",{className:"flex flex-col items-center justify-between min-h-screen bg-gray-900 text-gray-100 p-6 pb-8 w-full",children:[(0,jn.jsx)("h2",{className:"text-4xl font-bold mb-10 text-center text-blue-400 mt-12",children:t.navigationTitle}),(0,jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-5xl w-full mb-12",children:[(0,jn.jsxs)("button",{onClick:()=>n(i.CURRENT_TOTAL_EVENT),className:`flex flex-col items-center justify-center p-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 border ${r("green")}`,children:[s.Calendar,(0,jn.jsx)("span",{className:"text-xl font-semibold text-white text-center mb-1",children:t.currentEventPeriod}),(0,jn.jsx)("span",{className:"text-sm text-gray-400 text-center",children:t.currentEventPeriodDesc})]}),(0,jn.jsxs)("button",{onClick:()=>n(i.STANDARDS_EVALUATION),className:`flex flex-col items-center justify-center p-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 border ${r("yellow")}`,children:[s.ListTodo,(0,jn.jsx)("span",{className:"text-xl font-semibold text-white text-center mb-1",children:t.standardsEvaluation}),(0,jn.jsx)("span",{className:"text-sm text-gray-400 text-center",children:t.standardsEvaluationDesc})]}),(0,jn.jsxs)("button",{onClick:()=>n(i.EVENT_ARCHIVE),className:`flex flex-col items-center justify-center p-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 border ${r("blue")}`,children:[s.Archive,(0,jn.jsx)("span",{className:"text-xl font-semibold text-white text-center mb-1",children:t.eventArchive}),(0,jn.jsx)("span",{className:"text-sm text-gray-400 text-center",children:t.eventArchiveDesc})]}),(0,jn.jsxs)("button",{onClick:()=>n(i.TOP_TEN),className:`flex flex-col items-center justify-center p-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 border ${r("red")}`,children:[s.Award,(0,jn.jsx)("span",{className:"text-xl font-semibold text-white text-center mb-1",children:t.topTen}),(0,jn.jsx)("span",{className:"text-sm text-gray-400 text-center",children:t.topTenDesc})]}),(0,jn.jsxs)("button",{onClick:()=>n(i.HALL_OF_CHAMPIONS),className:`flex flex-col items-center justify-center p-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 border ${r("purple")}`,children:[s.Trophy,(0,jn.jsx)("span",{className:"text-xl font-semibold text-white text-center mb-1",children:t.hallOfChampions}),(0,jn.jsx)("span",{className:"text-sm text-gray-400 text-center",children:t.hallOfChampionsDesc})]}),(0,jn.jsxs)("button",{onClick:()=>n(i.CONTACT_FORM),className:`flex flex-col items-center justify-center p-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 border ${r("orange")}`,children:[s.Mail,(0,jn.jsx)("span",{className:"text-xl font-semibold text-white text-center mb-1",children:t.contactForm}),(0,jn.jsx)("span",{className:"text-sm text-gray-400 text-center",children:t.contactFormDesc})]}),(0,jn.jsxs)("button",{onClick:()=>n(i.ADMIN_PANEL),className:`flex flex-col items-center justify-center p-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 border ${r("white",!0)}`,children:[s.Shield,(0,jn.jsx)("span",{className:"text-xl font-semibold text-white text-center mb-1",children:t.adminPanel}),(0,jn.jsx)("span",{className:"text-sm text-gray-200 text-center",children:t.adminPanelDesc})]}),(0,jn.jsxs)("button",{onClick:()=>n(i.ADMIN_REGISTRATION),className:`flex flex-col items-center justify-center p-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 border ${r("green")}`,children:[(0,jn.jsxs)("svg",{className:"w-12 h-12 text-green-400 mb-2",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[(0,jn.jsx)("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),(0,jn.jsx)("circle",{cx:"8.5",cy:"7",r:"4"}),(0,jn.jsx)("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),(0,jn.jsx)("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]}),(0,jn.jsx)("span",{className:"text-xl font-semibold text-white text-center mb-1",children:"Admin werden"}),(0,jn.jsx)("span",{className:"text-sm text-gray-400 text-center",children:"Beantrage Admin-Zugang f\xfcr das Dashboard"})]})]}),(0,jn.jsxs)("button",{onClick:()=>n(i.INFO),className:"flex items-center px-8 py-4 bg-gradient-to-r from-blue-500 to-cyan-600 text-white text-xl font-semibold rounded-full shadow-lg hover:from-blue-600 hover:to-cyan-700 transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-blue-500 focus:ring-opacity-50 mb-12",children:[s.ArrowLeft," ",t.backToInfo]}),(0,jn.jsx)("footer",{className:"mt-auto text-gray-500 text-sm",children:t.copyright})]})}function Vn(t){let{t:n,setCurrentPage:r}=t;const[s,o]=(0,e.useState)([]),[l,c]=(0,e.useState)([]),[u,h]=(0,e.useState)(!0),[d,f]=(0,e.useState)(!1),[p,g]=(0,e.useState)(null),{currentAdmin:m,hasPermission:y,logout:v}=On();(0,e.useEffect)(()=>{!async function(){h(!0);const e=(await(0,a.GG)((0,a.rJ)(Pn,"results"))).docs.map(e=>({id:e.id,...e.data()}));o(e);const t={};e.forEach(e=>{const n=`${e.periodId}_${e.eventDate}`;t[n]||(t[n]={periodId:e.periodId,eventDate:e.eventDate,playerCount:0,documentIds:[]}),t[n].playerCount++,t[n].documentIds.push(e.id)}),c(Object.values(t)),h(!1)}()},[]);return(0,jn.jsxs)("div",{className:"flex flex-col items-center justify-between min-h-screen bg-gray-900 text-gray-100 p-6 pb-8 w-full",children:[(0,jn.jsx)("div",{className:"w-full max-w-5xl",children:(0,jn.jsxs)("div",{className:"flex justify-between items-center mb-10",children:[(0,jn.jsx)("h2",{className:"text-4xl font-bold text-center text-blue-400 mt-12",children:n.adminPanelTitle}),(0,jn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,jn.jsxs)("div",{className:"text-right",children:[(0,jn.jsx)("p",{className:"text-gray-300 text-sm",children:"Angemeldet als:"}),(0,jn.jsx)("p",{className:"text-white font-semibold",children:null===m||void 0===m?void 0:m.name}),(0,jn.jsx)("p",{className:"text-gray-400 text-xs",children:"superAdmin"===(null===m||void 0===m?void 0:m.role)?"Super Admin":"contentAdmin"===(null===m||void 0===m?void 0:m.role)?"Content Admin":"Viewer"})]}),(0,jn.jsx)("button",{onClick:v,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Abmelden"})]})]})}),(0,jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-5xl w-full mb-12",children:[y("upload")&&(0,jn.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 col-span-1 md:col-span-2 lg:col-span-3",children:[(0,jn.jsxs)("button",{onClick:()=>r(i.UPLOAD_RESULTS),className:"flex flex-col items-center justify-center p-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 border bg-orange-900/30 hover:bg-orange-800/40 border-orange-800",style:{minWidth:"260px"},children:[(0,jn.jsxs)("svg",{className:"w-12 h-12 text-orange-400 mb-2",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[(0,jn.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,jn.jsx)("polyline",{points:"17 8 12 3 7 8"}),(0,jn.jsx)("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),(0,jn.jsx)("span",{className:"text-xl font-semibold text-white text-center mb-1",children:n.uploadResults}),(0,jn.jsx)("span",{className:"text-sm text-gray-400 text-center",children:n.uploadResultsDesc})]}),y("delete")&&(0,jn.jsxs)("button",{onClick:()=>f(!0),className:"flex flex-col items-center justify-center p-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 border bg-red-900/30 hover:bg-red-800/40 border-red-800",style:{minWidth:"260px"},children:[(0,jn.jsxs)("svg",{className:"w-12 h-12 text-red-400 mb-2",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[(0,jn.jsx)("path",{d:"M3 6h18"}),(0,jn.jsx)("path",{d:"M19 6l-2 14H7L5 6"}),(0,jn.jsx)("path",{d:"M10 11v6"}),(0,jn.jsx)("path",{d:"M14 11v6"}),(0,jn.jsx)("path",{d:"M9 6V4a3 3 0 0 1 6 0v2"})]}),(0,jn.jsx)("span",{className:"text-xl font-semibold text-white text-center mb-1",children:"Eine hochgeladene Json-Datei l\xf6schen"}),(0,jn.jsx)("span",{className:"text-sm text-gray-400 text-center",children:"L\xf6scht eine ausgew\xe4hlte Json-Datei und damit Spieler-Ergebnisse aus Firestore."})]})]}),y("manage_players")&&(0,jn.jsxs)("button",{onClick:()=>r(i.MANAGE_PLAYERS),className:"flex flex-col items-center justify-center p-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 border bg-green-900/30 hover:bg-green-800/40 border-green-800",children:[(0,jn.jsxs)("svg",{className:"w-12 h-12 text-green-400 mb-2",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[(0,jn.jsx)("path",{d:"M17 21v-2a4 4 0 0 0-4-4H7a4 4 0 0 0-4 4v2"}),(0,jn.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,jn.jsx)("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),(0,jn.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),(0,jn.jsx)("span",{className:"text-xl font-semibold text-white text-center mb-1",children:n.managePlayers}),(0,jn.jsx)("span",{className:"text-sm text-gray-400 text-center",children:n.managePlayersDesc})]}),y("manage_ranks")&&(0,jn.jsxs)("button",{onClick:()=>r(i.MANAGE_RANKS),className:"flex flex-col items-center justify-center p-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 border bg-yellow-900/30 hover:bg-yellow-800/40 border-yellow-800",children:[(0,jn.jsx)("svg",{className:"w-12 h-12 text-yellow-400 mb-2",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:(0,jn.jsx)("polygon",{points:"12 2 15 8.5 22 9.3 17 14.1 18.2 21 12 17.8 5.8 21 7 14.1 2 9.3 9 8.5 12 2"})}),(0,jn.jsx)("span",{className:"text-xl font-semibold text-white text-center mb-1",children:n.manageRanks}),(0,jn.jsx)("span",{className:"text-sm text-gray-400 text-center",children:n.manageRanksDesc})]}),y("manage_troop_strengths")&&(0,jn.jsxs)("button",{onClick:()=>r(i.MANAGE_TROOP_STRENGTHS),className:"flex flex-col items-center justify-center p-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 border bg-blue-900/30 hover:bg-blue-800/40 border-blue-800",children:[(0,jn.jsxs)("svg",{className:"w-12 h-12 text-blue-400 mb-2",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[(0,jn.jsx)("path",{d:"M14.5 17.5L3 6V3h3L18.5 16.5"}),(0,jn.jsx)("path",{d:"M13 19l6-6"}),(0,jn.jsx)("path",{d:"M16 16l4 4"})]}),(0,jn.jsx)("span",{className:"text-xl font-semibold text-white text-center mb-1",children:n.manageTroopStrengths}),(0,jn.jsx)("span",{className:"text-sm text-gray-400 text-center",children:n.manageTroopStrengthsDesc})]}),y("manage_norms")&&(0,jn.jsxs)("button",{onClick:()=>r(i.MANAGE_NORMS),className:"flex flex-col items-center justify-center p-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 border bg-purple-900/30 hover:bg-purple-800/40 border-purple-800",children:[(0,jn.jsxs)("svg",{className:"w-12 h-12 text-purple-400 mb-2",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[(0,jn.jsx)("path",{d:"M9 11l3 3L22 4"}),(0,jn.jsx)("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),(0,jn.jsx)("span",{className:"text-xl font-semibold text-white text-center mb-1",children:n.manageNorms}),(0,jn.jsx)("span",{className:"text-sm text-gray-400 text-center",children:n.manageNormsDesc})]}),y("manage_chest_mapping")&&(0,jn.jsxs)("button",{onClick:()=>r(i.MANAGE_CHEST_MAPPING),className:"flex flex-col items-center justify-center p-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 border bg-cyan-900/30 hover:bg-cyan-800/40 border-cyan-800",children:[(0,jn.jsxs)("svg",{className:"w-12 h-12 text-cyan-400 mb-2",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[(0,jn.jsx)("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),(0,jn.jsx)("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),(0,jn.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]}),(0,jn.jsx)("span",{className:"text-xl font-semibold text-white text-center mb-1",children:"Truhen-Zuordnungen"}),(0,jn.jsx)("span",{className:"text-sm text-gray-400 text-center",children:"Verwalte die Zuordnung von Truhen zu Kategorien und Punkten"})]}),y("manage_admin_requests")&&(0,jn.jsxs)("button",{onClick:()=>r(i.MANAGE_ADMIN_REQUESTS),className:"flex flex-col items-center justify-center p-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 border bg-emerald-900/30 hover:bg-emerald-800/40 border-emerald-800",children:[(0,jn.jsxs)("svg",{className:"w-12 h-12 text-emerald-400 mb-2",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[(0,jn.jsx)("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),(0,jn.jsx)("circle",{cx:"8.5",cy:"7",r:"4"}),(0,jn.jsx)("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),(0,jn.jsx)("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]}),(0,jn.jsx)("span",{className:"text-xl font-semibold text-white text-center mb-1",children:"Admin-Anfragen"}),(0,jn.jsx)("span",{className:"text-sm text-gray-400 text-center",children:"Verwalte Administrator-Registrierungsanfragen"})]}),y("manage_admin_requests")&&(0,jn.jsxs)("button",{onClick:()=>r(i.MANAGE_ADMINISTRATORS),className:"flex flex-col items-center justify-center p-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 border bg-cyan-900/30 hover:bg-cyan-800/40 border-cyan-800",children:[(0,jn.jsxs)("svg",{className:"w-12 h-12 text-cyan-400 mb-2",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[(0,jn.jsx)("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),(0,jn.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,jn.jsx)("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),(0,jn.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),(0,jn.jsx)("span",{className:"text-xl font-semibold text-white text-center mb-1",children:"Administratoren"}),(0,jn.jsx)("span",{className:"text-sm text-gray-400 text-center",children:"Verwalte bestehende Administratoren und deren Berechtigungen"})]}),y("create_period")&&(0,jn.jsxs)("button",{onClick:()=>r(i.CREATE_PERIOD),className:"flex flex-col items-center justify-center p-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 border bg-red-900/30 hover:bg-red-800/40 border-red-800",children:[(0,jn.jsxs)("svg",{className:"w-12 h-12 text-red-400 mb-2",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[(0,jn.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,jn.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),(0,jn.jsx)("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]}),(0,jn.jsx)("span",{className:"text-xl font-semibold text-white text-center mb-1",children:n.createPeriod}),(0,jn.jsx)("span",{className:"text-sm text-gray-400 text-center",children:n.createPeriodDesc})]}),(0,jn.jsxs)("button",{onClick:()=>r(i.CURRENT_TOTAL_EVENT_ADMIN),className:"flex flex-col items-center justify-center p-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 border bg-teal-900/30 hover:bg-teal-800/40 border-teal-800",children:[(0,jn.jsxs)("svg",{className:"w-12 h-12 text-teal-400 mb-2",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[(0,jn.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"10"}),(0,jn.jsx)("line",{x1:"18",y1:"20",x2:"18",y2:"4"}),(0,jn.jsx)("line",{x1:"6",y1:"20",x2:"6",y2:"16"})]}),(0,jn.jsx)("span",{className:"text-xl font-semibold text-white text-center mb-1",children:n.currentTotalEvent}),(0,jn.jsx)("span",{className:"text-sm text-gray-400 text-center",children:n.currentTotalEventDesc})]}),(0,jn.jsxs)("button",{onClick:()=>r(i.EVENT_ARCHIVE_ADMIN),className:"flex flex-col items-center justify-center p-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 border bg-indigo-900/30 hover:bg-indigo-800/40 border-indigo-800",children:[(0,jn.jsxs)("svg",{className:"w-12 h-12 text-indigo-400 mb-2",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[(0,jn.jsx)("rect",{x:"3",y:"3",width:"18",height:"4"}),(0,jn.jsx)("rect",{x:"3",y:"7",width:"18",height:"14"}),(0,jn.jsx)("line",{x1:"9",y1:"12",x2:"15",y2:"12"})]}),(0,jn.jsx)("span",{className:"text-xl font-semibold text-white text-center mb-1",children:n.eventArchiveAdmin}),(0,jn.jsx)("span",{className:"text-sm text-gray-400 text-center",children:n.eventArchiveAdminDesc})]}),(0,jn.jsxs)("button",{onClick:()=>r(i.EMAIL_TEST),className:"flex flex-col items-center justify-center p-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 border bg-indigo-900/30 hover:bg-indigo-800/40 border-indigo-800",children:[(0,jn.jsxs)("svg",{className:"w-12 h-12 text-indigo-400 mb-2",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[(0,jn.jsx)("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),(0,jn.jsx)("polyline",{points:"22,6 12,13 2,6"})]}),(0,jn.jsx)("span",{className:"text-xl font-semibold text-white text-center mb-1",children:"E-Mail-Test"}),(0,jn.jsx)("span",{className:"text-sm text-gray-400 text-center",children:"Teste die E-Mail-Konfiguration"})]}),(0,jn.jsxs)("button",{onClick:()=>r(i.ADMIN_DEBUG),className:"flex flex-col items-center justify-center p-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 border bg-red-900/30 hover:bg-red-800/40 border-red-800",children:[(0,jn.jsxs)("svg",{className:"w-12 h-12 text-red-400 mb-2",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[(0,jn.jsx)("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),(0,jn.jsx)("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),(0,jn.jsx)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),(0,jn.jsx)("span",{className:"text-xl font-semibold text-white text-center mb-1",children:"Admin Debug"}),(0,jn.jsx)("span",{className:"text-sm text-gray-400 text-center",children:"Admin-Requests & E-Mail-Debug"})]})]}),d&&(0,jn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:(0,jn.jsxs)("div",{className:"bg-gray-800 rounded-lg p-8 shadow-lg w-full max-w-xl",children:[(0,jn.jsx)("h3",{className:"text-2xl font-semibold mb-4 text-white",children:"W\xe4hle eine Datei zum L\xf6schen aus:"}),u?(0,jn.jsx)("p",{className:"text-gray-400",children:"Lade Daten..."}):0===l.length?(0,jn.jsx)("p",{className:"text-gray-400",children:"Keine Ergebnisdateien vorhanden."}):(0,jn.jsx)("ul",{className:"mb-6 max-h-96 overflow-y-auto",children:l.map((e,t)=>(0,jn.jsxs)("li",{className:"flex justify-between items-center border-b border-gray-700 py-3 cursor-pointer "+(p===e?"bg-red-900/40":""),onClick:()=>g(e),children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("div",{className:"font-semibold text-white",children:e.eventDate}),(0,jn.jsxs)("div",{className:"text-sm text-gray-400",children:["Periode: ",e.periodId," \u2022 ",e.playerCount," Spieler"]})]}),p===e&&(0,jn.jsx)("span",{className:"ml-2 text-red-400 font-bold",children:"Ausgew\xe4hlt"})]},t))}),(0,jn.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,jn.jsx)("button",{onClick:()=>f(!1),className:"px-4 py-2 bg-gray-600 rounded text-white font-semibold hover:bg-gray-700 transition",children:"Abbrechen"}),(0,jn.jsx)("button",{onClick:async()=>{if(p&&window.confirm(`M\xf6chtest du wirklich alle ${p.playerCount} Spieler-Ergebnisse f\xfcr ${p.eventDate} l\xf6schen?`))try{for(const e of p.documentIds)await(0,a.kd)((0,a.H9)(Pn,"results",e));o(s.filter(e=>!p.documentIds.includes(e.id))),c(l.filter(e=>e!==p)),f(!1),g(null),alert(`Alle ${p.playerCount} Spieler-Ergebnisse wurden erfolgreich gel\xf6scht!`)}catch(e){alert("Fehler beim L\xf6schen!")}},disabled:!p,className:"px-4 py-2 rounded font-semibold transition "+(p?"bg-red-700 text-white hover:bg-red-800":"bg-gray-400 text-gray-700 cursor-not-allowed"),children:"L\xf6schen"})]})]})}),(0,jn.jsxs)("button",{onClick:()=>r(i.NAVIGATION),className:"flex items-center px-8 py-4 bg-gradient-to-r from-red-600 to-red-700 text-white text-xl font-semibold rounded-full shadow-lg hover:from-red-700 hover:to-red-800 transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-red-500 focus:ring-opacity-50 mb-12",children:[(0,jn.jsxs)("svg",{className:"mr-3 w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[(0,jn.jsx)("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),(0,jn.jsx)("polyline",{points:"12 19 5 12 12 5"})]}),n.backToNavigation]}),(0,jn.jsx)("footer",{className:"mt-auto text-gray-500 text-sm",children:n.copyright})]})}const Un=["Clanf\xfchrer","Vorgesetzter","Chest_Counter","Clan_Bank","Clan_Taxi","Offizier","Veteran","Soldat"];function Bn(t){let{t:n,setCurrentPage:r}=t;const[i,s]=(0,e.useState)([]),[o,l]=(0,e.useState)([]),[c,u]=(0,e.useState)([]),[h,d]=(0,e.useState)({name:"",aliases:"",rank:"",troopStrength:""}),[f,p]=(0,e.useState)(null),[g,m]=(0,e.useState)({name:"",aliases:"",rank:"",troopStrength:""});(0,e.useEffect)(()=>{const e=(0,a.aQ)((0,a.rJ)(Pn,"players"),e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));t.sort((e,t)=>{const n=Un.indexOf(e.rank),r=Un.indexOf(t.rank);return n!==r?n-r:["Vorgesetzter","Offizier","Veteran","Soldat"].includes(e.rank)?Number(t.troopStrength)-Number(e.troopStrength):0}),s(t)});return()=>e()},[]),(0,e.useEffect)(()=>{const e=(0,a.aQ)((0,a.rJ)(Pn,"ranks"),e=>{l(e.docs.map(e=>e.data().name))});return()=>e()},[]),(0,e.useEffect)(()=>{const e=(0,a.aQ)((0,a.rJ)(Pn,"troopStrengths"),e=>{u(e.docs.map(e=>({name:e.data().name,norm:e.data().norm})))});return()=>e()},[]);const y=e=>{d({...h,[e.target.name]:e.target.value})},v=e=>{m({...g,[e.target.name]:e.target.value})},b=async()=>{if(!g.name||!g.rank||!g.troopStrength)return;const e=c.find(e=>e.name===g.troopStrength),t=(null===e||void 0===e?void 0:e.norm)||{};await(0,a.mZ)((0,a.H9)(Pn,"players",f),{name:g.name,aliases:g.aliases.split(",").map(e=>e.trim()).filter(e=>e),rank:g.rank,troopStrength:g.troopStrength,norms:t}),p(null),m({name:"",aliases:"",rank:"",troopStrength:""})};return(0,jn.jsxs)("div",{className:"min-h-screen flex flex-col items-center bg-gray-900 text-white p-4 pb-8",children:[(0,jn.jsx)("h2",{className:"text-4xl font-bold mb-6 text-center text-blue-400",children:n.managePlayersTitle}),(0,jn.jsxs)("div",{className:"mb-8 w-full max-w-xl",children:[(0,jn.jsx)("input",{type:"text",name:"name",value:h.name,onChange:y,placeholder:"Spielername",className:"mb-2 px-4 py-2 rounded bg-gray-800 text-white border border-gray-600 w-full"}),(0,jn.jsx)("input",{type:"text",name:"aliases",value:h.aliases,onChange:y,placeholder:"Aliase (Komma getrennt)",className:"mb-2 px-4 py-2 rounded bg-gray-800 text-white border border-gray-600 w-full"}),(0,jn.jsxs)("select",{name:"rank",value:h.rank,onChange:y,className:"mb-2 px-4 py-2 rounded bg-gray-800 text-white border border-gray-600 w-full",children:[(0,jn.jsx)("option",{value:"",children:"Rang ausw\xe4hlen"}),o.map(e=>(0,jn.jsx)("option",{value:e,children:e},e))]}),(0,jn.jsxs)("select",{name:"troopStrength",value:h.troopStrength,onChange:y,className:"mb-2 px-4 py-2 rounded bg-gray-800 text-white border border-gray-600 w-full",children:[(0,jn.jsx)("option",{value:"",children:"Truppenst\xe4rke ausw\xe4hlen"}),c.map(e=>(0,jn.jsx)("option",{value:e.name,children:e.name},e.name))]}),(0,jn.jsx)("button",{onClick:async()=>{if(!h.name||!h.rank||!h.troopStrength)return;const e=c.find(e=>e.name===h.troopStrength),t=(null===e||void 0===e?void 0:e.norm)||{},n={name:h.name,aliases:h.aliases.split(",").map(e=>e.trim()).filter(e=>e),rank:h.rank,troopStrength:h.troopStrength,norms:t};await(0,a.addDoc)((0,a.rJ)(Pn,"players"),n),d({name:"",aliases:"",rank:"",troopStrength:""})},className:"px-6 py-2 bg-blue-600 rounded text-white font-semibold hover:bg-blue-700 transition w-full",children:"Spieler hinzuf\xfcgen"})]}),(0,jn.jsx)("ul",{className:"w-full max-w-xl",children:i.map(e=>{var t,n;return(0,jn.jsx)("li",{className:"flex flex-col bg-gray-800 rounded p-2 mb-2",children:f===e.id?(0,jn.jsxs)(jn.Fragment,{children:[(0,jn.jsx)("input",{type:"text",name:"name",value:g.name,onChange:v,className:"mb-2 px-4 py-2 rounded bg-gray-700 text-white border border-gray-600 w-full"}),(0,jn.jsx)("input",{type:"text",name:"aliases",value:g.aliases,onChange:v,className:"mb-2 px-4 py-2 rounded bg-gray-700 text-white border border-gray-600 w-full"}),(0,jn.jsxs)("select",{name:"rank",value:g.rank,onChange:v,className:"mb-2 px-4 py-2 rounded bg-gray-700 text-white border border-gray-600 w-full",children:[(0,jn.jsx)("option",{value:"",children:"Rang ausw\xe4hlen"}),o.map(e=>(0,jn.jsx)("option",{value:e,children:e},e))]}),(0,jn.jsxs)("select",{name:"troopStrength",value:g.troopStrength,onChange:v,className:"mb-2 px-4 py-2 rounded bg-gray-700 text-white border border-gray-600 w-full",children:[(0,jn.jsx)("option",{value:"",children:"Truppenst\xe4rke ausw\xe4hlen"}),c.map(e=>(0,jn.jsx)("option",{value:e.name,children:e.name},e.name))]}),(0,jn.jsx)("button",{onClick:b,className:"px-4 py-2 bg-green-600 rounded text-white font-semibold hover:bg-green-700 transition mb-2",children:"\xc4nderungen speichern"}),(0,jn.jsx)("button",{onClick:()=>p(null),className:"px-4 py-2 bg-gray-600 rounded text-white font-semibold hover:bg-gray-700 transition",children:"Abbrechen"})]}):(0,jn.jsxs)(jn.Fragment,{children:[(0,jn.jsxs)("span",{children:[(0,jn.jsx)("b",{children:"Name:"})," ",e.name]}),(0,jn.jsxs)("span",{children:[(0,jn.jsx)("b",{children:"Aliase:"})," ",e.aliases&&e.aliases.join(", ")]}),(0,jn.jsxs)("span",{children:[(0,jn.jsx)("b",{children:"Rang:"})," ",e.rank]}),(0,jn.jsxs)("span",{children:[(0,jn.jsx)("b",{children:"Truppenst\xe4rke:"})," ",e.troopStrength]}),(0,jn.jsxs)("span",{children:[(0,jn.jsx)("b",{children:"Normen:"})," Truhen: ",null===(t=e.norms)||void 0===t?void 0:t.chests,", Punkte: ",null===(n=e.norms)||void 0===n?void 0:n.points]}),(0,jn.jsxs)("span",{children:[(0,jn.jsx)("b",{children:"ID:"})," ",e.id]}),(0,jn.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,jn.jsx)("button",{onClick:()=>(e=>{p(e.id),m({name:e.name,aliases:e.aliases?e.aliases.join(", "):"",rank:e.rank,troopStrength:e.troopStrength})})(e),className:"px-3 py-1 bg-yellow-600 rounded text-white hover:bg-yellow-700",children:"Spieler bearbeiten"}),(0,jn.jsx)("button",{onClick:()=>(async e=>{await(0,a.kd)((0,a.H9)(Pn,"players",e))})(e.id),className:"px-3 py-1 bg-red-600 rounded text-white hover:bg-red-700",children:"Spieler l\xf6schen"})]})]})},e.id)})}),(0,jn.jsx)("button",{onClick:()=>r("adminPanel"),className:"mt-8 text-blue-300 underline",children:"Zur\xfcck zum Admin-Panel"}),(0,jn.jsx)("footer",{className:"mt-auto text-gray-500 text-sm",children:n.copyright})]})}function Hn(t){let{t:n,setCurrentPage:r}=t;const[s,o]=(0,e.useState)([]),[l,c]=(0,e.useState)("");(0,e.useEffect)(()=>{const e=(0,a.aQ)((0,a.rJ)(Pn,"ranks"),e=>{const t=e.docs.map(e=>({id:e.id,name:e.data().name,createdAt:e.data().createdAt||0})).sort((e,t)=>e.createdAt-t.createdAt);o(t)});return()=>e()},[]);return(0,jn.jsxs)("div",{className:"min-h-screen flex flex-col items-center bg-gray-900 text-white p-4 pb-8",children:[(0,jn.jsx)("h2",{className:"text-4xl font-bold mb-6 text-center text-yellow-400",children:n.manageRanksTitle}),(0,jn.jsxs)("div",{className:"mb-8 w-full max-w-xl",children:[(0,jn.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),placeholder:"Neuer Rang (z.B. General)",className:"mb-2 px-4 py-2 rounded bg-gray-800 text-white border border-gray-600 w-full"}),(0,jn.jsx)("button",{onClick:async()=>{l.trim()&&(await(0,a.addDoc)((0,a.rJ)(Pn,"ranks"),{name:l.trim(),createdAt:Date.now()}),c(""))},className:"px-6 py-2 bg-yellow-600 rounded text-white font-semibold hover:bg-yellow-700 transition w-full",children:"Rang hinzuf\xfcgen"})]}),(0,jn.jsx)("ul",{className:"w-full max-w-xl",children:s.map(e=>(0,jn.jsxs)("li",{className:"flex justify-between items-center bg-gray-800 rounded p-2 mb-2",children:[(0,jn.jsx)("span",{children:e.name}),(0,jn.jsx)("button",{onClick:()=>(async e=>{await(0,a.kd)((0,a.H9)(Pn,"ranks",e))})(e.id),className:"px-3 py-1 bg-red-600 rounded text-white hover:bg-red-700",children:"L\xf6schen"})]},e.id))}),(0,jn.jsx)("button",{onClick:()=>r(i.ADMIN_PANEL),className:"mt-8 text-yellow-300 underline",children:n.backToAdminPanel}),(0,jn.jsx)("footer",{className:"mt-auto text-gray-500 text-sm",children:n.copyright})]})}function $n(t){let{t:n,setCurrentPage:r}=t;const[s,o]=(0,e.useState)([]),[l,c]=(0,e.useState)("");(0,e.useEffect)(()=>{const e=(0,a.aQ)((0,a.rJ)(Pn,"troopStrengths"),e=>{const t=e.docs.map(e=>({id:e.id,name:e.data().name,createdAt:e.data().createdAt||0})).sort((e,t)=>e.createdAt-t.createdAt);o(t)});return()=>e()},[]);return(0,jn.jsxs)("div",{className:"min-h-screen flex flex-col items-center bg-gray-900 text-white p-4 pb-8",children:[(0,jn.jsx)("h2",{className:"text-4xl font-bold mb-6 text-center text-blue-400",children:n.manageTroopStrengthsTitle}),(0,jn.jsxs)("div",{className:"mb-8 w-full max-w-xl",children:[(0,jn.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),placeholder:"Neue Truppenst\xe4rke (z.B. 100000)",className:"mb-2 px-4 py-2 rounded bg-gray-800 text-white border border-gray-600 w-full"}),(0,jn.jsx)("button",{onClick:async()=>{l.trim()&&(await(0,a.addDoc)((0,a.rJ)(Pn,"troopStrengths"),{name:l.trim(),createdAt:Date.now()}),c(""))},className:"px-6 py-2 bg-blue-600 rounded text-white font-semibold hover:bg-blue-700 transition w-full",children:"Truppenst\xe4rke hinzuf\xfcgen"})]}),(0,jn.jsx)("ul",{className:"w-full max-w-xl",children:s.map(e=>(0,jn.jsxs)("li",{className:"flex justify-between items-center bg-gray-800 rounded p-2 mb-2",children:[(0,jn.jsx)("span",{children:e.name}),(0,jn.jsx)("button",{onClick:()=>(async e=>{await(0,a.kd)((0,a.H9)(Pn,"troopStrengths",e))})(e.id),className:"px-3 py-1 bg-red-600 rounded text-white hover:bg-red-700",children:"L\xf6schen"})]},e.id))}),(0,jn.jsx)("button",{onClick:()=>r(i.ADMIN_PANEL),className:"mt-8 text-blue-300 underline",children:n.backToAdminPanel}),(0,jn.jsx)("footer",{className:"mt-auto text-gray-500 text-sm",children:n.copyright})]})}function Wn(t){let{t:n,setCurrentPage:r}=t;const[s,o]=(0,e.useState)([]),[l,c]=(0,e.useState)([]),[u,h]=(0,e.useState)(""),[d,f]=(0,e.useState)("");(0,e.useEffect)(()=>{const e=(0,a.aQ)((0,a.rJ)(Pn,"norms"),e=>{const t=e.docs.map(e=>({id:e.id,troopStrength:e.data().troopStrength,value:e.data().value,createdAt:e.data().createdAt||0})).sort((e,t)=>e.createdAt-t.createdAt);o(t)});return()=>e()},[]),(0,e.useEffect)(()=>{const e=(0,a.aQ)((0,a.rJ)(Pn,"troopStrengths"),e=>{c(e.docs.map(e=>e.data().name))});return()=>e()},[]);return(0,jn.jsxs)("div",{className:"min-h-screen flex flex-col items-center bg-gray-900 text-white p-4 pb-8",children:[(0,jn.jsx)("h2",{className:"text-4xl font-bold mb-6 text-center text-purple-400",children:n.manageNormsTitle}),(0,jn.jsxs)("div",{className:"mb-8 w-full max-w-xl",children:[(0,jn.jsxs)("select",{value:u,onChange:e=>h(e.target.value),className:"mb-2 px-4 py-2 rounded bg-gray-800 text-white border border-gray-600 w-full",children:[(0,jn.jsx)("option",{value:"",children:"Truppenst\xe4rke ausw\xe4hlen"}),l.map(e=>(0,jn.jsx)("option",{value:e,children:e},e))]}),(0,jn.jsx)("input",{type:"text",value:d,onChange:e=>f(e.target.value),placeholder:"Norm-Wert (z.B. 100)",className:"mb-2 px-4 py-2 rounded bg-gray-800 text-white border border-gray-600 w-full"}),(0,jn.jsx)("button",{onClick:async()=>{u&&d.trim()&&(await(0,a.addDoc)((0,a.rJ)(Pn,"norms"),{troopStrength:u,value:d.trim(),createdAt:Date.now()}),h(""),f(""))},className:"px-6 py-2 bg-purple-600 rounded text-white font-semibold hover:bg-purple-700 transition w-full",children:"Norm hinzuf\xfcgen"})]}),(0,jn.jsx)("ul",{className:"w-full max-w-xl",children:s.map(e=>(0,jn.jsxs)("li",{className:"flex justify-between items-center bg-gray-800 rounded p-2 mb-2",children:[(0,jn.jsxs)("span",{children:[e.troopStrength," (",e.value,")"]}),(0,jn.jsx)("button",{onClick:()=>(async e=>{await(0,a.kd)((0,a.H9)(Pn,"norms",e))})(e.id),className:"px-3 py-1 bg-red-600 rounded text-white hover:bg-red-700",children:"L\xf6schen"})]},e.id))}),(0,jn.jsx)("button",{onClick:()=>r(i.ADMIN_PANEL),className:"mt-8 text-purple-300 underline",children:n.backToAdminPanel}),(0,jn.jsx)("footer",{className:"mt-auto text-gray-500 text-sm",children:n.copyright})]})}function qn(t){let{t:n,setCurrentPage:r}=t;const[s,o]=(0,e.useState)([]),[l,c]=(0,e.useState)({chestName:"",category:"",levelStart:"",levelEnd:"",points:""}),[u,h]=(0,e.useState)(null),[d,f]=(0,e.useState)({}),p=["Arena Chests","Common Chests","Rare Chests","Epic Chests","Chests of Tartaros","Elven Chests","Cursed Chests","Bank Chests","Runic Chests","Heroic Chests","Vault of the Ancients","Quick March Chest","Ancients Chest","ROTA Total","Epic Ancient squad","EAs Total","Union Chest","Union Total","Jormungandr Chests","Jormungandr Total"],g={"Arena Chests":["default"],"Common Chests":["default","Barbarian Chest","Common Chest"],"Rare Chests":["default","Orc Chest","Rare Chest"],"Epic Chests":["default","Undead Chest","Epic Chest"],"Chests of Tartaros":["default","Demon Chest","Tartaros Chest"],"Elven Chests":["default","Elven Citadel Chest","Elf Chest"],"Cursed Chests":["default","Cursed Chest"],"Runic Chests":["default","Runic Chest"],"Heroic Chests":["default","Heroic Chest"],"Vault of the Ancients":["default","Vault of the Ancients Chest","Ancient Chest"],"Bank Chests":["Uncommon Chest of Wealth","Rare Chest of Wealth","Epic Chest of Wealth","Legendary Chest of Wealth","Magic Chest of Wealth","Chest of Wealth"],"Quick March Chest":["Quick March Chest"],"Ancients Chest":["Ancients Chest"],"Union Chest":["Union Chest"],"Jormungandr Chests":["Jormungandr Chest"],"Epic Ancient squad":["Epic Ancient squad"],"ROTA Total":["ROTA Total"],"EAs Total":["EAs Total"],"Union Total":["Union Total"],"Jormungandr Total":["Jormungandr Total"]},m=e=>g[e]||["default"];(0,e.useEffect)(()=>{const e=(0,a.aQ)((0,a.rJ)(Pn,"chestMappings"),e=>{const t=e.docs.map(e=>({id:e.id,...e.data()})).sort((e,t)=>{const n=e.timestamp?new Date(e.timestamp):new Date(0);return(t.timestamp?new Date(t.timestamp):new Date(0))-n});o(t)});return()=>e()},[]);const y=async()=>{try{await(0,a.mZ)((0,a.H9)(Pn,"chestMappings",u),{chestName:d.chestName,category:d.category,levelStart:parseInt(d.levelStart)||0,levelEnd:parseInt(d.levelEnd)||parseInt(d.levelStart)||0,points:parseInt(d.points),timestamp:(new Date).toISOString()}),h(null),f({}),alert("Truhen-Zuordnung wurde erfolgreich aktualisiert!")}catch(e){console.error("Error updating mapping:",e),alert("Fehler beim Aktualisieren der Zuordnung!")}};return(0,jn.jsxs)("div",{className:"min-h-screen flex flex-col items-center bg-gray-900 text-white p-4 pb-8",children:[(0,jn.jsx)("h2",{className:"text-4xl font-bold mb-6 text-center text-purple-400",children:"Truhen-Zuordnungen verwalten"}),(0,jn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),l.chestName&&l.category&&l.points)try{await(0,a.addDoc)((0,a.rJ)(Pn,"chestMappings"),{chestName:l.chestName,category:l.category,levelStart:parseInt(l.levelStart)||0,levelEnd:parseInt(l.levelEnd)||parseInt(l.levelStart)||0,points:parseInt(l.points),timestamp:(new Date).toISOString()}),c({chestName:"",category:"",levelStart:"",levelEnd:"",points:""}),alert("Truhen-Zuordnung wurde erfolgreich hinzugef\xfcgt!")}catch(t){console.error("Error adding mapping:",t),alert("Fehler beim Hinzuf\xfcgen der Zuordnung!")}else alert("Bitte f\xfclle alle Pflichtfelder aus!")},className:"mb-8 w-full max-w-4xl bg-gray-800 rounded-lg p-6",children:[(0,jn.jsx)("h3",{className:"text-2xl font-semibold mb-4 text-purple-300",children:"Neue Truhen-Zuordnung hinzuf\xfcgen"}),(0,jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-300",children:"Truhen-Name *"}),(0,jn.jsxs)("select",{value:l.chestName,onChange:e=>c({...l,chestName:e.target.value}),className:"w-full px-3 py-2 rounded bg-gray-700 text-white border border-gray-600 focus:border-purple-500 focus:outline-none",children:[(0,jn.jsx)("option",{value:"",children:"Bitte w\xe4hlen..."}),l.category&&m(l.category).map(e=>(0,jn.jsx)("option",{value:e,children:e},e))]}),!l.category&&(0,jn.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Erst Kategorie w\xe4hlen"})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-300",children:"Kategorie *"}),(0,jn.jsxs)("select",{value:l.category,onChange:e=>c({...l,category:e.target.value,chestName:""}),className:"w-full px-3 py-2 rounded bg-gray-700 text-white border border-gray-600 focus:border-purple-500 focus:outline-none",children:[(0,jn.jsx)("option",{value:"",children:"Bitte w\xe4hlen..."}),p.map(e=>(0,jn.jsx)("option",{value:e,children:e},e))]})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-300",children:"Level Start"}),(0,jn.jsx)("input",{type:"number",value:l.levelStart,onChange:e=>c({...l,levelStart:e.target.value}),className:"w-full px-3 py-2 rounded bg-gray-700 text-white border border-gray-600 focus:border-purple-500 focus:outline-none",placeholder:"z.B. 10"})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-300",children:"Level Ende"}),(0,jn.jsx)("input",{type:"number",value:l.levelEnd,onChange:e=>c({...l,levelEnd:e.target.value}),className:"w-full px-3 py-2 rounded bg-gray-700 text-white border border-gray-600 focus:border-purple-500 focus:outline-none",placeholder:"z.B. 15"})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-300",children:"Punkte *"}),(0,jn.jsx)("input",{type:"number",value:l.points,onChange:e=>c({...l,points:e.target.value}),className:"w-full px-3 py-2 rounded bg-gray-700 text-white border border-gray-600 focus:border-purple-500 focus:outline-none",placeholder:"z.B. 64"})]})]}),(0,jn.jsx)("div",{className:"flex gap-4 mt-6",children:(0,jn.jsx)("button",{type:"submit",className:"px-6 py-2 bg-purple-600 rounded text-white font-semibold hover:bg-purple-700 transition",children:"Hinzuf\xfcgen"})})]}),(0,jn.jsxs)("div",{className:"w-full max-w-6xl bg-gray-800 rounded-lg p-6",children:[(0,jn.jsx)("h3",{className:"text-2xl font-semibold mb-4 text-purple-300",children:"Bestehende Truhen-Zuordnungen"}),0===s.length?(0,jn.jsx)("p",{className:"text-gray-400",children:"Keine Truhen-Zuordnungen vorhanden."}):(0,jn.jsx)("div",{className:"overflow-x-auto",children:(0,jn.jsxs)("table",{className:"w-full table-auto",children:[(0,jn.jsx)("thead",{children:(0,jn.jsxs)("tr",{className:"bg-gray-700",children:[(0,jn.jsx)("th",{className:"px-4 py-2 text-left",children:"Truhen-Name"}),(0,jn.jsx)("th",{className:"px-4 py-2 text-left",children:"Kategorie"}),(0,jn.jsx)("th",{className:"px-4 py-2 text-left",children:"Level"}),(0,jn.jsx)("th",{className:"px-4 py-2 text-left",children:"Punkte"}),(0,jn.jsx)("th",{className:"px-4 py-2 text-left",children:"Aktionen"})]})}),(0,jn.jsx)("tbody",{children:s.map(e=>(0,jn.jsxs)("tr",{className:"border-b border-gray-700",children:[(0,jn.jsx)("td",{className:"px-4 py-2",children:u===e.id?(0,jn.jsxs)("select",{value:d.chestName,onChange:e=>f({...d,chestName:e.target.value}),className:"w-full px-2 py-1 rounded bg-gray-700 text-white border border-gray-600",children:[(0,jn.jsx)("option",{value:"",children:"Bitte w\xe4hlen..."}),d.category&&m(d.category).map(e=>(0,jn.jsx)("option",{value:e,children:e},e))]}):e.chestName}),(0,jn.jsx)("td",{className:"px-4 py-2",children:u===e.id?(0,jn.jsx)("select",{value:d.category,onChange:e=>f({...d,category:e.target.value,chestName:""}),className:"w-full px-2 py-1 rounded bg-gray-700 text-white border border-gray-600",children:p.map(e=>(0,jn.jsx)("option",{value:e,children:e},e))}):e.category}),(0,jn.jsx)("td",{className:"px-4 py-2",children:u===e.id?(0,jn.jsxs)("div",{className:"flex gap-2",children:[(0,jn.jsx)("input",{type:"number",value:d.levelStart,onChange:e=>f({...d,levelStart:e.target.value}),className:"w-16 px-2 py-1 rounded bg-gray-700 text-white border border-gray-600"}),(0,jn.jsx)("span",{className:"text-gray-400",children:"-"}),(0,jn.jsx)("input",{type:"number",value:d.levelEnd,onChange:e=>f({...d,levelEnd:e.target.value}),className:"w-16 px-2 py-1 rounded bg-gray-700 text-white border border-gray-600"})]}):e.levelStart===e.levelEnd?e.levelStart:`${e.levelStart} - ${e.levelEnd}`}),(0,jn.jsx)("td",{className:"px-4 py-2",children:u===e.id?(0,jn.jsx)("input",{type:"number",value:d.points,onChange:e=>f({...d,points:e.target.value}),className:"w-20 px-2 py-1 rounded bg-gray-700 text-white border border-gray-600"}):e.points}),(0,jn.jsx)("td",{className:"px-4 py-2",children:u===e.id?(0,jn.jsxs)("div",{className:"flex gap-2",children:[(0,jn.jsx)("button",{onClick:y,className:"px-3 py-1 bg-green-600 rounded text-white text-sm hover:bg-green-700 transition",children:"Speichern"}),(0,jn.jsx)("button",{onClick:()=>{h(null),f({})},className:"px-3 py-1 bg-gray-600 rounded text-white text-sm hover:bg-gray-700 transition",children:"Abbrechen"})]}):(0,jn.jsxs)("div",{className:"flex gap-2",children:[(0,jn.jsx)("button",{onClick:()=>(e=>{h(e.id),f({chestName:e.chestName,category:e.category,levelStart:e.levelStart.toString(),levelEnd:e.levelEnd.toString(),points:e.points.toString()})})(e),className:"px-3 py-1 bg-blue-600 rounded text-white text-sm hover:bg-blue-700 transition",children:"Bearbeiten"}),(0,jn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("M\xf6chtest du diese Truhen-Zuordnung wirklich l\xf6schen?"))try{await(0,a.kd)((0,a.H9)(Pn,"chestMappings",e)),alert("Truhen-Zuordnung wurde erfolgreich gel\xf6scht!")}catch(t){console.error("Error deleting mapping:",t),alert("Fehler beim L\xf6schen der Zuordnung!")}})(e.id),className:"px-3 py-1 bg-red-600 rounded text-white text-sm hover:bg-red-700 transition",children:"L\xf6schen"})]})})]},e.id))})]})})]}),(0,jn.jsx)("button",{onClick:()=>r(i.ADMIN_PANEL),className:"mt-8 text-purple-300 underline",children:"Zur\xfcck zum Admin-Panel"}),(0,jn.jsx)("footer",{className:"mt-auto text-gray-500 text-sm",children:n.copyright})]})}const Gn=()=>(async e=>{try{console.log("Testing Firebase connection...");const t=await(0,a.GG)((0,a.rJ)(Pn,"admins"));console.log("Admins collection accessible:",!t.empty),console.log("Number of existing admins:",t.size);const n=await(0,a.addDoc)((0,a.rJ)(Pn,"adminRequests"),{...e,test:!0,timestamp:(new Date).toISOString()});return console.log("Test document created successfully:",n.id),{success:!0,id:n.id}}catch(t){return console.error("Firebase test failed:",t),{success:!1,error:t.message,code:t.code}}})({name:"Test User",email:"test@example.com",clanRole:"Mitglied",reason:"Test-Registrierung",password:"test123",status:"pending",requestDate:(new Date).toISOString(),requestedRole:"contentAdmin"});class Kn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Network Error";this.status=e,this.text=t}}const Qn={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!==typeof localStorage)return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}})()},Jn=e=>e?"string"===typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{},Yn=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=await fetch(Qn.origin+e,{method:"POST",headers:n,body:t}),i=await r.text(),s=new Kn(r.status,i);if(r.ok)return s;throw s},Xn=(e,t,n)=>{if(!e||"string"!==typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!==typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||"string"!==typeof n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},Zn=e=>e.webdriver||!e.languages||0===e.languages.length,er=()=>new Kn(451,"Unavailable For Headless Browser"),tr=(e,t)=>{if((e=>!e.list?.length||!e.watchVariable)(e))return!1;((e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!==typeof t)throw"The BlockList watchVariable has to be a string"})(e.list,e.watchVariable);const n=(r=t,i=e.watchVariable,r instanceof FormData?r.get(i):r[i]);var r,i;return"string"===typeof n&&e.list.includes(n)},nr=()=>new Kn(403,"Forbidden"),rr=async(e,t,n)=>{if(!t.throttle||!n)return!1;((e,t)=>{if("number"!==typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!==typeof t)throw"The LimitRate ID has to be a non-empty string"})(t.throttle,t.id);const r=t.id||e,i=await(async(e,t,n)=>{const r=Number(await n.get(e)||0);return t-Date.now()+r})(r,t.throttle,n);return i>0||(await n.set(r,Date.now().toString()),!1)},ir=()=>new Kn(429,"Too Many Requests"),sr=async(e,t,n,r)=>{const i=Jn(r),s=i.publicKey||Qn.publicKey,a=i.blockHeadless||Qn.blockHeadless,o=i.storageProvider||Qn.storageProvider,l={...Qn.blockList,...i.blockList},c={...Qn.limitRate,...i.limitRate};if(a&&Zn(navigator))return Promise.reject(er());if(Xn(s,e,t),(e=>{if(e&&"[object Object]"!==e.toString())throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"})(n),n&&tr(l,n))return Promise.reject(nr());if(await rr(location.pathname,c,o))return Promise.reject(ir());const u={lib_version:"4.4.1",user_id:s,service_id:e,template_id:t,template_params:n};return Yn("/api/v1.0/email/send",JSON.stringify(u),{"Content-type":"application/json"})},ar="service_proy5xl",or="template_s5h2p0z",lr="template_22sj8u1",cr="NLUS5nZ0apdX33KXW",ur="Superdampf1965@gmail.com";(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://api.emailjs.com";if(!e)return;const n=Jn(e);Qn.publicKey=n.publicKey,Qn.blockHeadless=n.blockHeadless,Qn.storageProvider=n.storageProvider,Qn.blockList=n.blockList,Qn.limitRate=n.limitRate,Qn.origin=n.origin||t})(cr);const hr=async e=>{try{const t={from_name:e.name,from_email:e.email,message:e.message,to_email:ur,subject:`Neue Kontaktanfrage von ${e.name}`,timestamp:(new Date).toLocaleString("de-DE")},n=await sr(ar,or,t);return console.log("\u2705 Kontaktformular E-Mail erfolgreich gesendet:",n),{success:!0,messageId:n.text,message:"E-Mail-Benachrichtigung gesendet"}}catch(t){return console.error("\u274c Fehler beim Senden der Kontaktformular E-Mail:",t),{success:!1,error:t.message,message:"E-Mail-Benachrichtigung fehlgeschlagen"}}},dr=async e=>{try{const t={applicant_name:e.name,applicant_email:e.email,clan_role:e.clanRole||"Nicht angegeben",reason:e.reason||"Keine Begr\xfcndung angegeben",requested_role:e.requestedRole||"Administrator",to_email:ur,subject:`Neue Admin-Registrierungsanfrage von ${e.name}`,timestamp:(new Date).toLocaleString("de-DE")},n=await sr(ar,lr,t);return console.log("\u2705 Admin-Registrierung E-Mail erfolgreich gesendet:",n),{success:!0,messageId:n.text,message:"E-Mail-Benachrichtigung gesendet"}}catch(t){return console.error("\u274c Fehler beim Senden der Admin-Registrierung E-Mail:",t),{success:!1,error:t.message,message:"E-Mail-Benachrichtigung fehlgeschlagen"}}},fr=async()=>{try{const e={to_email:ur,subject:"Test E-Mail - Clan Dashboard",message:"Dies ist eine Test-E-Mail zur \xdcberpr\xfcfung der EmailJS-Konfiguration.",timestamp:(new Date).toLocaleString("de-DE")},t=await sr(ar,or,e);return console.log("\u2705 Test-E-Mail erfolgreich gesendet:",t),{success:!0,message:"Test-E-Mail erfolgreich gesendet"}}catch(e){return console.error("\u274c Fehler beim Senden der Test-E-Mail:",e),{success:!1,error:e.message}}};function pr(t){let{t:n,setCurrentPage:r}=t;const[s,o]=(0,e.useState)({name:"",email:"",clanRole:"",reason:"",password:"",confirmPassword:"",requestedRole:"contentAdmin"}),[l,c]=(0,e.useState)(!1),[u,h]=(0,e.useState)(""),[d,f]=(0,e.useState)(""),[p,g]=(0,e.useState)(""),m=e=>{const{name:t,value:n}=e.target;o(e=>({...e,[t]:n}))};return(0,jn.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-900 text-white p-4",children:[(0,jn.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-xl p-8 w-full max-w-md",children:[(0,jn.jsx)("h2",{className:"text-3xl font-bold mb-6 text-center text-green-400",children:"Administrator-Registrierung"}),(0,jn.jsx)("p",{className:"text-gray-300 mb-6 text-center text-sm",children:"Beantrage Zugang zum Admin-Bereich. Deine Anfrage wird vom Haupt-Administrator gepr\xfcft."}),u&&(0,jn.jsx)("div",{className:"mb-6 p-4 bg-green-900/30 border border-green-600 rounded-lg",children:(0,jn.jsx)("p",{className:"text-green-300 text-sm",children:u})}),d&&(0,jn.jsx)("div",{className:"mb-6 p-4 bg-red-900/30 border border-red-600 rounded-lg",children:(0,jn.jsx)("p",{className:"text-red-300 text-sm",children:d})}),p&&(0,jn.jsxs)("div",{className:"mb-6 p-4 bg-blue-900/30 border border-blue-600 rounded-lg",children:[(0,jn.jsx)("h4",{className:"text-blue-300 text-sm font-semibold mb-2",children:"Debug Info:"}),(0,jn.jsx)("pre",{className:"text-blue-200 text-xs overflow-auto max-h-32",children:p})]}),(0,jn.jsx)("div",{className:"mb-6 text-center",children:(0,jn.jsx)("button",{type:"button",onClick:async()=>{g("Testing Firebase connection...");const e=await Gn();g(JSON.stringify(e,null,2))},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-sm font-medium",children:"Test Firebase-Verbindung"})}),(0,jn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),c(!0),f(""),h(""),!s.name||!s.email||!s.clanRole||!s.reason||!s.password)return f("Bitte f\xfclle alle Felder aus!"),void c(!1);if(s.password!==s.confirmPassword)return f("Die Passw\xf6rter stimmen nicht \xfcberein!"),void c(!1);if(s.password.length<6)return f("Das Passwort muss mindestens 6 Zeichen lang sein!"),void c(!1);if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email))return f("Bitte gib eine g\xfcltige E-Mail-Adresse ein!"),void c(!1);try{console.log("Starting admin registration process..."),console.log("Checking for existing admins...");const e=await(0,a.GG)((0,a.rJ)(Pn,"admins")),n=e.empty;if(console.log("Is first admin:",n),console.log("Existing admins count:",e.size),n){console.log("Creating first admin...");const e=await(0,a.addDoc)((0,a.rJ)(Pn,"admins"),{name:s.name,email:s.email,password:s.password,role:"superAdmin",status:"active",createdAt:(new Date).toISOString(),requestedRole:"superAdmin"});console.log("First admin created successfully:",e.id),h("\ud83c\udf89 Herzlichen Gl\xfcckwunsch! Du wurdest als erster Super Administrator registriert und kannst dich jetzt anmelden!")}else{console.log("Creating admin request...");const e=await(0,a.addDoc)((0,a.rJ)(Pn,"adminRequests"),{name:s.name,email:s.email,clanRole:s.clanRole,reason:s.reason,password:s.password,status:"pending",requestDate:(new Date).toISOString(),approvedBy:null,approvedDate:null,requestedRole:s.requestedRole});console.log("Admin request created successfully:",e.id);try{const e=await dr(s);e.success?(console.log("\u2705 E-Mail-Benachrichtigung erfolgreich gesendet:",e),h("Deine Registrierungsanfrage wurde erfolgreich gesendet! Du erh\xe4ltst eine E-Mail, sobald sie vom Haupt-Administrator bearbeitet wurde. Eine Benachrichtigung wurde an den Administrator gesendet.")):(console.warn("\u26a0\ufe0f E-Mail-Benachrichtigung fehlgeschlagen:",e.error),h("Deine Registrierungsanfrage wurde erfolgreich gesendet! Du erh\xe4ltst eine E-Mail, sobald sie vom Haupt-Administrator bearbeitet wurde."))}catch(t){console.error("\u274c E-Mail-Fehler:",t),h("Deine Registrierungsanfrage wurde erfolgreich gesendet! Du erh\xe4ltst eine E-Mail, sobald sie vom Haupt-Administrator bearbeitet wurde.")}}o({name:"",email:"",clanRole:"",reason:"",password:"",confirmPassword:"",requestedRole:"contentAdmin"})}catch(n){console.error("Registration request error:",n),console.error("Error details:",n.message),"permission-denied"===n.code?f("Berechtigung verweigert. Bitte wende dich an den Administrator."):"network-request-failed"===n.code?f("Netzwerkfehler. Bitte \xfcberpr\xfcfe deine Internetverbindung."):"unavailable"===n.code?f("Firebase-Dienst nicht verf\xfcgbar. Bitte versuche es sp\xe4ter erneut."):f(`Fehler beim Senden der Registrierungsanfrage: ${n.message}`)}finally{c(!1)}},className:"space-y-4",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Vollst\xe4ndiger Name *"}),(0,jn.jsx)("input",{type:"text",name:"name",value:s.name,onChange:m,className:"w-full px-4 py-2 rounded-lg bg-gray-700 border border-gray-600 text-white focus:border-green-500 focus:outline-none",placeholder:"Dein vollst\xe4ndiger Name",disabled:l})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"E-Mail-Adresse *"}),(0,jn.jsx)("input",{type:"email",name:"email",value:s.email,onChange:m,className:"w-full px-4 py-2 rounded-lg bg-gray-700 border border-gray-600 text-white focus:border-green-500 focus:outline-none",placeholder:"deine@email.com",disabled:l})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Rolle im Clan *"}),(0,jn.jsxs)("select",{name:"clanRole",value:s.clanRole,onChange:m,className:"w-full px-4 py-2 rounded-lg bg-gray-700 border border-gray-600 text-white focus:border-green-500 focus:outline-none",disabled:l,children:[(0,jn.jsx)("option",{value:"",children:"Bitte w\xe4hlen..."}),(0,jn.jsx)("option",{value:"Clanf\xfchrer",children:"Clanf\xfchrer"}),(0,jn.jsx)("option",{value:"Stellvertreter",children:"Stellvertreter"}),(0,jn.jsx)("option",{value:"Offizier",children:"Offizier"}),(0,jn.jsx)("option",{value:"Rechte Hand",children:"Rechte Hand"}),(0,jn.jsx)("option",{value:"\xc4ltester",children:"\xc4ltester"}),(0,jn.jsx)("option",{value:"Mitglied",children:"Mitglied"})]})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Grund f\xfcr Admin-Zugang *"}),(0,jn.jsx)("textarea",{name:"reason",value:s.reason,onChange:m,rows:"3",className:"w-full px-4 py-2 rounded-lg bg-gray-700 border border-gray-600 text-white focus:border-green-500 focus:outline-none resize-none",placeholder:"Erkl\xe4re, warum du Admin-Zugang ben\xf6tigst...",disabled:l})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Gew\xfcnschte Berechtigung *"}),(0,jn.jsxs)("select",{name:"requestedRole",value:s.requestedRole,onChange:m,className:"w-full px-4 py-2 rounded-lg bg-gray-700 border border-gray-600 text-white focus:border-green-500 focus:outline-none",disabled:l,children:[(0,jn.jsx)("option",{value:"contentAdmin",children:"Content Admin - Spieler, Truhen, R\xe4nge verwalten"}),(0,jn.jsx)("option",{value:"viewer",children:"Viewer - Nur Einsicht in Daten"})]}),(0,jn.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Super Admin Rechte k\xf6nnen nur vom Haupt-Administrator vergeben werden."})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Passwort *"}),(0,jn.jsx)("input",{type:"password",name:"password",value:s.password,onChange:m,className:"w-full px-4 py-2 rounded-lg bg-gray-700 border border-gray-600 text-white focus:border-green-500 focus:outline-none",placeholder:"Mindestens 6 Zeichen",disabled:l})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Passwort best\xe4tigen *"}),(0,jn.jsx)("input",{type:"password",name:"confirmPassword",value:s.confirmPassword,onChange:m,className:"w-full px-4 py-2 rounded-lg bg-gray-700 border border-gray-600 text-white focus:border-green-500 focus:outline-none",placeholder:"Passwort wiederholen",disabled:l})]}),(0,jn.jsx)("button",{type:"submit",disabled:l,className:"w-full py-3 px-4 rounded-lg font-semibold transition-all duration-300 "+(l?"bg-gray-600 cursor-not-allowed":"bg-green-600 hover:bg-green-700 transform hover:scale-105"),children:l?"Sende Anfrage...":"Registrierungsanfrage senden"})]}),(0,jn.jsx)("div",{className:"mt-6 text-center",children:(0,jn.jsx)("button",{onClick:()=>r(i.NAVIGATION),className:"text-green-400 hover:text-green-300 text-sm underline",children:"Zur\xfcck zur Navigation"})})]}),(0,jn.jsx)("footer",{className:"mt-8 text-gray-500 text-sm",children:n.copyright})]})}function gr(t){let{t:n,setCurrentPage:r}=t;const[s,o]=(0,e.useState)([]),[l,c]=(0,e.useState)(!0),[u,h]=(0,e.useState)(null),[d,f]=(0,e.useState)(!1),[p,g]=(0,e.useState)(null),[m,y]=(0,e.useState)("contentAdmin"),[v,b]=(0,e.useState)([]),[x,w]=(0,e.useState)(!1),[_,k]=(0,e.useState)("");(0,e.useEffect)(()=>{const e=(0,a.aQ)((0,a.rJ)(Pn,"adminRequests"),e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));t.sort((e,t)=>new Date(t.requestDate)-new Date(e.requestDate)),o(t),c(!1)});return()=>e()},[]);const S=e=>{y(e),"custom"!==e&&b([])},E=e=>{switch(e){case"pending":return"text-yellow-400 bg-yellow-900/30";case"approved":return"text-green-400 bg-green-900/30";case"rejected":return"text-red-400 bg-red-900/30";default:return"text-gray-400 bg-gray-900/30"}},T=e=>{switch(e){case"pending":return"Ausstehend";case"approved":return"Genehmigt";case"rejected":return"Abgelehnt";default:return"Unbekannt"}};return(0,jn.jsxs)("div",{className:"min-h-screen flex flex-col items-center bg-gray-900 text-white p-4 pb-8",children:[(0,jn.jsx)("h2",{className:"text-4xl font-bold mb-6 text-center text-blue-400",children:"Administrator-Anfragen verwalten"}),(0,jn.jsx)("div",{className:"w-full max-w-6xl",children:l?(0,jn.jsx)("div",{className:"text-center py-8",children:(0,jn.jsx)("p",{className:"text-gray-400",children:"Lade Administrator-Anfragen..."})}):0===s.length?(0,jn.jsx)("div",{className:"text-center py-8",children:(0,jn.jsx)("p",{className:"text-gray-400",children:"Keine Administrator-Anfragen vorhanden."})}):(0,jn.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,jn.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,jn.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:e.name}),(0,jn.jsxs)("p",{className:"text-gray-400 text-sm",children:["Angefragt am: ",new Date(e.requestDate).toLocaleString("de-DE")]})]}),(0,jn.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${E(e.status)}`,children:T(e.status)})]}),(0,jn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsxs)("p",{className:"text-gray-300 text-sm mb-1",children:[(0,jn.jsx)("strong",{children:"E-Mail:"})," ",e.email]}),(0,jn.jsxs)("p",{className:"text-gray-300 text-sm mb-1",children:[(0,jn.jsx)("strong",{children:"Clan-Rolle:"})," ",e.clanRole]}),(0,jn.jsxs)("p",{className:"text-gray-300 text-sm mb-1",children:[(0,jn.jsx)("strong",{children:"Gew\xfcnschte Rolle:"})," ","contentAdmin"===e.requestedRole?"Content Admin":"Viewer"]})]}),(0,jn.jsxs)("div",{children:["approved"===e.status&&(0,jn.jsxs)(jn.Fragment,{children:[(0,jn.jsxs)("p",{className:"text-green-300 text-sm mb-1",children:[(0,jn.jsx)("strong",{children:"Genehmigt von:"})," ",e.approvedBy]}),(0,jn.jsxs)("p",{className:"text-green-300 text-sm mb-1",children:[(0,jn.jsx)("strong",{children:"Zugewiesene Rolle:"})," ","superAdmin"===e.assignedRole?"Super Admin":"contentAdmin"===e.assignedRole?"Content Admin":"Viewer"]})]}),"rejected"===e.status&&(0,jn.jsxs)("p",{className:"text-red-300 text-sm mb-1",children:[(0,jn.jsx)("strong",{children:"Abgelehnt von:"})," ",e.rejectedBy]})]})]}),(0,jn.jsxs)("div",{className:"mb-4",children:[(0,jn.jsx)("p",{className:"text-gray-300 text-sm mb-1",children:(0,jn.jsx)("strong",{children:"Grund f\xfcr Admin-Zugang:"})}),(0,jn.jsx)("p",{className:"text-gray-400 text-sm bg-gray-900/50 p-3 rounded",children:e.reason})]}),"rejected"===e.status&&e.rejectionReason&&(0,jn.jsxs)("div",{className:"mb-4",children:[(0,jn.jsx)("p",{className:"text-red-300 text-sm mb-1",children:(0,jn.jsx)("strong",{children:"Ablehnungsgrund:"})}),(0,jn.jsx)("p",{className:"text-red-400 text-sm bg-red-900/20 p-3 rounded",children:e.rejectionReason})]}),(0,jn.jsxs)("div",{className:"flex gap-2",children:["pending"===e.status&&(0,jn.jsxs)(jn.Fragment,{children:[(0,jn.jsx)("button",{onClick:()=>(async e=>{const t=s.find(t=>t.id===e);t&&(g(t),y("custom"),b([]),f(!0))})(e.id),disabled:u===e.id,className:"px-4 py-2 rounded font-semibold transition "+(u===e.id?"bg-gray-600 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:u===e.id?"Verarbeite...":"Genehmigen"}),(0,jn.jsx)("button",{onClick:()=>(async e=>{const t=s.find(t=>t.id===e);t&&(g(t),k(""),w(!0))})(e.id),disabled:u===e.id,className:"px-4 py-2 rounded font-semibold transition "+(u===e.id?"bg-gray-600 cursor-not-allowed":"bg-red-600 hover:bg-red-700"),children:u===e.id?"Verarbeite...":"Ablehnen"})]}),(0,jn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("M\xf6chtest du diese Administrator-Anfrage wirklich l\xf6schen?")){h(e);try{await(0,a.kd)((0,a.H9)(Pn,"adminRequests",e)),alert("Administrator-Anfrage wurde gel\xf6scht.")}catch(t){console.error("Error deleting request:",t),alert("Fehler beim L\xf6schen der Anfrage!")}finally{h(null)}}})(e.id),disabled:u===e.id,className:"px-4 py-2 rounded font-semibold transition "+(u===e.id?"bg-gray-600 cursor-not-allowed":"bg-gray-600 hover:bg-gray-700"),children:u===e.id?"Verarbeite...":"L\xf6schen"})]})]},e.id))})}),(0,jn.jsx)("button",{onClick:()=>r(i.ADMIN_PANEL),className:"mt-8 text-blue-300 underline",children:"Zur\xfcck zum Admin-Panel"}),d&&(0,jn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,jn.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg border border-gray-700 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,jn.jsx)("h3",{className:"text-xl font-semibold mb-4 text-white",children:"Administratorrolle zuweisen"}),(0,jn.jsxs)("p",{className:"text-gray-300 mb-4",children:["W\xe4hle die Rolle und Berechtigungen f\xfcr ",(0,jn.jsx)("strong",{children:null===p||void 0===p?void 0:p.name}),":"]}),(0,jn.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,jn.jsxs)("label",{className:"flex items-center",children:[(0,jn.jsx)("input",{type:"radio",name:"role",value:"viewer",checked:"viewer"===m,onChange:e=>S(e.target.value),className:"mr-3"}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("span",{className:"text-white font-medium",children:"Viewer"}),(0,jn.jsx)("p",{className:"text-gray-400 text-sm",children:"Kann nur Daten einsehen"})]})]}),(0,jn.jsxs)("label",{className:"flex items-center",children:[(0,jn.jsx)("input",{type:"radio",name:"role",value:"contentAdmin",checked:"contentAdmin"===m,onChange:e=>S(e.target.value),className:"mr-3"}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("span",{className:"text-white font-medium",children:"Content Admin"}),(0,jn.jsx)("p",{className:"text-gray-400 text-sm",children:"Kann Daten bearbeiten und verwalten"})]})]}),(0,jn.jsxs)("label",{className:"flex items-center",children:[(0,jn.jsx)("input",{type:"radio",name:"role",value:"superAdmin",checked:"superAdmin"===m,onChange:e=>S(e.target.value),className:"mr-3"}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("span",{className:"text-white font-medium",children:"Super Admin"}),(0,jn.jsx)("p",{className:"text-gray-400 text-sm",children:"Vollzugriff auf alle Funktionen"})]})]}),(0,jn.jsxs)("label",{className:"flex items-center",children:[(0,jn.jsx)("input",{type:"radio",name:"role",value:"custom",checked:"custom"===m,onChange:e=>S(e.target.value),className:"mr-3"}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("span",{className:"text-white font-medium",children:"Benutzerdefinierte Berechtigungen"}),(0,jn.jsx)("p",{className:"text-gray-400 text-sm",children:"W\xe4hle spezifische Berechtigungen aus"})]})]})]}),"custom"===m&&(0,jn.jsxs)("div",{className:"mb-6",children:[(0,jn.jsx)("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"Berechtigungen ausw\xe4hlen:"}),(0,jn.jsx)("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[{id:"manage_players",label:"Spieler verwalten",description:"Spieler erstellen, bearbeiten und l\xf6schen"},{id:"upload",label:"Daten hochladen",description:"JSON-Daten hochladen und importieren"},{id:"delete",label:"Daten l\xf6schen",description:"Spieler und Daten permanent l\xf6schen"},{id:"manage_ranks",label:"R\xe4nge verwalten",description:"Clan-R\xe4nge und Normen bearbeiten"},{id:"manage_troop_strengths",label:"Truppenst\xe4rken verwalten",description:"Truppenst\xe4rken-Tabellen bearbeiten"},{id:"manage_norms",label:"Normen verwalten",description:"Clan-Normen und -Regeln bearbeiten"},{id:"manage_chest_mapping",label:"Truhen-Zuordnungen verwalten",description:"Truhen-Punkte-Zuordnungen bearbeiten"},{id:"create_period",label:"Neue Perioden erstellen",description:"Neue Bewertungsperioden anlegen"},{id:"manage_admin_requests",label:"Admin-Anfragen verwalten",description:"Neue Admin-Anfragen genehmigen oder ablehnen"},{id:"view_admin_data",label:"Admin-Daten einsehen",description:"Zugriff auf alle Admin-Bereiche"}].map(e=>(0,jn.jsxs)("label",{className:"flex items-start p-3 bg-gray-700 rounded-lg",children:[(0,jn.jsx)("input",{type:"checkbox",checked:v.includes(e.id),onChange:()=>{return t=e.id,void b(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"mr-3 mt-1"}),(0,jn.jsxs)("div",{className:"flex-1",children:[(0,jn.jsx)("span",{className:"text-white font-medium",children:e.label}),(0,jn.jsx)("p",{className:"text-gray-400 text-sm",children:e.description})]})]},e.id))}),0===v.length&&(0,jn.jsx)("p",{className:"text-red-400 text-sm mt-2",children:"\u26a0\ufe0f Bitte w\xe4hle mindestens eine Berechtigung aus!"})]}),(0,jn.jsxs)("div",{className:"flex gap-3",children:[(0,jn.jsx)("button",{onClick:async()=>{if(p){h(p.id),f(!1);try{let e=[];if("custom"===m)e=v;else{e={superAdmin:["upload","delete","manage_players","manage_ranks","manage_troop_strengths","manage_norms","manage_chest_mapping","manage_admin_requests","create_period","view_admin_data"],contentAdmin:["manage_players","manage_ranks","manage_troop_strengths","manage_norms","manage_chest_mapping","view_admin_data"],viewer:["view_admin_data"]}[m]||[]}await(0,a.addDoc)((0,a.rJ)(Pn,"admins"),{name:p.name,email:p.email,clanRole:p.clanRole,role:"custom"===m?"custom":m,permissions:e,password:p.password,createdBy:"Haupt-Administrator",createdDate:(new Date).toISOString(),status:"active"}),await(0,a.mZ)((0,a.H9)(Pn,"adminRequests",p.id),{status:"approved",approvedBy:"Haupt-Administrator",approvedDate:(new Date).toISOString(),assignedRole:m,assignedPermissions:e});alert(`Administrator-Anfrage wurde genehmigt! Rolle: ${{superAdmin:"Super Admin",contentAdmin:"Content Admin",viewer:"Viewer",custom:"Benutzerdefinierte Berechtigungen"}[m]}`)}catch(e){console.error("Error approving request:",e),alert("Fehler beim Genehmigen der Anfrage!")}finally{h(null),g(null),b([])}}},disabled:"custom"===m&&0===v.length,className:"flex-1 py-2 px-4 rounded font-semibold transition "+("custom"===m&&0===v.length?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700 text-white"),children:"Genehmigen"}),(0,jn.jsx)("button",{onClick:()=>{f(!1),g(null),b([])},className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-2 px-4 rounded font-semibold transition",children:"Abbrechen"})]})]})}),x&&(0,jn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,jn.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg border border-gray-700 max-w-md w-full mx-4",children:[(0,jn.jsx)("h3",{className:"text-xl font-semibold mb-4 text-white",children:"Administrator-Anfrage ablehnen"}),(0,jn.jsxs)("p",{className:"text-gray-300 mb-4",children:["Anfrage von ",(0,jn.jsx)("strong",{children:null===p||void 0===p?void 0:p.name})," ablehnen?"]}),(0,jn.jsxs)("div",{className:"mb-6",children:[(0,jn.jsx)("label",{className:"block text-white font-medium mb-2",children:"Grund f\xfcr die Ablehnung (optional):"}),(0,jn.jsx)("textarea",{value:_,onChange:e=>k(e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded p-3 text-white resize-none",rows:"3",placeholder:"Grund f\xfcr die Ablehnung..."})]}),(0,jn.jsxs)("div",{className:"flex gap-3",children:[(0,jn.jsx)("button",{onClick:async()=>{if(p){h(p.id),w(!1);try{await(0,a.mZ)((0,a.H9)(Pn,"adminRequests",p.id),{status:"rejected",rejectedBy:"Haupt-Administrator",rejectedDate:(new Date).toISOString(),rejectionReason:_||"Kein Grund angegeben"}),alert("Administrator-Anfrage wurde abgelehnt.")}catch(e){console.error("Error rejecting request:",e),alert("Fehler beim Ablehnen der Anfrage!")}finally{h(null),g(null),k("")}}},className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded font-semibold transition",children:"Ablehnen"}),(0,jn.jsx)("button",{onClick:()=>{w(!1),g(null),k("")},className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-2 px-4 rounded font-semibold transition",children:"Abbrechen"})]})]})}),(0,jn.jsx)("footer",{className:"mt-auto text-gray-500 text-sm",children:n.copyright})]})}function mr(t){let{t:n,setCurrentPage:r}=t;const{currentAdmin:s}=On(),[o,l]=(0,e.useState)([]),[c,u]=(0,e.useState)(!0),[h,d]=(0,e.useState)(null),[f,p]=(0,e.useState)([]),[g,m]=(0,e.useState)(!1),y=[{id:"manage_players",label:"Spieler verwalten",description:"Spieler erstellen, bearbeiten und l\xf6schen"},{id:"upload",label:"Daten hochladen",description:"JSON-Daten hochladen und importieren"},{id:"delete",label:"Daten l\xf6schen",description:"Spieler und Daten permanent l\xf6schen"},{id:"manage_ranks",label:"R\xe4nge verwalten",description:"Clan-R\xe4nge und Normen bearbeiten"},{id:"manage_troop_strengths",label:"Truppenst\xe4rken verwalten",description:"Truppenst\xe4rken-Tabellen bearbeiten"},{id:"manage_norms",label:"Normen verwalten",description:"Clan-Normen und -Regeln bearbeiten"},{id:"manage_chest_mapping",label:"Truhen-Zuordnungen verwalten",description:"Truhen-Punkte-Zuordnungen bearbeiten"},{id:"create_period",label:"Neue Perioden erstellen",description:"Neue Bewertungsperioden anlegen"},{id:"manage_admin_requests",label:"Admin-Anfragen verwalten",description:"Neue Admin-Anfragen genehmigen oder ablehnen"},{id:"view_admin_data",label:"Admin-Daten einsehen",description:"Zugriff auf alle Admin-Bereiche"}];(0,e.useEffect)(()=>{const e=(0,a.aQ)((0,a.rJ)(Pn,"admins"),e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));t.sort((e,t)=>new Date(t.createdDate||0)-new Date(e.createdDate||0)),l(t),u(!1)});return()=>e()},[]);const v=e=>{if("custom"===e.role&&e.permissions)return`Benutzerdefiniert (${e.permissions.length} Berechtigungen)`;return{superAdmin:"Super Admin",contentAdmin:"Content Admin",viewer:"Viewer",custom:"Benutzerdefiniert"}[e.role]||e.role},b=e=>e&&0!==e.length?e.map(e=>{const t=y.find(t=>t.id===e);return t?t.label:e}).join(", "):"Keine Berechtigungen";return c?(0,jn.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 text-white",children:(0,jn.jsxs)("div",{className:"text-center",children:[(0,jn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto mb-4"}),(0,jn.jsx)("p",{children:"Lade Administratoren..."})]})}):(0,jn.jsxs)("div",{className:"min-h-screen flex flex-col items-center bg-gray-900 text-white p-4 pb-8",children:[(0,jn.jsx)("h2",{className:"text-4xl font-bold mb-6 text-center text-purple-400",children:"Administratoren verwalten"}),(0,jn.jsxs)("div",{className:"w-full max-w-6xl bg-gray-800 rounded-lg p-6",children:[(0,jn.jsxs)("h3",{className:"text-2xl font-semibold mb-4 text-purple-300",children:["Aktuelle Administratoren (",o.length,")"]}),0===o.length?(0,jn.jsx)("p",{className:"text-gray-400",children:"Keine Administratoren gefunden."}):(0,jn.jsx)("div",{className:"overflow-x-auto",children:(0,jn.jsxs)("table",{className:"w-full table-auto",children:[(0,jn.jsx)("thead",{children:(0,jn.jsxs)("tr",{className:"bg-gray-700",children:[(0,jn.jsx)("th",{className:"px-4 py-2 text-left",children:"Name"}),(0,jn.jsx)("th",{className:"px-4 py-2 text-left",children:"E-Mail"}),(0,jn.jsx)("th",{className:"px-4 py-2 text-left",children:"Clan-Rolle"}),(0,jn.jsx)("th",{className:"px-4 py-2 text-left",children:"Admin-Rolle"}),(0,jn.jsx)("th",{className:"px-4 py-2 text-left",children:"Berechtigungen"}),(0,jn.jsx)("th",{className:"px-4 py-2 text-left",children:"Erstellt"}),(0,jn.jsx)("th",{className:"px-4 py-2 text-left",children:"Aktionen"})]})}),(0,jn.jsx)("tbody",{children:o.map(e=>(0,jn.jsxs)("tr",{className:"border-b border-gray-700",children:[(0,jn.jsx)("td",{className:"px-4 py-2",children:(0,jn.jsxs)("div",{className:"flex items-center",children:[e.id===s.id&&(0,jn.jsx)("span",{className:"bg-blue-600 text-white px-2 py-1 rounded text-xs mr-2",children:"Du"}),e.name]})}),(0,jn.jsx)("td",{className:"px-4 py-2",children:e.email}),(0,jn.jsx)("td",{className:"px-4 py-2",children:e.clanRole||"Unbekannt"}),(0,jn.jsx)("td",{className:"px-4 py-2",children:(0,jn.jsx)("span",{className:"px-2 py-1 rounded text-xs "+("superAdmin"===e.role?"bg-red-600":"contentAdmin"===e.role?"bg-green-600":"custom"===e.role?"bg-purple-600":"bg-gray-600"),children:v(e)})}),(0,jn.jsx)("td",{className:"px-4 py-2",children:(0,jn.jsx)("div",{className:"max-w-xs",children:(0,jn.jsx)("p",{className:"text-sm text-gray-300 truncate",title:b(e.permissions),children:b(e.permissions)})})}),(0,jn.jsx)("td",{className:"px-4 py-2",children:e.createdDate?new Date(e.createdDate).toLocaleDateString("de-DE"):"Unbekannt"}),(0,jn.jsx)("td",{className:"px-4 py-2",children:(0,jn.jsxs)("div",{className:"flex gap-2",children:[(0,jn.jsx)("button",{onClick:()=>(e=>{d(e),p(e.permissions||[]),m(!0)})(e),className:"px-3 py-1 bg-blue-600 rounded text-white text-sm hover:bg-blue-700 transition",children:"Berechtigungen"}),e.id!==s.id&&(0,jn.jsx)("button",{onClick:()=>(async(e,t)=>{if(e!==s.id){if(window.confirm(`M\xf6chtest du den Administrator "${t}" wirklich l\xf6schen?`))try{await(0,a.kd)((0,a.H9)(Pn,"admins",e)),alert("Administrator wurde erfolgreich gel\xf6scht!")}catch(n){console.error("Error deleting admin:",n),alert("Fehler beim L\xf6schen des Administrators!")}}else alert("Du kannst dich nicht selbst l\xf6schen!")})(e.id,e.name),className:"px-3 py-1 bg-red-600 rounded text-white text-sm hover:bg-red-700 transition",children:"L\xf6schen"})]})})]},e.id))})]})})]}),g&&h&&(0,jn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,jn.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg border border-gray-700 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,jn.jsx)("h3",{className:"text-xl font-semibold mb-4 text-white",children:"Berechtigungen bearbeiten"}),(0,jn.jsxs)("p",{className:"text-gray-300 mb-4",children:["Berechtigungen f\xfcr ",(0,jn.jsx)("strong",{children:h.name})," (",h.email,"):"]}),(0,jn.jsx)("div",{className:"space-y-2 max-h-60 overflow-y-auto mb-6",children:y.map(e=>(0,jn.jsxs)("label",{className:"flex items-start p-3 bg-gray-700 rounded-lg",children:[(0,jn.jsx)("input",{type:"checkbox",checked:f.includes(e.id),onChange:()=>{return t=e.id,void p(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"mr-3 mt-1"}),(0,jn.jsxs)("div",{className:"flex-1",children:[(0,jn.jsx)("span",{className:"text-white font-medium",children:e.label}),(0,jn.jsx)("p",{className:"text-gray-400 text-sm",children:e.description})]})]},e.id))}),(0,jn.jsxs)("div",{className:"flex gap-3",children:[(0,jn.jsx)("button",{onClick:async()=>{if(h)try{await(0,a.mZ)((0,a.H9)(Pn,"admins",h.id),{permissions:f,role:f.length>0?"custom":"viewer",updatedAt:(new Date).toISOString(),updatedBy:s.name}),m(!1),d(null),p([]),alert("Berechtigungen wurden erfolgreich aktualisiert!")}catch(e){console.error("Error updating permissions:",e),alert("Fehler beim Aktualisieren der Berechtigungen!")}},className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded font-semibold transition",children:"Speichern"}),(0,jn.jsx)("button",{onClick:()=>{m(!1),d(null),p([])},className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-2 px-4 rounded font-semibold transition",children:"Abbrechen"})]})]})}),(0,jn.jsx)("button",{onClick:()=>r(i.ADMIN_PANEL),className:"mt-8 text-purple-300 underline",children:"Zur\xfcck zum Admin-Panel"}),(0,jn.jsx)("footer",{className:"mt-auto text-gray-500 text-sm",children:n.copyright})]})}function yr(t){let{t:n,setCurrentPage:r}=t;const[s,o]=(0,e.useState)([]),[l,c]=(0,e.useState)({start:"",end:"",name:""});(0,e.useEffect)(()=>{const e=(0,a.aQ)((0,a.rJ)(Pn,"periods"),e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));o(t)});return()=>e()},[]);const u=e=>{c({...l,[e.target.name]:e.target.value})};return(0,jn.jsxs)("div",{className:"min-h-screen flex flex-col items-center bg-gray-900 text-white p-4 pb-8",children:[(0,jn.jsx)("h2",{className:"text-4xl font-bold mb-6 text-center text-red-400",children:n.createPeriodTitle}),(0,jn.jsxs)("div",{className:"mb-8 w-full max-w-xl",children:[(0,jn.jsx)("input",{type:"text",name:"name",value:l.name,onChange:u,placeholder:"Name der Veranstaltungsperiode",className:"mb-2 px-4 py-2 rounded bg-gray-800 text-white border border-gray-600 w-full"}),(0,jn.jsx)("input",{type:"datetime-local",name:"start",value:l.start,onChange:u,placeholder:"Beginn",className:"mb-2 px-4 py-2 rounded bg-gray-800 text-white border border-gray-600 w-full"}),(0,jn.jsx)("input",{type:"datetime-local",name:"end",value:l.end,onChange:u,placeholder:"Ende",className:"mb-2 px-4 py-2 rounded bg-gray-800 text-white border border-gray-600 w-full"}),(0,jn.jsx)("button",{onClick:async()=>{l.start&&l.end&&l.name&&(await(0,a.addDoc)((0,a.rJ)(Pn,"periods"),{name:l.name,start:l.start,end:l.end}),c({start:"",end:"",name:""}))},className:"px-6 py-2 bg-red-600 rounded text-white font-semibold hover:bg-red-700 transition w-full",children:"Veranstaltungsperiode hinzuf\xfcgen"})]}),(0,jn.jsxs)("div",{className:"w-full max-w-xl mb-8",children:[(0,jn.jsx)("h3",{className:"text-2xl font-semibold mb-4 text-red-300",children:"Bisherige Veranstaltungsperioden"}),(0,jn.jsx)("ul",{children:s.map(e=>(0,jn.jsxs)("li",{className:"bg-gray-800 rounded p-2 mb-2 flex flex-col",children:[(0,jn.jsxs)("span",{children:[(0,jn.jsx)("b",{children:"Name:"})," ",e.name]}),(0,jn.jsxs)("span",{children:[(0,jn.jsx)("b",{children:"Beginn:"})," ",e.start]}),(0,jn.jsxs)("span",{children:[(0,jn.jsx)("b",{children:"Ende:"})," ",e.end]})]},e.id))})]}),(0,jn.jsx)("button",{onClick:()=>r(i.ADMIN_PANEL),className:"mt-8 text-red-300 underline",children:n.backToAdminPanel}),(0,jn.jsx)("footer",{className:"mt-auto text-gray-500 text-sm",children:n.copyright})]})}function vr(t){let{t:n,setCurrentPage:r}=t;console.log("\ud83d\udd04 UploadResultsPage component loaded");const[s,o]=(0,e.useState)(null),[l,c]=(0,e.useState)(null),[u,h]=(0,e.useState)([]),[d,f]=(0,e.useState)(""),[p,g]=(0,e.useState)(""),[m,y]=(0,e.useState)([]),[v,b]=(0,e.useState)(""),[x,w]=(0,e.useState)([]),[_,k]=(0,e.useState)(!1),[S,E]=(0,e.useState)({current:0,total:0,currentDate:""});(0,e.useEffect)(()=>{const e=(0,a.aQ)((0,a.rJ)(Pn,"periods"),e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));y(t)});return()=>e()},[]),(0,e.useEffect)(()=>{const e=(0,a.aQ)((0,a.rJ)(Pn,"chestMappings"),e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));w(t)});return()=>e()},[]);const T=e=>{if(!e||!Array.isArray(e))return{};console.log("\ud83d\udd04 Converting chests:",e.length);const t={"Arena Chests":{},"Common Chests":{5:0,10:0,15:0,20:0,25:0},"Rare Chests":{10:0,15:0,20:0,25:0,30:0},"Epic Chests":{15:0,20:0,25:0,30:0,35:0},"Chests of Tartaros":{15:0,20:0,25:0,30:0,35:0},"Elven Chests":{10:0,15:0,20:0,25:0,30:0},"Cursed Chests":{20:0,25:0},"Bank Chests":{Wooden:0,Bronze:0,Silver:0,Golden:0,Precious:0,Magic:0},"Runic Chests":{"20-24":0,"25-29":0,"30-34":0,"35-39":0,"40-44":0,45:0},"Heroic Chests":{},"Vault of the Ancients":{"10-14":0,"15-19":0,"20-24":0,"25-29":0,"30-34":0,"35-39":0,"40-44":0},"Quick March Chest":{total:0},"Ancients Chest":{total:0},"ROTA Total":{total:0},"Epic Ancient squad":{total:0},"EAs Total":{total:0},"Union Chest":{total:0},"Union Total":{total:0},"Jormungandr Chests":{total:0},"Jormungandr Total":{total:0}};for(let n=16;n<=45;n++)t["Heroic Chests"][n]=0;return e.forEach(e=>{const n=e.Name,r=e.Level||0;if(console.log(`\ud83d\udce6 Processing chest: ${n} (Level: ${r})`),n.includes("Arena"))t["Arena Chests"].total||(t["Arena Chests"].total=0),t["Arena Chests"].total++;else if(n.includes("Common")||n.includes("Barbarian"))void 0!==t["Common Chests"][r]&&t["Common Chests"][r]++;else if(n.includes("Rare")||n.includes("Orc"))void 0!==t["Rare Chests"][r]&&t["Rare Chests"][r]++;else if(n.includes("Epic")||n.includes("Undead"))void 0!==t["Epic Chests"][r]&&t["Epic Chests"][r]++;else if(n.includes("Tartaros")||n.includes("Demon"))void 0!==t["Chests of Tartaros"][r]&&t["Chests of Tartaros"][r]++;else if(n.includes("Elven")||n.includes("Elf"))void 0!==t["Elven Chests"][r]&&t["Elven Chests"][r]++;else if(n.includes("Cursed"))void 0!==t["Cursed Chests"][r]&&t["Cursed Chests"][r]++;else if(n.includes("Wealth")||n.includes("Bank")){let e="Wooden";n.includes("Uncommon")?e="Bronze":n.includes("Rare")?e="Silver":n.includes("Epic")?e="Golden":n.includes("Legendary")?e="Precious":n.includes("Magic")&&(e="Magic"),t["Bank Chests"][e]++}else if(n.includes("Runic")){let e="20-24";r>=20&&r<=24?e="20-24":r>=25&&r<=29?e="25-29":r>=30&&r<=34?e="30-34":r>=35&&r<=39?e="35-39":r>=40&&r<=44?e="40-44":r>=45&&(e="45"),t["Runic Chests"][e]++}else if(n.includes("Heroic"))r>=16&&r<=45&&t["Heroic Chests"][r]++;else if(n.includes("Vault")||n.includes("Ancient")){let e="10-14";r>=10&&r<=14?e="10-14":r>=15&&r<=19?e="15-19":r>=20&&r<=24?e="20-24":r>=25&&r<=29?e="25-29":r>=30&&r<=34?e="30-34":r>=35&&r<=39?e="35-39":r>=40&&r<=44&&(e="40-44"),t["Vault of the Ancients"][e]++}else if(n.includes("Quick March"))t["Quick March Chest"].total++;else if(n.includes("Union"))t["Union Chest"].total++;else if(n.includes("Jormungandr"))t["Jormungandr Chests"].total++;else{console.warn(`\u26a0\ufe0f Unbekannte Truhe: ${n} (Level: ${r})`);const e=x.find(e=>e.chestName===n&&r>=e.levelStart&&r<=e.levelEnd);e&&t[e.category]&&(void 0!==t[e.category][r]?t[e.category][r]++:void 0!==t[e.category].total&&t[e.category].total++)}}),t["ROTA Total"].total=Object.values(t["Vault of the Ancients"]).reduce((e,t)=>e+t,0),t["EAs Total"].total=(t["Ancients Chest"].total||0)+(t["Epic Ancient squad"].total||0),t["Union Total"].total=t["Union Chest"].total,t["Jormungandr Total"].total=t["Jormungandr Chests"].total,console.log("\u2705 Converted chests:",t),t};return(0,jn.jsxs)("div",{className:"min-h-screen flex flex-col items-center bg-gray-900 text-white p-4 pb-8",children:[(0,jn.jsx)("h2",{className:"text-4xl font-bold mb-6 text-center text-orange-400",children:n.uploadResultsTitle}),(0,jn.jsxs)("div",{className:"mb-8 w-full max-w-xl",children:[(0,jn.jsx)("input",{type:"file",accept:".json",onChange:e=>{console.log("\ud83d\ude80 handleFileChange called!");const t=e.target.files[0];if(!t)return void console.log("\u274c No file selected");console.log("\ud83d\udcc1 File selected:",t.name);const n=new FileReader;n.onload=e=>{try{const t=e.target.result;console.log("\ufffd File content length:",t.length);const n=JSON.parse(t);if(console.log("\u2705 JSON parsed successfully"),!n||"object"!==typeof n||Array.isArray(n))return console.log("\u274c Data is not an object"),void f("Die JSON-Datei muss ein Objekt mit Datumsschl\xfcsseln enthalten.");const r=Object.keys(n);if(console.log("\ud83d\udd0d Found keys:",r),0===r.length)return console.log("\u274c No keys found"),void f("Die JSON-Datei enth\xe4lt keine Daten.");let i=!0;for(const e of r){if(!Array.isArray(n[e])){console.log(`\u274c Key "${e}" is not an array:`,typeof n[e]),i=!1;break}console.log(`\u2705 Key "${e}" is array with ${n[e].length} items`)}if(!i)return void f("Alle Werte in der JSON-Datei m\xfcssen Arrays von Spielerdaten sein.");console.log("\ud83c\udf89 Validation successful!"),c(n),h(r);const s=r[0];o(n[s]),b(s),f(""),console.log(`\ud83d\udcca Using date: ${s} with ${n[s].length} players`)}catch(t){console.log("\u274c JSON parse error:",t.message),f("Fehler beim Einlesen der Datei: Ung\xfcltiges JSON-Format."),o(null),c(null),h([]),b("")}},n.readAsText(t)},className:"mb-4 px-4 py-2 rounded bg-gray-800 text-white border border-gray-600 w-full"}),l&&(0,jn.jsxs)("div",{className:"mb-4",children:[(0,jn.jsxs)("div",{className:"mb-4 p-4 bg-gray-800 rounded border border-gray-600",children:[(0,jn.jsx)("h3",{className:"text-lg font-semibold text-orange-300 mb-2",children:"Gefundene Event-Daten:"}),(0,jn.jsx)("div",{className:"space-y-2",children:u.map(e=>(0,jn.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,jn.jsx)("span",{className:"text-white",children:e}),(0,jn.jsxs)("span",{className:"text-gray-400",children:[l[e].length," Spieler"]})]},e))}),(0,jn.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-700",children:(0,jn.jsxs)("span",{className:"text-orange-300 font-semibold",children:["Insgesamt: ",u.length," Event-Tage"]})})]}),(0,jn.jsx)("label",{className:"block mb-2 text-lg font-semibold text-orange-300",children:"Veranstaltungsperiode ausw\xe4hlen:"}),(0,jn.jsxs)("select",{value:p,onChange:e=>{g(e.target.value)},className:"mb-4 px-4 py-2 rounded bg-gray-800 text-white border border-gray-600 w-full",children:[(0,jn.jsx)("option",{value:"",children:"Bitte ausw\xe4hlen..."}),m.map(e=>(0,jn.jsxs)("option",{value:e.id,children:[e.name," (",e.start," bis ",e.end,")"]},e.id))]}),(0,jn.jsx)("button",{onClick:async()=>{if(l&&p){k(!0),f("");try{const e=Object.keys(l).length;E({current:0,total:e+1,currentDate:"Vorbereitung..."}),E({current:0,total:e+1,currentDate:"L\xf6sche bestehende Daten..."});const t=(0,a.P)((0,a.rJ)(Pn,"results"),(0,a._M)("periodId","==",p)),n=await(0,a.GG)(t);if(!n.empty){console.log(`\ud83d\uddd1\ufe0f L\xf6sche ${n.docs.length} bestehende Ergebnisse f\xfcr die Periode`);for(const e of n.docs)await(0,a.kd)((0,a.H9)(Pn,"results",e.id))}E({current:1,total:e+1,currentDate:"Aggregiere Spielerdaten..."});const r=new Map;let i=0;for(const[s,a]of Object.entries(l))if(console.log(`\ud83d\uddd3\ufe0f Verarbeite Datum: ${s} mit ${a.length} Eintr\xe4gen`),Array.isArray(a)){for(const e of a){const t=e.Clanmate;if(r.has(t)){const n=r.get(t);n.Points+=e.Points||0,n.chests=n.chests.concat(e.chests||[]),n.eventDates.includes(s)||n.eventDates.push(s)}else r.set(t,{Clanmate:t,Points:e.Points||0,chests:e.chests||[],eventDates:[s]})}i++,E({current:i+1,total:e+1,currentDate:`Verarbeitet: ${s}`}),await new Promise(e=>setTimeout(e,100))}else console.warn(`\u26a0\ufe0f Daten f\xfcr ${s} sind kein Array, \xfcberspringe...`);E({current:e+1,total:e+1,currentDate:`Speichere ${r.size} Spieler...`}),console.log(`\ud83d\udcca Gesamt-Aggregation: ${r.size} einzigartige Spieler \xfcber ${e} Tage`);for(const[s,o]of r){const e=T(o.chests);console.log(`\ud83d\udcbe Speichere ${s} mit ${o.Points} Punkten (${o.chests.length} Truhen) \xfcber ${o.eventDates.length} Tage`),await(0,a.addDoc)((0,a.rJ)(Pn,"results"),{periodId:p,Clanmate:o.Clanmate,Points:o.Points,chests:e,eventDates:o.eventDates,totalEventDays:o.eventDates.length,timestamp:(new Date).toISOString()})}E({current:e+1,total:e+1,currentDate:"Abgeschlossen!"}),o(null),c(null),h([]),g(""),b(""),f(""),setTimeout(()=>{alert(`Alle Spieler-Ergebnisse wurden erfolgreich aggregiert und hochgeladen!\n\n${r.size} einzigartige Spieler\n${e} Event-Tage verarbeitet\n\nJeder Spieler erscheint jetzt nur EINMAL in der Liste mit seinen Gesamtpunkten!`)},500)}catch(e){console.error("Upload error:",e),f("Fehler beim Hochladen der Ergebnisse: "+e.message)}finally{k(!1),E({current:0,total:0,currentDate:""})}}else f("Bitte w\xe4hle eine Veranstaltungsperiode und lade eine Datei hoch.")},disabled:_,className:"px-6 py-2 rounded text-white font-semibold transition w-full "+(_?"bg-gray-600 cursor-not-allowed":"bg-orange-600 hover:bg-orange-700"),children:_?`Lade hoch... (${S.current}/${S.total})`:`Alle Event-Daten hochladen (${u.length} Tage)`}),_&&(0,jn.jsxs)("div",{className:"mt-4 p-4 bg-gray-800 rounded border border-gray-600",children:[(0,jn.jsxs)("div",{className:"mb-2",children:[(0,jn.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,jn.jsx)("span",{className:"text-white",children:"Fortschritt:"}),(0,jn.jsxs)("span",{className:"text-orange-300",children:[S.current," von ",S.total," Event-Tagen"]})]}),(0,jn.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2 mt-1",children:(0,jn.jsx)("div",{className:"bg-orange-500 h-2 rounded-full transition-all duration-300",style:{width:S.current/S.total*100+"%"}})})]}),S.currentDate&&(0,jn.jsxs)("div",{className:"text-sm text-gray-300",children:["Aktuell: ",(0,jn.jsx)("span",{className:"text-orange-300",children:S.currentDate})]})]})]}),d&&(0,jn.jsx)("p",{className:"text-red-400 mb-4",children:d}),s&&(0,jn.jsxs)("div",{className:"bg-gray-800 rounded p-4 text-sm overflow-x-auto max-h-96",children:[(0,jn.jsxs)("h3",{className:"text-lg font-semibold text-orange-300 mb-2",children:["Vorschau (erstes Datum: ",v,"):"]}),(0,jn.jsx)("pre",{children:JSON.stringify(s,null,2)})]})]}),(0,jn.jsx)("button",{onClick:()=>r(i.ADMIN_PANEL),className:"mt-8 text-orange-300 underline",children:n.backToAdminPanel}),(0,jn.jsx)("footer",{className:"mt-auto text-gray-500 text-sm",children:n.copyright})]})}function br(t){let{t:n,setCurrentPage:r}=t;const[s,a]=(0,e.useState)({name:"",email:"",message:""}),[o,l]=(0,e.useState)(!1),[c,u]=(0,e.useState)(""),[h,d]=(0,e.useState)(!1),f=e=>{a({...s,[e.target.name]:e.target.value})};return(0,jn.jsxs)("div",{className:"min-h-screen flex flex-col items-center bg-gray-900 text-white p-4 pb-8",children:[(0,jn.jsx)("h2",{className:"text-4xl font-bold mb-6 text-center text-orange-400",children:n.contactFormTitle}),(0,jn.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),d(!0),u(""),l(!1);try{const e=await hr(s);e.success?(l(!0),a({name:"",email:"",message:""}),console.log("\u2705 Kontaktformular erfolgreich gesendet:",e)):(l(!0),a({name:"",email:"",message:""}),console.warn("\u26a0\ufe0f E-Mail-Benachrichtigung fehlgeschlagen, Formular aber verarbeitet:",e.error))}catch(c){console.error("\u274c Fehler beim Verarbeiten des Kontaktformulars:",c),u("Fehler beim Senden der Nachricht. Bitte versuche es erneut.")}finally{d(!1)}},className:"w-full max-w-xl bg-gray-800 rounded-lg p-6 mb-8 shadow-lg",children:[(0,jn.jsx)("label",{className:"block mb-2 font-semibold",children:"Name"}),(0,jn.jsx)("input",{type:"text",name:"name",value:s.name,onChange:f,required:!0,className:"mb-4 px-4 py-2 rounded bg-gray-700 text-white border border-gray-600 w-full"}),(0,jn.jsx)("label",{className:"block mb-2 font-semibold",children:"E-Mail"}),(0,jn.jsx)("input",{type:"email",name:"email",value:s.email,onChange:f,required:!0,className:"mb-4 px-4 py-2 rounded bg-gray-700 text-white border border-gray-600 w-full"}),(0,jn.jsx)("label",{className:"block mb-2 font-semibold",children:"Nachricht"}),(0,jn.jsx)("textarea",{name:"message",value:s.message,onChange:f,required:!0,rows:5,className:"mb-4 px-4 py-2 rounded bg-gray-700 text-white border border-gray-600 w-full"}),(0,jn.jsx)("button",{type:"submit",disabled:h,className:"px-6 py-2 rounded text-white font-semibold transition w-full "+(h?"bg-gray-600 cursor-not-allowed":"bg-orange-600 hover:bg-orange-700"),children:h?"Sende...":"Absenden"}),o&&(0,jn.jsx)("p",{className:"text-green-400 mt-4",children:"\u2705 Deine Nachricht wurde erfolgreich gesendet! Du erh\xe4ltst eine Best\xe4tigung per E-Mail."}),c&&(0,jn.jsxs)("p",{className:"text-red-400 mt-4",children:["\u274c ",c]})]}),(0,jn.jsx)("button",{onClick:()=>r(i.NAVIGATION),className:"mt-8 text-orange-300 underline",children:n.backToNavigation}),(0,jn.jsx)("footer",{className:"mt-auto text-gray-500 text-sm",children:n.copyright})]})}function xr(t){let{t:n,setCurrentPage:r}=t;const[i,s]=(0,e.useState)(!1),[a,o]=(0,e.useState)(null);return(0,jn.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-900 text-white p-4",children:(0,jn.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-xl p-8 w-full max-w-md",children:[(0,jn.jsx)("h2",{className:"text-3xl font-bold mb-6 text-center text-blue-400",children:"E-Mail-Konfiguration testen"}),(0,jn.jsxs)("div",{className:"mb-6",children:[(0,jn.jsxs)("p",{className:"text-gray-300 text-sm mb-4",children:["Diese Seite hilft dir dabei, die E-Mail-Konfiguration zu testen. Stelle sicher, dass du die Werte in ",(0,jn.jsx)("code",{children:"emailConfig.js"})," korrekt eingegeben hast."]}),(0,jn.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4 mb-4",children:[(0,jn.jsx)("h3",{className:"font-semibold text-yellow-400 mb-2",children:"Erforderliche Schritte:"}),(0,jn.jsxs)("ol",{className:"text-sm text-gray-300 space-y-1",children:[(0,jn.jsx)("li",{children:"1. EmailJS-Account erstellen (emailjs.com)"}),(0,jn.jsx)("li",{children:"2. Service einrichten (Gmail, Outlook, etc.)"}),(0,jn.jsx)("li",{children:"3. Templates erstellen"}),(0,jn.jsx)("li",{children:"4. Konfiguration in emailConfig.js eintragen"})]})]})]}),(0,jn.jsx)("button",{onClick:async()=>{s(!0),o(null);try{const e=await fr();o(e)}catch(e){o({success:!1,error:e.message})}finally{s(!1)}},disabled:i,className:"w-full py-3 px-4 rounded-lg font-medium transition "+(i?"bg-gray-600 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"),children:i?"Sende Test-E-Mail...":"Test-E-Mail senden"}),a&&(0,jn.jsx)("div",{className:"mt-6 p-4 rounded-lg "+(a.success?"bg-green-900/30 border border-green-600":"bg-red-900/30 border border-red-600"),children:(0,jn.jsxs)("p",{className:"text-sm "+(a.success?"text-green-300":"text-red-300"),children:[a.success?"\u2705 ":"\u274c ",a.message||a.error]})}),(0,jn.jsx)("button",{onClick:()=>r("navigation"),className:"mt-6 w-full py-2 px-4 bg-gray-600 hover:bg-gray-700 rounded-lg text-sm",children:"Zur\xfcck zur Navigation"})]})})}function wr(e){let{t:t,setCurrentPage:n,backPage:r,title:i}=e;return(0,jn.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-between bg-gray-900 text-white p-4 pb-8",children:[(0,jn.jsx)("h2",{className:"text-4xl font-bold mb-6 text-center text-blue-400",children:i}),(0,jn.jsx)("p",{className:"text-xl text-gray-300 mb-8 text-center",children:t.comingSoon}),(0,jn.jsxs)("button",{onClick:()=>n(r),className:"flex items-center px-8 py-4 bg-gradient-to-r from-blue-500 to-cyan-600 text-white text-xl font-semibold rounded-full shadow-lg hover:from-blue-600 hover:to-cyan-700 transition-all duration-300 transform hover:scale-105 mb-12",children:[(0,jn.jsxs)("svg",{className:"mr-3 w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[(0,jn.jsx)("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),(0,jn.jsx)("polyline",{points:"12 19 5 12 12 5"})]}),"adminPanel"===r?t.backToAdminPanel:t.backToNavigation]}),(0,jn.jsx)("footer",{className:"mt-auto text-gray-500 text-sm",children:t.copyright})]})}function _r(t){let{t:n,setCurrentPage:r,setIsAdmin:s}=t;const[a,o]=(0,e.useState)({email:"",password:""}),[l,c]=(0,e.useState)(!1),[u,h]=(0,e.useState)(""),{login:d}=On(),f=e=>{const{name:t,value:n}=e.target;o(e=>({...e,[t]:n}))};return(0,jn.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-900 text-white p-4",children:[(0,jn.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-xl p-8 w-full max-w-md",children:[(0,jn.jsx)("h2",{className:"text-3xl font-bold mb-6 text-center text-blue-400",children:"Administrator-Login"}),(0,jn.jsx)("p",{className:"text-gray-300 mb-6 text-center text-sm",children:"Melde dich mit deinen Administrator-Zugangsdaten an."}),u&&(0,jn.jsx)("div",{className:"mb-6 p-4 bg-red-900/30 border border-red-600 rounded-lg",children:(0,jn.jsx)("p",{className:"text-red-300 text-sm",children:u})}),(0,jn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),c(!0),h(""),!a.email||!a.password)return h("Bitte f\xfclle alle Felder aus!"),void c(!1);const t=await d(a.email,a.password);t.success?r(i.ADMIN_PANEL):h(t.error),c(!1)},className:"space-y-4",children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"E-Mail-Adresse *"}),(0,jn.jsx)("input",{type:"email",name:"email",value:a.email,onChange:f,className:"w-full px-4 py-2 rounded-lg bg-gray-700 border border-gray-600 text-white focus:border-blue-500 focus:outline-none",placeholder:"admin@example.com",disabled:l})]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Passwort *"}),(0,jn.jsx)("input",{type:"password",name:"password",value:a.password,onChange:f,className:"w-full px-4 py-2 rounded-lg bg-gray-700 border border-gray-600 text-white focus:border-blue-500 focus:outline-none",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",disabled:l})]}),(0,jn.jsx)("button",{type:"submit",disabled:l,className:`w-full py-3 px-4 rounded-lg font-semibold transition-colors ${l?"bg-gray-600 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 focus:bg-blue-700"} text-white`,children:l?"Anmelden...":"Anmelden"})]}),(0,jn.jsx)("div",{className:"mt-6 text-center",children:(0,jn.jsxs)("p",{className:"text-gray-400 text-sm",children:["Noch kein Admin?"," ",(0,jn.jsx)("button",{onClick:()=>r(i.ADMIN_REGISTRATION),className:"text-blue-400 hover:text-blue-300 underline",children:"Administrator werden"})]})})]}),(0,jn.jsxs)("button",{onClick:()=>r(i.NAVIGATION),className:"mt-8 flex items-center px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white font-semibold rounded-full shadow-lg hover:from-red-700 hover:to-red-800 transition-all duration-300 transform hover:scale-105",children:[(0,jn.jsxs)("svg",{className:"mr-2 w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[(0,jn.jsx)("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),(0,jn.jsx)("polyline",{points:"12 19 5 12 12 5"})]}),"Zur\xfcck zur Navigation"]})]})}const kr=[{name:"Arena Chests",levels:[]},{name:"Common Chests",levels:[5,10,15,20,25]},{name:"Rare Chests",levels:[10,15,20,25,30]},{name:"Epic Chests",levels:[15,20,25,30,35]},{name:"Chests of Tartaros",levels:[15,20,25,30,35]},{name:"Elven Chests",levels:[10,15,20,25,30]},{name:"Cursed Chests",levels:[20,25]},{name:"Bank Chests",levels:["Wooden","Bronze","Silver","Golden","Precious","Magic"]},{name:"Runic Chests",levels:["20-24","25-29","30-34","35-39","40-44","45"]},{name:"Heroic Chests",levels:Array.from({length:30},(e,t)=>16+t)},{name:"Vault of the Ancients",levels:["10-14","15-19","20-24","25-29","30-34","35-39","40-44"]},{name:"Quick March Chest",levels:[]},{name:"Ancients Chest",levels:[]},{name:"ROTA Total",levels:[]},{name:"Epic Ancient squad",levels:[]},{name:"EAs Total",levels:[]},{name:"Union Chest",levels:[]},{name:"Union Total",levels:[]},{name:"Jormungandr Chests",levels:[]},{name:"Jormungandr Total",levels:[]}],Sr=["Truppenst\xe4rke","Anzahl","Punkte","Anzahl gesamt","Quick March Chest","Ancients Chest","ROTA Total","Epic Ancient squad","EAs Total","Union Chest","Union Total","Jormungandr Chests","Jormungandr Total"];function Er(t){let{t:n,setCurrentPage:r}=t;const[s,o]=(0,e.useState)([]),[l,c]=(0,e.useState)([]),[u,h]=(0,e.useState)([]),[d,f]=(0,e.useState)(!0),[p,g]=(0,e.useState)(null),m=(0,e.useRef)(null),[y,v]=(0,e.useState)(0);(0,e.useEffect)(()=>{!async function(){f(!0);const[e,t,n]=await Promise.all([(0,a.GG)((0,a.rJ)(Pn,"players")),(0,a.GG)((0,a.rJ)(Pn,"troopStrengths")),(0,a.GG)((0,a.rJ)(Pn,"results"))]);o(e.docs.map(e=>({id:e.id,...e.data()}))),c(t.docs.map(e=>({id:e.id,...e.data()}))),h(n.docs.map(e=>({id:e.id,...e.data()}))),f(!1)}()},[]),(0,e.useEffect)(()=>{const e=m.current;e&&(e.scrollLeft=y)},[y]);let b=0,x=0;const w=u.map(e=>{const t=(n=e.Clanmate,s.find(e=>e.name===n||Array.isArray(e.aliases)&&e.aliases.includes(n)));var n;const r=(null===t||void 0===t?void 0:t.rank)||"";let i=(null===t||void 0===t?void 0:t.troopStrength)||"";i&&""!==i.trim()||(i="nicht definiert");const a=function(e){e&&""!==e.trim()||(e="nicht definiert");const t=l.find(t=>t.name===e);return console.log("Searching for troopStrength:",e),console.log("Available troopStrengths:",l.map(e=>e.name)),console.log("Found troop:",t),(null===t||void 0===t?void 0:t.points)||0}(i),o=e.Points||0,c=a;b+=o,x+=c;const u=o-c,h=c>0?Math.round(o/c*100):0,d=[];e.chests&&"object"===typeof e.chests&&Object.entries(e.chests).forEach(e=>{let[t,n]=e;"object"===typeof n&&Object.entries(n).forEach(e=>{let[n,r]=e;r>0&&d.push({category:t,level:"total"===n?"":n,count:r,points:0})})});const f=d.reduce((e,t)=>e+t.count,0);return{name:e.Clanmate,rank:r,troopStrength:i,chests:f,ist:o,soll:c,differenz:u,percent:h,timestamp:e.timestamp?new Date(e.timestamp).toLocaleString("de-DE",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"",chestDetails:d}}),_=["Clanf\xfchrer","Vorgesetzter","Chest_Counter","Clan_Bank","Clan_Taxi","Offizier","Veteran","Soldat"];function k(e){let{children:t}=e;return(0,jn.jsx)("div",{style:{writingMode:"vertical-rl",transform:"rotate(180deg)",whiteSpace:"nowrap",fontSize:"0.8em",lineHeight:"1.1em",minHeight:"60px",minWidth:"24px",display:"flex",alignItems:"center",justifyContent:"center"},children:t})}return w.sort((e,t)=>{const n=_.indexOf(e.rank),r=_.indexOf(t.rank);return n!==r?n-r:["Vorgesetzter","Offizier","Veteran","Soldat"].includes(e.rank)?Number(t.troopStrength)-Number(e.troopStrength):0}),(0,jn.jsxs)("div",{className:"min-h-screen flex flex-col items-center bg-gray-900 text-white p-4 pb-32",children:[(0,jn.jsxs)("div",{className:"w-full flex flex-col items-center",children:[(0,jn.jsx)("h2",{className:"text-4xl font-bold mb-6 text-center text-blue-400",children:n.currentTotalEventTitle}),d?(0,jn.jsx)("p",{className:"text-xl text-gray-300 mb-8 text-center",children:"Lade Daten..."}):(0,jn.jsxs)(jn.Fragment,{children:[(0,jn.jsxs)("div",{className:"mb-8 w-full max-w-2xl bg-gray-800 rounded p-4 flex flex-col items-center",children:[(0,jn.jsx)("h3",{className:"text-2xl font-semibold mb-2 text-blue-300",children:"Clan-Gesamtergebnis"}),(0,jn.jsxs)("div",{className:"w-full flex justify-between mb-2",children:[(0,jn.jsxs)("span",{children:["Ist: ",(0,jn.jsx)("b",{children:b})]}),(0,jn.jsxs)("span",{children:["Soll: ",(0,jn.jsx)("b",{children:x})]}),(0,jn.jsxs)("span",{children:["Erf\xfcllung: ",(0,jn.jsxs)("b",{children:[x>0?Math.round(b/x*100):0,"%"]})]})]}),(0,jn.jsx)("div",{className:"w-full bg-gray-700 rounded h-6 overflow-hidden",children:(0,jn.jsx)("div",{className:"h-6 "+(x>0&&b/x>=1?"bg-green-500":"bg-blue-500"),style:{width:`${x>0?Math.min(200,b/x*100):0}%`}})})]}),(0,jn.jsx)("div",{className:"w-full max-w-6xl mb-2",children:(0,jn.jsx)("input",{type:"range",min:0,max:m.current?m.current.scrollWidth-m.current.clientWidth:100,value:y,onChange:function(e){v(Number(e.target.value))},className:"w-full",style:{accentColor:"#1976d2"}})}),(0,jn.jsx)("div",{className:"w-full max-w-6xl overflow-x-auto",ref:m,onScroll:function(e){v(e.target.scrollLeft)},style:{scrollBehavior:"smooth"},children:(0,jn.jsxs)("table",{className:"w-full text-sm bg-gray-800 rounded",children:[(0,jn.jsxs)("thead",{children:[(0,jn.jsxs)("tr",{className:"bg-gray-700",children:[(0,jn.jsx)("th",{rowSpan:"3",className:"p-2",children:(0,jn.jsx)(k,{children:"Name"})}),(0,jn.jsx)("th",{rowSpan:"3",className:"p-2",children:(0,jn.jsx)(k,{children:"Rang"})}),(0,jn.jsx)("th",{rowSpan:"3",className:"p-2",children:(0,jn.jsx)(k,{children:"Truppenst\xe4rke"})}),(0,jn.jsx)("th",{rowSpan:"3",className:"p-2",children:(0,jn.jsx)(k,{children:"Clantruhen"})}),(0,jn.jsx)("th",{rowSpan:"3",className:"p-2",children:(0,jn.jsx)(k,{children:"Punkte Total (Ist)"})}),(0,jn.jsx)("th",{rowSpan:"3",className:"p-2",children:(0,jn.jsx)(k,{children:"Norm (Soll)"})}),(0,jn.jsx)("th",{rowSpan:"3",className:"p-2",children:(0,jn.jsx)(k,{children:"Differenz"})}),(0,jn.jsx)("th",{rowSpan:"3",className:"p-2 norm-column",style:{width:"120px",minWidth:"120px"},children:(0,jn.jsx)(k,{children:"Normerf\xfcllung"})}),(0,jn.jsx)("th",{rowSpan:"3",className:"p-2",children:(0,jn.jsx)(k,{children:"Timestamp"})}),kr.map(e=>(0,jn.jsx)("th",{colSpan:e.levels.length>0?2*e.levels.length+1:1,className:"text-xs",children:Sr.includes(e.name)?(0,jn.jsx)(k,{children:e.name}):e.name},e.name))]}),(0,jn.jsx)("tr",{children:kr.map(e=>e.levels.length>0?e.levels.map(t=>(0,jn.jsx)("th",{colSpan:"2",className:"text-xs",children:(0,jn.jsxs)(k,{children:["LV ",t]})},e.name+t)).concat((0,jn.jsx)("th",{className:"text-xs",children:(0,jn.jsx)(k,{children:"Anzahl gesamt"})},e.name+"sum")):(0,jn.jsx)("th",{className:"text-xs"},e.name+"single"))}),(0,jn.jsx)("tr",{children:kr.map(e=>e.levels.length>0?e.levels.map(t=>[(0,jn.jsx)("th",{className:"text-xs",children:(0,jn.jsx)(k,{children:"Anzahl"})},e.name+t+"count"),(0,jn.jsx)("th",{className:"text-xs",children:(0,jn.jsx)(k,{children:"Punkte"})},e.name+t+"points")]).flat().concat((0,jn.jsx)("th",{className:"text-xs"},e.name+"sum2")):(0,jn.jsx)("th",{className:"text-xs"},e.name+"single2"))})]}),(0,jn.jsx)("tbody",{children:w.map((e,t)=>(0,jn.jsxs)("tr",{className:t%2===0?"bg-gray-800 border-b border-gray-700":"bg-gray-900 border-b border-gray-700",children:[(0,jn.jsx)("td",{className:"p-2",children:(0,jn.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold rounded-full w-32 h-10 flex items-center justify-center mx-auto transition-all duration-200",style:{minWidth:"120px",minHeight:"40px"},onClick:()=>g(e),children:e.name})}),(0,jn.jsx)("td",{className:"p-2",children:e.rank}),(0,jn.jsx)("td",{className:"p-2",children:e.troopStrength}),(0,jn.jsx)("td",{className:"p-2",children:e.chests}),(0,jn.jsx)("td",{className:"p-2",children:e.ist}),(0,jn.jsx)("td",{className:"p-2",children:e.soll}),(0,jn.jsx)("td",{className:"p-2",children:e.differenz}),(0,jn.jsxs)("td",{className:"p-2 norm-column",style:{width:"120px",minWidth:"120px"},children:[(0,jn.jsx)("div",{className:"w-full bg-gray-700 rounded h-4",children:(0,jn.jsx)("div",{className:"h-4 "+(e.percent>=100?"bg-green-500":"bg-blue-500"),style:{width:`${Math.min(200,e.percent)}%`}})}),(0,jn.jsxs)("span",{className:"ml-2",children:[e.percent,"%"]})]}),(0,jn.jsx)("td",{className:"p-2",children:e.timestamp}),kr.map(t=>t.levels.length>0?t.levels.map(n=>[(0,jn.jsx)("td",{className:"p-2",children:e.chestDetails.filter(e=>e.category===t.name&&e.level===String(n)).reduce((e,t)=>e+(t.count||0),0)},e.name+t.name+n+"count"),(0,jn.jsx)("td",{className:"p-2",children:e.chestDetails.filter(e=>e.category===t.name&&e.level===String(n)).reduce((e,t)=>e+(t.points||0),0)},e.name+t.name+n+"points")]).flat().concat((0,jn.jsx)("td",{className:"p-2",children:e.chestDetails.filter(e=>e.category===t.name).reduce((e,t)=>e+(t.count||0),0)},e.name+t.name+"sum")):(0,jn.jsx)("td",{className:"p-2",children:e.chestDetails.filter(e=>e.category===t.name).reduce((e,t)=>e+(t.count||0),0)},e.name+t.name+"single"))]},t))})]})})]})]}),p&&(S=p,(0,jn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",onClick:()=>g(null),children:(0,jn.jsxs)("div",{className:"bg-gray-900 rounded-lg p-6 max-w-md w-full relative",onClick:e=>e.stopPropagation(),children:[(0,jn.jsx)("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-white text-xl",onClick:()=>g(null),children:"\xd7"}),(0,jn.jsx)("h3",{className:"text-2xl font-bold mb-4 text-blue-300",children:S.name}),(0,jn.jsxs)("div",{className:"mb-2",children:["Rang: ",(0,jn.jsx)("b",{children:S.rank})]}),(0,jn.jsxs)("div",{className:"mb-2",children:["Truppenst\xe4rke: ",(0,jn.jsx)("b",{children:S.troopStrength})]}),(0,jn.jsxs)("div",{className:"mb-2",children:["Clantruhen: ",(0,jn.jsx)("b",{children:S.chests})]}),(0,jn.jsxs)("div",{className:"mb-2",children:["Punkte Total (Ist): ",(0,jn.jsx)("b",{children:S.ist})]}),(0,jn.jsxs)("div",{className:"mb-2",children:["Norm (Soll): ",(0,jn.jsx)("b",{children:S.soll})]}),(0,jn.jsxs)("div",{className:"mb-2",children:["Differenz: ",(0,jn.jsx)("b",{children:S.differenz})]}),(0,jn.jsxs)("div",{className:"mb-2",children:["Normerf\xfcllung: ",(0,jn.jsxs)("b",{children:[S.percent,"%"]})]}),(0,jn.jsxs)("div",{className:"mb-2",children:["Timestamp: ",(0,jn.jsx)("b",{children:S.timestamp})]}),(0,jn.jsx)("hr",{className:"my-3 border-gray-700"}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("h4",{className:"font-semibold mb-2 text-blue-200",children:"Pers\xf6nliche Erf\xfcllungsliste"}),S.chestDetails.length>0?(0,jn.jsx)("ul",{className:"list-disc ml-5",children:S.chestDetails.map((e,t)=>(0,jn.jsxs)("li",{children:[e.category," ",e.level?`LV ${e.level}`:"",": ",e.count,"x",e.points>0?`, ${e.points} Punkte`:""]},t))}):(0,jn.jsx)("div",{className:"text-gray-400",children:"Keine Truhen-Daten vorhanden."})]})]})})),(0,jn.jsxs)("button",{onClick:()=>r(i.NAVIGATION),className:"fixed bottom-8 left-1/2 transform -translate-x-1/2 flex items-center px-8 py-4 bg-gradient-to-r from-blue-500 to-cyan-600 text-white text-xl font-semibold rounded-full shadow-lg hover:from-blue-600 hover:to-cyan-700 transition-all duration-300 hover:scale-105 z-50",children:[(0,jn.jsxs)("svg",{className:"mr-3 w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[(0,jn.jsx)("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),(0,jn.jsx)("polyline",{points:"12 19 5 12 12 5"})]}),n.backToNavigation]}),(0,jn.jsx)("footer",{className:"mt-auto text-gray-500 text-sm",children:n.copyright})]});var S}function Tr(e){return e+.5|0}const Cr=(e,t,n)=>Math.max(Math.min(e,n),t);function Nr(e){return Cr(Tr(2.55*e),0,255)}function Ar(e){return Cr(Tr(255*e),0,255)}function Ir(e){return Cr(Tr(e/2.55)/100,0,1)}function Dr(e){return Cr(Tr(100*e),0,100)}const Pr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},jr=[..."0123456789ABCDEF"],Rr=e=>jr[15&e],Or=e=>jr[(240&e)>>4]+jr[15&e],Mr=e=>(240&e)>>4===(15&e);function Lr(e){var t=(e=>Mr(e.r)&&Mr(e.g)&&Mr(e.b)&&Mr(e.a))(e)?Rr:Or;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const Fr=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function zr(e,t,n){const r=t*Math.min(n,1-n),i=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-r*Math.max(Math.min(i-3,9-i,1),-1)};return[i(0),i(8),i(4)]}function Vr(e,t,n){const r=function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+e/60)%6;return n-n*t*Math.max(Math.min(i,4-i,1),0)};return[r(5),r(3),r(1)]}function Ur(e,t,n){const r=zr(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function Br(e){const t=e.r/255,n=e.g/255,r=e.b/255,i=Math.max(t,n,r),s=Math.min(t,n,r),a=(i+s)/2;let o,l,c;return i!==s&&(c=i-s,l=a>.5?c/(2-i-s):c/(i+s),o=function(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}(t,n,r,c,i),o=60*o+.5),[0|o,l||0,a]}function Hr(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(Ar)}function $r(e,t,n){return Hr(zr,e,t,n)}function Wr(e){return(e%360+360)%360}function qr(e){const t=Fr.exec(e);let n,r=255;if(!t)return;t[5]!==n&&(r=t[6]?Nr(+t[5]):Ar(+t[5]));const i=Wr(+t[2]),s=+t[3]/100,a=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return Hr(Ur,e,t,n)}(i,s,a):"hsv"===t[1]?function(e,t,n){return Hr(Vr,e,t,n)}(i,s,a):$r(i,s,a),{r:n[0],g:n[1],b:n[2],a:r}}const Gr={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Kr={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Qr;function Jr(e){Qr||(Qr=function(){const e={},t=Object.keys(Kr),n=Object.keys(Gr);let r,i,s,a,o;for(r=0;r<t.length;r++){for(a=o=t[r],i=0;i<n.length;i++)s=n[i],o=o.replace(s,Gr[s]);s=parseInt(Kr[a],16),e[o]=[s>>16&255,s>>8&255,255&s]}return e}(),Qr.transparent=[0,0,0,0]);const t=Qr[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const Yr=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Xr=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,Zr=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function ei(e,t,n){if(e){let r=Br(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=$r(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function ti(e,t){return e?Object.assign(t||{},e):e}function ni(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Ar(e[3]))):(t=ti(e,{r:0,g:0,b:0,a:1})).a=Ar(t.a),t}function ri(e){return"r"===e.charAt(0)?function(e){const t=Yr.exec(e);let n,r,i,s=255;if(t){if(t[7]!==n){const e=+t[7];s=t[8]?Nr(e):Cr(255*e,0,255)}return n=+t[1],r=+t[3],i=+t[5],n=255&(t[2]?Nr(n):Cr(n,0,255)),r=255&(t[4]?Nr(r):Cr(r,0,255)),i=255&(t[6]?Nr(i):Cr(i,0,255)),{r:n,g:r,b:i,a:s}}}(e):qr(e)}class ii{constructor(e){if(e instanceof ii)return e;const t=typeof e;let n;"object"===t?n=ni(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*Pr[e[1]],g:255&17*Pr[e[2]],b:255&17*Pr[e[3]],a:5===n?17*Pr[e[4]]:255}:7!==n&&9!==n||(t={r:Pr[e[1]]<<4|Pr[e[2]],g:Pr[e[3]]<<4|Pr[e[4]],b:Pr[e[5]]<<4|Pr[e[6]],a:9===n?Pr[e[7]]<<4|Pr[e[8]]:255})),t}(e)||Jr(e)||ri(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=ti(this._rgb);return e&&(e.a=Ir(e.a)),e}set rgb(e){this._rgb=ni(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Ir(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0;var e}hexString(){return this._valid?Lr(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=Br(e),n=t[0],r=Dr(t[1]),i=Dr(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${Ir(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let i;const s=t===i?.5:t,a=2*s-1,o=n.a-r.a,l=((a*o===-1?a:(a+o)/(1+a*o))+1)/2;i=1-l,n.r=255&l*n.r+i*r.r+.5,n.g=255&l*n.g+i*r.g+.5,n.b=255&l*n.b+i*r.b+.5,n.a=s*n.a+(1-s)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const r=Zr(Ir(e.r)),i=Zr(Ir(e.g)),s=Zr(Ir(e.b));return{r:Ar(Xr(r+n*(Zr(Ir(t.r))-r))),g:Ar(Xr(i+n*(Zr(Ir(t.g))-i))),b:Ar(Xr(s+n*(Zr(Ir(t.b))-s))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new ii(this.rgb)}alpha(e){return this._rgb.a=Ar(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=Tr(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ei(this._rgb,2,e),this}darken(e){return ei(this._rgb,2,-e),this}saturate(e){return ei(this._rgb,1,e),this}desaturate(e){return ei(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=Br(e);n[0]=Wr(n[0]+t),n=$r(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function si(){}const ai=(()=>{let e=0;return()=>e++})();function oi(e){return null===e||void 0===e}function li(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function ci(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function ui(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function hi(e,t){return ui(e)?e:t}function di(e,t){return"undefined"===typeof e?t:e}const fi=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function pi(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function gi(e,t,n,r){let i,s,a;if(li(e))if(s=e.length,r)for(i=s-1;i>=0;i--)t.call(n,e[i],i);else for(i=0;i<s;i++)t.call(n,e[i],i);else if(ci(e))for(a=Object.keys(e),s=a.length,i=0;i<s;i++)t.call(n,e[a[i]],a[i])}function mi(e,t){let n,r,i,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],s=t[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function yi(e){if(li(e))return e.map(yi);if(ci(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=yi(e[n[i]]);return t}return e}function vi(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function bi(e,t,n,r){if(!vi(e))return;const i=t[e],s=n[e];ci(i)&&ci(s)?xi(i,s,r):t[e]=yi(s)}function xi(e,t,n){const r=li(t)?t:[t],i=r.length;if(!ci(e))return e;const s=(n=n||{}).merger||bi;let a;for(let o=0;o<i;++o){if(a=r[o],!ci(a))continue;const t=Object.keys(a);for(let r=0,i=t.length;r<i;++r)s(t[r],e,a,n)}return e}function wi(e,t){return xi(e,t,{merger:_i})}function _i(e,t,n){if(!vi(e))return;const r=t[e],i=n[e];ci(r)&&ci(i)?wi(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=yi(i))}const ki={"":e=>e,x:e=>e.x,y:e=>e.y};function Si(e,t){const n=ki[t]||(ki[t]=function(e){const t=function(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function Ei(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Ti=e=>"undefined"!==typeof e,Ci=e=>"function"===typeof e,Ni=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const Ai=Math.PI,Ii=2*Ai,Di=Ii+Ai,Pi=Number.POSITIVE_INFINITY,ji=Ai/180,Ri=Ai/2,Oi=Ai/4,Mi=2*Ai/3,Li=Math.log10,Fi=Math.sign;function zi(e,t,n){return Math.abs(e-t)<n}function Vi(e){const t=Math.round(e);e=zi(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Li(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Ui(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Bi(e,t,n){let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Hi(e){return e*(Ai/180)}function $i(e){return e*(180/Ai)}function Wi(e){if(!ui(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function qi(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*Ai&&(s+=Ii),{angle:s,distance:i}}function Gi(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Ki(e,t){return(e-t+Di)%Ii-Ai}function Qi(e){return(e%Ii+Ii)%Ii}function Ji(e,t,n,r){const i=Qi(e),s=Qi(t),a=Qi(n),o=Qi(s-i),l=Qi(a-i),c=Qi(i-s),u=Qi(i-a);return i===s||i===a||r&&s===a||o>l&&c<u}function Yi(e,t,n){return Math.max(t,Math.min(n,e))}function Xi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Zi(e,t,n){n=n||(n=>e[n]<t);let r,i=e.length-1,s=0;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const es=(e,t,n,r)=>Zi(e,n,r?r=>{const i=e[r][t];return i<n||i===n&&e[r+1][t]===n}:r=>e[r][t]<n),ts=(e,t,n)=>Zi(e,n,r=>e[r][t]>=n);const ns=["push","pop","shift","splice","unshift"];function rs(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);-1!==i&&r.splice(i,1),r.length>0||(ns.forEach(t=>{delete e[t]}),delete e._chartjs)}function is(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const ss="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function as(e,t){let n=[],r=!1;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];n=s,r||(r=!0,ss.call(window,()=>{r=!1,e.apply(t,n)}))}}const os=e=>"start"===e?"left":"end"===e?"right":"center",ls=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function cs(e,t,n){const r=t.length;let i=0,s=r;if(e._sorted){const{iScale:a,vScale:o,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=a.axis,{min:h,max:d,minDefined:f,maxDefined:p}=a.getUserBounds();if(f){if(i=Math.min(es(l,u,h).lo,n?r:es(t,u,a.getPixelForValue(h)).lo),c){const e=l.slice(0,i+1).reverse().findIndex(e=>!oi(e[o.axis]));i-=Math.max(0,e)}i=Yi(i,0,r-1)}if(p){let e=Math.max(es(l,a.axis,d,!0).hi+1,n?0:es(t,u,a.getPixelForValue(d),!0).hi+1);if(c){const t=l.slice(e-1).findIndex(e=>!oi(e[o.axis]));e+=Math.max(0,t)}s=Yi(e,i,r)-i}else s=r-i}return{start:i,count:s}}function us(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const s=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const hs=e=>0===e||1===e,ds=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*Ii/n),fs=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Ii/n)+1,ps={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*Ri),easeOutSine:e=>Math.sin(e*Ri),easeInOutSine:e=>-.5*(Math.cos(Ai*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>hs(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>hs(e)?e:ds(e,.075,.3),easeOutElastic:e=>hs(e)?e:fs(e,.075,.3),easeInOutElastic(e){const t=.1125;return hs(e)?e:e<.5?.5*ds(2*e,t,.45):.5+.5*fs(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-ps.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*ps.easeInBounce(2*e):.5*ps.easeOutBounce(2*e-1)+.5};function gs(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function ms(e){return gs(e)?e:new ii(e)}function ys(e){return gs(e)?e:new ii(e).saturate(.5).darken(.1).hexString()}const vs=["x","y","borderWidth","radius","tension"],bs=["color","borderColor","backgroundColor"];const xs=new Map;function ws(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let r=xs.get(n);return r||(r=new Intl.NumberFormat(e,t),xs.set(n,r)),r}(t,n).format(e)}const _s={values:e=>li(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const r=this.chart.options.locale;let i,s=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(i="scientific"),s=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const a=Li(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),ws(e,r,l)},logarithmic(e,t,n){if(0===e)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(Li(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?_s.numeric.call(this,e,t,n):""}};var ks={formatters:_s};const Ss=Object.create(null),Es=Object.create(null);function Ts(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const t=n[r];e=e[t]||(e[t]=Object.create(null))}return e}function Cs(e,t,n){return"string"===typeof t?xi(Ts(e,t),n):xi(Ts(e,""),t)}class Ns{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>ys(t.backgroundColor),this.hoverBorderColor=(e,t)=>ys(t.borderColor),this.hoverColor=(e,t)=>ys(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Cs(this,e,t)}get(e){return Ts(this,e)}describe(e,t){return Cs(Es,e,t)}override(e,t){return Cs(Ss,e,t)}route(e,t,n,r){const i=Ts(this,e),s=Ts(this,n),a="_"+t;Object.defineProperties(i,{[a]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[a],t=s[r];return ci(e)?Object.assign({},t,e):di(e,t)},set(e){this[a]=e}}})}apply(e){e.forEach(e=>e(this))}}var As=new Ns({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:bs},numbers:{type:"number",properties:vs}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ks.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function Is(e,t,n,r,i){let s=t[i];return s||(s=t[i]=e.measureText(i).width,n.push(i)),s>r&&(r=s),r}function Ds(e,t,n,r){let i=(r=r||{}).data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},s=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let a=0;const o=n.length;let l,c,u,h,d;for(l=0;l<o;l++)if(h=n[l],void 0===h||null===h||li(h)){if(li(h))for(c=0,u=h.length;c<u;c++)d=h[c],void 0===d||null===d||li(d)||(a=Is(e,i,s,a,d))}else a=Is(e,i,s,a,h);e.restore();const f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete i[s[l]];s.splice(0,f)}return a}function Ps(e,t,n){const r=e.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function js(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Rs(e,t,n,r){Os(e,t,n,r,null)}function Os(e,t,n,r,i){let s,a,o,l,c,u,h,d;const f=t.pointStyle,p=t.rotation,g=t.radius;let m=(p||0)*ji;if(f&&"object"===typeof f&&(s=f.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return e.save(),e.translate(n,r),e.rotate(m),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void e.restore();if(!(isNaN(g)||g<=0)){switch(e.beginPath(),f){default:i?e.ellipse(n,r,i/2,g,0,0,Ii):e.arc(n,r,g,0,Ii),e.closePath();break;case"triangle":u=i?i/2:g,e.moveTo(n+Math.sin(m)*u,r-Math.cos(m)*g),m+=Mi,e.lineTo(n+Math.sin(m)*u,r-Math.cos(m)*g),m+=Mi,e.lineTo(n+Math.sin(m)*u,r-Math.cos(m)*g),e.closePath();break;case"rectRounded":c=.516*g,l=g-c,a=Math.cos(m+Oi)*l,h=Math.cos(m+Oi)*(i?i/2-c:l),o=Math.sin(m+Oi)*l,d=Math.sin(m+Oi)*(i?i/2-c:l),e.arc(n-h,r-o,c,m-Ai,m-Ri),e.arc(n+d,r-a,c,m-Ri,m),e.arc(n+h,r+o,c,m,m+Ri),e.arc(n-d,r+a,c,m+Ri,m+Ai),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=i?i/2:l,e.rect(n-u,r-l,2*u,2*l);break}m+=Oi;case"rectRot":h=Math.cos(m)*(i?i/2:g),a=Math.cos(m)*g,o=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),e.moveTo(n-h,r-o),e.lineTo(n+d,r-a),e.lineTo(n+h,r+o),e.lineTo(n-d,r+a),e.closePath();break;case"crossRot":m+=Oi;case"cross":h=Math.cos(m)*(i?i/2:g),a=Math.cos(m)*g,o=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),e.moveTo(n-h,r-o),e.lineTo(n+h,r+o),e.moveTo(n+d,r-a),e.lineTo(n-d,r+a);break;case"star":h=Math.cos(m)*(i?i/2:g),a=Math.cos(m)*g,o=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),e.moveTo(n-h,r-o),e.lineTo(n+h,r+o),e.moveTo(n+d,r-a),e.lineTo(n-d,r+a),m+=Oi,h=Math.cos(m)*(i?i/2:g),a=Math.cos(m)*g,o=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),e.moveTo(n-h,r-o),e.lineTo(n+h,r+o),e.moveTo(n+d,r-a),e.lineTo(n-d,r+a);break;case"line":a=i?i/2:Math.cos(m)*g,o=Math.sin(m)*g,e.moveTo(n-a,r-o),e.lineTo(n+a,r+o);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(m)*(i?i/2:g),r+Math.sin(m)*g);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function Ms(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Ls(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Fs(e){e.restore()}function zs(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if("middle"===i){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else"after"===i!==!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function Vs(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function Us(e,t,n,r,i){if(i.strikethrough||i.underline){const s=e.measureText(r),a=t-s.actualBoundingBoxLeft,o=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(a,u),e.lineTo(o,u),e.stroke()}}function Bs(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Hs(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=li(t)?t:[t],o=s.strokeWidth>0&&""!==s.strokeColor;let l,c;for(e.save(),e.font=i.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),oi(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,s),l=0;l<a.length;++l)c=a[l],s.backdrop&&Bs(e,s.backdrop),o&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),oi(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(c,n,r,s.maxWidth)),e.fillText(c,n,r,s.maxWidth),Us(e,n,r,c,s),r+=Number(i.lineHeight);e.restore()}function $s(e,t){const{x:n,y:r,w:i,h:s,radius:a}=t;e.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*Ai,Ai,!0),e.lineTo(n,r+s-a.bottomLeft),e.arc(n+a.bottomLeft,r+s-a.bottomLeft,a.bottomLeft,Ai,Ri,!0),e.lineTo(n+i-a.bottomRight,r+s),e.arc(n+i-a.bottomRight,r+s-a.bottomRight,a.bottomRight,Ri,0,!0),e.lineTo(n+i,r+a.topRight),e.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-Ri,!0),e.lineTo(n+a.topLeft,r)}const Ws=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,qs=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Gs(e,t){const n=(""+e).match(Ws);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const Ks=e=>+e||0;function Qs(e,t){const n={},r=ci(t),i=r?Object.keys(t):t,s=ci(e)?r?n=>di(e[n],e[t[n]]):t=>e[t]:()=>e;for(const a of i)n[a]=Ks(s(a));return n}function Js(e){return Qs(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Ys(e){return Qs(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Xs(e){const t=Js(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Zs(e,t){e=e||{},t=t||As.font;let n=di(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let r=di(e.style,t.style);r&&!(""+r).match(qs)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:di(e.family,t.family),lineHeight:Gs(di(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:di(e.weight,t.weight),string:""};return i.string=function(e){return!e||oi(e.size)||oi(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(i),i}function ea(e,t,n,r){let i,s,a,o=!0;for(i=0,s=e.length;i<s;++i)if(a=e[i],void 0!==a&&(void 0!==t&&"function"===typeof a&&(a=a(t),o=!1),void 0!==n&&li(a)&&(a=a[n%a.length],o=!1),void 0!==a))return r&&!o&&(r.cacheable=!1),a}function ta(e,t){return Object.assign(Object.create(e),t)}function na(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const i=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof n&&(n=fa("_fallback",e));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:n,_getTarget:r,override:r=>na([r,...e],t,i,n)};return new Proxy(s,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,r)=>oa(n,r,()=>function(e,t,n,r){let i;for(const s of t)if(i=fa(sa(s,e),n),"undefined"!==typeof i)return aa(e,i)?ha(n,r,e,i):i}(r,t,e,n)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>pa(e).includes(t),ownKeys:e=>pa(e),set(e,t,n){const i=e._storage||(e._storage=r());return e[t]=i[t]=n,delete e._keys,!0}})}function ra(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:ia(e,r),setContext:t=>ra(e,t,n,r),override:i=>ra(e.override(i),t,n,r)};return new Proxy(i,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>oa(e,t,()=>function(e,t,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:a}=e;let o=r[t];Ci(o)&&a.isScriptable(t)&&(o=function(e,t,n,r){const{_proxy:i,_context:s,_subProxy:a,_stack:o}=n;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(s,a||r);o.delete(e),aa(e,l)&&(l=ha(i._scopes,i,e,l));return l}(t,o,e,n));li(o)&&o.length&&(o=function(e,t,n,r){const{_proxy:i,_context:s,_subProxy:a,_descriptors:o}=n;if("undefined"!==typeof s.index&&r(e))return t[s.index%t.length];if(ci(t[0])){const n=t,r=i._scopes.filter(e=>e!==n);t=[];for(const l of n){const n=ha(r,i,e,l);t.push(ra(n,s,a&&a[e],o))}}return t}(t,o,e,a.isIndexable));aa(t,o)&&(o=ra(o,i,s&&s[t],a));return o}(e,t,n)),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,r)=>(e[n]=r,delete t[n],!0)})}function ia(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Ci(n)?n:()=>n,isIndexable:Ci(r)?r:()=>r}}const sa=(e,t)=>e?e+Ei(t):t,aa=(e,t)=>ci(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function oa(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const r=n();return e[t]=r,r}function la(e,t,n){return Ci(e)?e(t,n):e}const ca=(e,t)=>!0===e?t:"string"===typeof e?Si(t,e):void 0;function ua(e,t,n,r,i){for(const s of t){const t=ca(n,s);if(t){e.add(t);const s=la(t._fallback,n,i);if("undefined"!==typeof s&&s!==n&&s!==r)return s}else if(!1===t&&"undefined"!==typeof r&&n!==r)return null}return!1}function ha(e,t,n,r){const i=t._rootScopes,s=la(t._fallback,n,r),a=[...e,...i],o=new Set;o.add(r);let l=da(o,a,n,s||n,r);return null!==l&&(("undefined"===typeof s||s===n||(l=da(o,a,s,l,r),null!==l))&&na(Array.from(o),[""],i,s,()=>function(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];if(li(i)&&ci(n))return n;return i||{}}(t,n,r)))}function da(e,t,n,r,i){for(;n;)n=ua(e,t,n,r,i);return n}function fa(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function pa(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}function ga(e,t,n,r){const{iScale:i}=e,{key:s="r"}=this._parsing,a=new Array(r);let o,l,c,u;for(o=0,l=r;o<l;++o)c=o+n,u=t[c],a[o]={r:i.parse(Si(u,s),c)};return a}const ma=Number.EPSILON||1e-14,ya=(e,t)=>t<e.length&&!e[t].skip&&e[t],va=e=>"x"===e?"y":"x";function ba(e,t,n,r){const i=e.skip?t:e,s=t,a=n.skip?t:n,o=Gi(s,i),l=Gi(a,s);let c=o/(o+l),u=l/(o+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=r*c,d=r*u;return{previous:{x:s.x-h*(a.x-i.x),y:s.y-h*(a.y-i.y)},next:{x:s.x+d*(a.x-i.x),y:s.y+d*(a.y-i.y)}}}function xa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=va(t),r=e.length,i=Array(r).fill(0),s=Array(r);let a,o,l,c=ya(e,0);for(a=0;a<r;++a)if(o=l,l=c,c=ya(e,a+1),l){if(c){const e=c[t]-l[t];i[a]=0!==e?(c[n]-l[n])/e:0}s[a]=o?c?Fi(i[a-1])!==Fi(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}!function(e,t,n){const r=e.length;let i,s,a,o,l,c=ya(e,0);for(let u=0;u<r-1;++u)l=c,c=ya(e,u+1),l&&c&&(zi(t[u],0,ma)?n[u]=n[u+1]=0:(i=n[u]/t[u],s=n[u+1]/t[u],o=Math.pow(i,2)+Math.pow(s,2),o<=9||(a=3/Math.sqrt(o),n[u]=i*a*t[u],n[u+1]=s*a*t[u])))}(e,i,s),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const r=va(n),i=e.length;let s,a,o,l=ya(e,0);for(let c=0;c<i;++c){if(a=o,o=l,l=ya(e,c+1),!o)continue;const i=o[n],u=o[r];a&&(s=(i-a[n])/3,o[`cp1${n}`]=i-s,o[`cp1${r}`]=u-s*t[c]),l&&(s=(l[n]-i)/3,o[`cp2${n}`]=i+s,o[`cp2${r}`]=u+s*t[c])}}(e,s,t)}function wa(e,t,n){return Math.max(Math.min(e,n),t)}function _a(e,t,n,r,i){let s,a,o,l;if(t.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===t.cubicInterpolationMode)xa(e,i);else{let n=r?e[e.length-1]:e[0];for(s=0,a=e.length;s<a;++s)o=e[s],l=ba(n,o,e[Math.min(s+1,a-(r?0:1))%a],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,n=o}t.capBezierPoints&&function(e,t){let n,r,i,s,a,o=Ms(e[0],t);for(n=0,r=e.length;n<r;++n)a=s,s=o,o=n<r-1&&Ms(e[n+1],t),s&&(i=e[n],a&&(i.cp1x=wa(i.cp1x,t.left,t.right),i.cp1y=wa(i.cp1y,t.top,t.bottom)),o&&(i.cp2x=wa(i.cp2x,t.left,t.right),i.cp2y=wa(i.cp2y,t.top,t.bottom)))}(e,n)}function ka(){return"undefined"!==typeof window&&"undefined"!==typeof document}function Sa(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function Ea(e,t,n){let r;return"string"===typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}const Ta=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const Ca=["top","right","bottom","left"];function Na(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=Ca[i];r[s]=parseFloat(e[t+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function Aa(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=Ta(n),s="border-box"===i.boxSizing,a=Na(i,"padding"),o=Na(i,"border","width"),{x:l,y:c,box:u}=function(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:s}=r;let a,o,l=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(i,s,e.target))a=i,o=s;else{const e=t.getBoundingClientRect();a=r.clientX-e.left,o=r.clientY-e.top,l=!0}return{x:a,y:o,box:l}}(e,n),h=a.left+(u&&o.left),d=a.top+(u&&o.top);let{width:f,height:p}=t;return s&&(f-=a.width+o.width,p-=a.height+o.height),{x:Math.round((l-h)/f*n.width/r),y:Math.round((c-d)/p*n.height/r)}}const Ia=e=>Math.round(10*e)/10;function Da(e,t,n,r){const i=Ta(e),s=Na(i,"margin"),a=Ea(i.maxWidth,e,"clientWidth")||Pi,o=Ea(i.maxHeight,e,"clientHeight")||Pi,l=function(e,t,n){let r,i;if(void 0===t||void 0===n){const s=e&&Sa(e);if(s){const e=s.getBoundingClientRect(),a=Ta(s),o=Na(a,"border","width"),l=Na(a,"padding");t=e.width-l.width-o.width,n=e.height-l.height-o.height,r=Ea(a.maxWidth,s,"clientWidth"),i=Ea(a.maxHeight,s,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||Pi,maxHeight:i||Pi}}(e,t,n);let{width:c,height:u}=l;if("content-box"===i.boxSizing){const e=Na(i,"border","width"),t=Na(i,"padding");c-=t.width+e.width,u-=t.height+e.height}c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=Ia(Math.min(c,a,l.maxWidth)),u=Ia(Math.min(u,o,l.maxHeight)),c&&!u&&(u=Ia(c/2));return(void 0!==t||void 0!==n)&&r&&l.height&&u>l.height&&(u=l.height,c=Ia(Math.floor(u*r))),{width:c,height:u}}function Pa(e,t,n){const r=t||1,i=Math.floor(e.height*r),s=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const a=e.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==r||a.height!==i||a.width!==s)&&(e.currentDevicePixelRatio=r,a.height=i,a.width=s,e.ctx.setTransform(r,0,0,r,0,0),!0)}const ja=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};ka()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function Ra(e,t){const n=function(e,t){return Ta(e).getPropertyValue(t)}(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Oa(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function Ma(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:"middle"===r?n<.5?e.y:t.y:"after"===r?n<1?e.y:t.y:n>0?t.y:e.y}}function La(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},a=Oa(e,i,n),o=Oa(i,s,n),l=Oa(s,t,n),c=Oa(a,o,n),u=Oa(o,l,n);return Oa(c,u,n)}function Fa(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function za(e,t){let n,r;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function Va(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Ua(e){return"angle"===e?{between:Ji,compare:Ki,normalize:Qi}:{between:Xi,compare:(e,t)=>e-t,normalize:e=>e}}function Ba(e){let{start:t,end:n,count:r,loop:i,style:s}=e;return{start:t%r,end:n%r,loop:i&&(n-t+1)%r===0,style:s}}function Ha(e,t,n){if(!n)return[e];const{property:r,start:i,end:s}=n,a=t.length,{compare:o,between:l,normalize:c}=Ua(r),{start:u,end:h,loop:d,style:f}=function(e,t,n){const{property:r,start:i,end:s}=n,{between:a,normalize:o}=Ua(r),l=t.length;let c,u,{start:h,end:d,loop:f}=e;if(f){for(h+=l,d+=l,c=0,u=l;c<u&&a(o(t[h%l][r]),i,s);++c)h--,d--;h%=l,d%=l}return d<h&&(d+=l),{start:h,end:d,loop:f,style:e.style}}(e,t,n),p=[];let g,m,y,v=!1,b=null;const x=()=>v||l(i,y,g)&&0!==o(i,y),w=()=>!v||0===o(s,g)||l(s,y,g);for(let _=u,k=u;_<=h;++_)m=t[_%a],m.skip||(g=c(m[r]),g!==y&&(v=l(g,i,s),null===b&&x()&&(b=0===o(g,i)?_:k),null!==b&&w()&&(p.push(Ba({start:b,end:_,loop:d,count:a,style:f})),b=null),k=_,y=g));return null!==b&&p.push(Ba({start:b,end:h,loop:d,count:a,style:f})),p}function $a(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const s=Ha(r[i],e.points,t);s.length&&n.push(...s)}return n}function Wa(e,t,n,r){return r&&r.setContext&&n?function(e,t,n,r){const i=e._chart.getContext(),s=qa(e.options),{_datasetIndex:a,options:{spanGaps:o}}=e,l=n.length,c=[];let u=s,h=t[0].start,d=h;function f(e,t,r,i){const s=o?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=s;for(;n[t%l].skip;)t+=s;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:r,style:i}),u=i,h=t%l)}}for(const p of t){h=o?h:p.start;let e,t=n[h%l];for(d=h+1;d<=p.end;d++){const s=n[d%l];e=qa(r.setContext(ta(i,{type:"segment",p0:t,p1:s,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:a}))),Ga(e,u)&&f(h,d-1,p.loop,u),t=s,u=e}h<d-1&&f(h,d-1,p.loop,u)}return c}(e,t,n,r):t}function qa(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Ga(e,t){if(!t)return!1;const n=[],r=function(e,t){return gs(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function Ka(e,t,n){return e.options.clip?e[n]:t[n]}function Qa(e,t){const n=t._clip;if(n.disabled)return!1;const r=function(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:Ka(n,t,"left"),right:Ka(n,t,"right"),top:Ka(r,t,"top"),bottom:Ka(r,t,"bottom")}:t}(t,e.chartArea);return{left:!1===n.left?0:r.left-(!0===n.left?0:n.left),right:!1===n.right?e.width:r.right+(!0===n.right?0:n.right),top:!1===n.top?0:r.top-(!0===n.top?0:n.top),bottom:!1===n.bottom?e.height:r.bottom+(!0===n.bottom?0:n.bottom)}}class Ja{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){const i=t.listeners[r],s=t.duration;i.forEach(r=>r({chart:e,initial:t.initial,numSteps:s,currentStep:Math.min(n-t.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=ss.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let s,a=i.length-1,o=!1;for(;a>=0;--a)s=i[a],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(e),o=!0):(i[a]=i[i.length-1],i.pop());o&&(r.draw(),this._notify(r,n,e,"progress")),i.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=i.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ya=new Ja;const Xa="transparent",Za={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const r=ms(e||Xa),i=r.valid&&ms(t||Xa);return i&&i.valid?i.mix(r,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class eo{constructor(e,t,n,r){const i=t[n];r=ea([e.to,r,i,e.from]);const s=ea([e.from,i,r]);this._active=!0,this._fn=e.fn||Za[e.type||typeof s],this._easing=ps[e.easing]||ps.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,s=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=ea([e.to,t,r,e.from]),this._from=ea([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,r=this._prop,i=this._from,s=this._loop,a=this._to;let o;if(this._active=i!==a&&(s||t<n),!this._active)return this._target[r]=a,void this._notify(!0);t<0?this._target[r]=i:(o=t/n%2,o=s&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[r]=this._fn(i,a,o))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}class to{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!ci(e))return;const t=Object.keys(As.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!ci(i))return;const s={};for(const e of t)s[e]=i[e];(li(i.properties)&&i.properties||[r]).forEach(e=>{e!==r&&n.has(e)||n.set(e,s)})})}_animateOptions(e,t){const n=t.options,r=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&function(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const t=e[r[i]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then(()=>{e.options=n},()=>{}),i}_createAnimations(e,t){const n=this._properties,r=[],i=e.$animations||(e.$animations={}),s=Object.keys(t),a=Date.now();let o;for(o=s.length-1;o>=0;--o){const l=s[o];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(e,t));continue}const c=t[l];let u=i[l];const h=n.get(l);if(u){if(h&&u.active()){u.update(h,c,a);continue}u.cancel()}h&&h.duration?(i[l]=u=new eo(h,e,l,c),r.push(u)):e[l]=c}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(Ya.add(this._chart,n),!0):void 0}}function no(e,t){const n=e&&e.options||{},r=n.reverse,i=void 0===n.min?t:0,s=void 0===n.max?t:0;return{start:r?s:i,end:r?i:s}}function ro(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function io(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=e.keys,s="single"===r.mode;let a,o,l,c;if(null===t)return;let u=!1;for(a=0,o=i.length;a<o;++a){if(l=+i[a],l===n){if(u=!0,r.all)continue;break}c=e.values[l],ui(c)&&(s||0===t||Fi(t)===Fi(c))&&(t+=c)}return u||r.all?t:0}function so(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function ao(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function oo(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const t=e[i.index];if(n&&t>0||!n&&t<0)return i.index}return null}function lo(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:s,vScale:a,index:o}=r,l=s.axis,c=a.axis,u=function(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}(s,a,r),h=t.length;let d;for(let f=0;f<h;++f){const e=t[f],{[l]:n,[c]:s}=e;d=(e._stacks||(e._stacks={}))[c]=ao(i,u,n),d[o]=s,d._top=oo(d,a,!0,r.type),d._bottom=oo(d,a,!1,r.type);(d._visualValues||(d._visualValues={}))[o]=s}}function co(e,t){const n=e.scales;return Object.keys(n).filter(e=>n[e].axis===t).shift()}function uo(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[r]||void 0===t[r][n])return;delete t[r][n],void 0!==t[r]._visualValues&&void 0!==t[r]._visualValues[n]&&delete t[r]._visualValues[n]}}}const ho=e=>"reset"===e||"none"===e,fo=(e,t)=>t?e:Object.assign({},e);class po{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=so(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&uo(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=(e,t,n,r)=>"x"===e?t:"r"===e?r:n,i=t.xAxisID=di(n.xAxisID,co(e,"x")),s=t.yAxisID=di(n.yAxisID,co(e,"y")),a=t.rAxisID=di(n.rAxisID,co(e,"r")),o=t.indexAxis,l=t.iAxisID=r(o,i,s,a),c=t.vAxisID=r(o,s,i,a);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(s),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&rs(this._data,this),e._stacked&&uo(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(ci(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:r}=t,i="x"===n.axis?"x":"y",s="x"===r.axis?"x":"y",a=Object.keys(e),o=new Array(a.length);let l,c,u;for(l=0,c=a.length;l<c;++l)u=a[l],o[l]={[i]:u,[s]:e[u]};return o}(t,e)}else if(n!==t){if(n){rs(n,this);const e=this._cachedMeta;uo(e),e._parsed=[]}t&&Object.isExtensible(t)&&(i=this,(r=t)._chartjs?r._chartjs.listeners.push(i):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),ns.forEach(e=>{const t="_onData"+Ei(e),n=r[e];Object.defineProperty(r,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];const a=n.apply(this,i);return r._chartjs.listeners.forEach(e=>{"function"===typeof e[t]&&e[t](...i)}),a}})}))),this._syncList=[],this._data=t}var r,i}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=t._stacked;t._stacked=so(t.vScale,t),t.stack!==n.stack&&(r=!0,uo(t),t.stack=n.stack),this._resyncElements(e),(r||i!==t._stacked)&&(lo(this,t._parsed),t._stacked=so(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:s}=n,a=i.axis;let o,l,c,u=0===e&&t===r.length||n._sorted,h=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,c=r;else{c=li(r[e])?this.parseArrayData(n,r,e,t):ci(r[e])?this.parseObjectData(n,r,e,t):this.parsePrimitiveData(n,r,e,t);const i=()=>null===l[a]||h&&l[a]<h[a];for(o=0;o<t;++o)n._parsed[o+e]=l=c[o],u&&(i()&&(u=!1),h=l);n._sorted=u}s&&lo(this,c)}parsePrimitiveData(e,t,n,r){const{iScale:i,vScale:s}=e,a=i.axis,o=s.axis,l=i.getLabels(),c=i===s,u=new Array(r);let h,d,f;for(h=0,d=r;h<d;++h)f=h+n,u[h]={[a]:c||i.parse(l[f],f),[o]:s.parse(t[f],f)};return u}parseArrayData(e,t,n,r){const{xScale:i,yScale:s}=e,a=new Array(r);let o,l,c,u;for(o=0,l=r;o<l;++o)c=o+n,u=t[c],a[o]={x:i.parse(u[0],c),y:s.parse(u[1],c)};return a}parseObjectData(e,t,n,r){const{xScale:i,yScale:s}=e,{xAxisKey:a="x",yAxisKey:o="y"}=this._parsing,l=new Array(r);let c,u,h,d;for(c=0,u=r;c<u;++c)h=c+n,d=t[h],l[c]={x:i.parse(Si(d,a),h),y:s.parse(Si(d,o),h)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const r=this.chart,i=this._cachedMeta,s=t[e.axis];return io({keys:ro(r,!0),values:t._stacks[e.axis]._visualValues},s,i.index,{mode:n})}updateRangeFromParsed(e,t,n,r){const i=n[t.axis];let s=null===i?NaN:i;const a=r&&n._stacks[t.axis];r&&a&&(r.values=a,s=io(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,t){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&e===n.iScale,s=r.length,a=this._getOtherScale(e),o=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:ro(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}(a);let h,d;function f(){d=r[h];const t=d[a.axis];return!ui(d[e.axis])||c>t||u<t}for(h=0;h<s&&(f()||(this.updateRangeFromParsed(l,e,d,o),!i));++h);if(i)for(h=s-1;h>=0;--h)if(!f()){this.updateRangeFromParsed(l,e,d,o);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let r,i,s;for(r=0,i=t.length;r<i;++r)s=t[r][e.axis],ui(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,r=t.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,r,i;return ci(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:!1===e}}(di(this.options.clip,function(e,t,n){if(!1===n)return!1;const r=no(e,n),i=no(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,r=n.data||[],i=t.chartArea,s=[],a=this._drawStart||0,o=this._drawCount||r.length-a,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,i,a,o),c=a;c<a+o;++c){const t=r[c];t.hidden||(t.active&&l?s.push(t):t.draw(e,i))}for(c=0;c<s.length;++c)s[c].draw(e,i)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];i=t.$context||(t.$context=function(e,t,n){return ta(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=function(e,t){return ta(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const r="active"===t,i=this._cachedDataOpts,s=e+"-"+t,a=i[s],o=this.enableOptionSharing&&Ti(n);if(a)return fo(a,o);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),u=r?[`${e}Hover`,"hover",e,""]:[e,""],h=l.getOptionScopes(this.getDataset(),c),d=Object.keys(As.elements[e]),f=l.resolveNamedOptions(h,d,()=>this.getContext(n,r,t),u);return f.$shared&&(f.$shared=o,i[s]=Object.freeze(fo(f,o))),f}_resolveAnimations(e,t,n){const r=this.chart,i=this._cachedDataOpts,s=`animation-${t}`,a=i[s];if(a)return a;let o;if(!1!==r.options.animation){const r=this.chart.config,i=r.datasetAnimationScopeKeys(this._type,t),s=r.getOptionScopes(this.getDataset(),i);o=r.createResolver(s,this.getContext(e,n,t))}const l=new to(r,o&&o.animations);return o&&o._cacheable&&(i[s]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||ho(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,i=this.getSharedOptions(n),s=this.includeOptions(t,i)||i!==r;return this.updateSharedOptions(i,t,n),{sharedOptions:i,includeOptions:s}}updateElement(e,t,n,r){ho(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}updateSharedOptions(e,t,n){e&&!ho(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,r){e.active=r;const i=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[a,o,l]of this._syncList)this[a](o,l);this._syncList=[];const r=n.length,i=t.length,s=Math.min(i,r);s&&this.parse(0,s),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._cachedMeta,i=r.data,s=e+t;let a;const o=e=>{for(e.length+=t,a=e.length-1;a>=s;a--)e[a]=e[a-t]};for(o(i),a=e;a<s;++a)i[a]=new this.dataElementType;this._parsing&&o(r._parsed),this.parse(e,t),n&&this.updateElements(i,e,t,"reset")}updateElements(e,t,n,r){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,t);n._stacked&&uo(n,r)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,r]=e;this[t](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function go(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let t=0,i=n.length;t<i;t++)r=r.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=is(r.sort((e,t)=>e-t))}return e._cache.$bar}(t,e.type);let r,i,s,a,o=t._length;const l=()=>{32767!==s&&-32768!==s&&(Ti(a)&&(o=Math.min(o,Math.abs(s-a)||o)),a=s)};for(r=0,i=n.length;r<i;++r)s=t.getPixelForValue(n[r]),l();for(a=void 0,r=0,i=t.ticks.length;r<i;++r)s=t.getPixelForTick(r),l();return o}function mo(e,t,n,r){return li(e)?function(e,t,n,r){const i=n.parse(e[0],r),s=n.parse(e[1],r),a=Math.min(i,s),o=Math.max(i,s);let l=a,c=o;Math.abs(a)>Math.abs(o)&&(l=o,c=a),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:s,min:a,max:o}}(e,t,n,r):t[n.axis]=n.parse(e,r),t}function yo(e,t,n,r){const i=e.iScale,s=e.vScale,a=i.getLabels(),o=i===s,l=[];let c,u,h,d;for(c=n,u=n+r;c<u;++c)d=t[c],h={},h[i.axis]=o||i.parse(a[c],c),l.push(mo(d,h,s,c));return l}function vo(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function bo(e,t,n,r){let i=t.borderSkipped;const s={};if(!i)return void(e.borderSkipped=s);if(!0===i)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:o,reverse:l,top:c,bottom:u}=function(e){let t,n,r,i,s;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:t,top:i,bottom:s}}(e);"middle"===i&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=u:(s[xo(u,a,o,l)]=!0,i=c)),s[xo(i,a,o,l)]=!0,e.borderSkipped=s}function xo(e,t,n,r){var i,s,a;return r?(a=n,e=wo(e=(i=e)===(s=t)?a:i===a?s:i,n,t)):e=wo(e,t,n),e}function wo(e,t,n){return"start"===e?t:"end"===e?n:e}function _o(e,t,n){let{inflateAmount:r}=t;e.inflateAmount="auto"===r?1===n?.33:0:r}class ko extends po{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,n,r){return yo(e,t,n,r)}parseArrayData(e,t,n,r){return yo(e,t,n,r)}parseObjectData(e,t,n,r){const{iScale:i,vScale:s}=e,{xAxisKey:a="x",yAxisKey:o="y"}=this._parsing,l="x"===i.axis?a:o,c="x"===s.axis?a:o,u=[];let h,d,f,p;for(h=n,d=n+r;h<d;++h)p=t[h],f={},f[i.axis]=i.parse(Si(p,l),h),u.push(mo(Si(p,c),f,s,h));return u}updateRangeFromParsed(e,t,n,r){super.updateRangeFromParsed(e,t,n,r);const i=n._custom;i&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:r}=t,i=this.getParsed(e),s=i._custom,a=vo(s)?"["+s.start+", "+s.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,r){const i="reset"===r,{index:s,_cachedMeta:{vScale:a}}=this,o=a.getBasePixel(),l=a.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(t,r);for(let d=t;d<t+n;d++){const t=this.getParsed(d),n=i||oi(t[a.axis])?{base:o,head:o}:this._calculateBarValuePixels(d),f=this._calculateBarIndexPixels(d,c),p=(t._stacks||{})[a.axis],g={horizontal:l,base:n.base,enableBorderRadius:!p||vo(t._custom)||s===p._top||s===p._bottom,x:l?n.head:f.center,y:l?f.center:n.head,height:l?f.size:Math.abs(n.size),width:l?Math.abs(n.size):f.size};h&&(g.options=u||this.resolveDataElementOptions(d,e[d].active?"active":r));const m=g.options||e[d].options;bo(g,m,p,s),_o(g,m,c.ratio),this.updateElement(e[d],d,g,r)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter(e=>e.controller.options.grouped),i=n.options.stacked,s=[],a=this._cachedMeta.controller.getParsed(t),o=a&&a[n.axis],l=e=>{const t=e._parsed.find(e=>e[n.axis]===o),r=t&&t[e.vScale.axis];if(oi(r)||isNaN(r))return!0};for(const c of r)if((void 0===t||!l(c))&&((!1===i||-1===s.indexOf(c.stack)||void 0===i&&void 0===c.stack)&&s.push(c.stack),c.index===e))break;return s.length||s.push(void 0),s}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[di("x"===this.chart.options.indexAxis?n.xAxisID:n.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,n){const r=this._getStacks(e,n),i=void 0!==t?r.indexOf(t):-1;return-1===i?r.length-1:i}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,r=[];let i,s;for(i=0,s=t.data.length;i<s;++i)r.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const a=e.barThickness;return{min:a||go(t),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:r},options:{base:i,minBarLength:s}}=this,a=i||0,o=this.getParsed(e),l=o._custom,c=vo(l);let u,h,d=o[t.axis],f=0,p=n?this.applyStack(t,o,n):d;p!==d&&(f=p-d,p=d),c&&(d=l.barStart,p=l.barEnd-l.barStart,0!==d&&Fi(d)!==Fi(l.barEnd)&&(f=0),f+=d);const g=oi(i)||c?f:i;let m=t.getPixelForValue(g);if(u=this.chart.getDataVisibility(e)?t.getPixelForValue(f+p):m,h=u-m,Math.abs(h)<s){h=function(e,t,n){return 0!==e?Fi(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(h,t,a)*s,d===a&&(m-=h/2);const e=t.getPixelForDecimal(0),i=t.getPixelForDecimal(1),l=Math.min(e,i),f=Math.max(e,i);m=Math.max(Math.min(m,f),l),u=m+h,n&&!c&&(o._stacks[t.axis]._visualValues[r]=t.getValueForPixel(u)-t.getValueForPixel(m))}if(m===t.getPixelForValue(a)){const e=Fi(h)*t.getLineWidthForValue(a)/2;m+=e,h-=e}return{size:h,base:m,head:u,center:u+h/2}}_calculateBarIndexPixels(e,t){const n=t.scale,r=this.options,i=r.skipNull,s=di(r.maxBarThickness,1/0);let a,o;const l=this._getAxisCount();if(t.grouped){const n=i?this._getStackCount(e):t.stackCount,c="flex"===r.barThickness?function(e,t,n,r){const i=t.pixels,s=i[e];let a=e>0?i[e-1]:null,o=e<i.length-1?i[e+1]:null;const l=n.categoryPercentage;null===a&&(a=s-(null===o?t.end-t.start:o-s)),null===o&&(o=s+s-a);const c=s-(s-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/r,ratio:n.barPercentage,start:c}}(e,t,r,n*l):function(e,t,n,r){const i=n.barThickness;let s,a;return oi(i)?(s=t.min*n.categoryPercentage,a=n.barPercentage):(s=i*r,a=1),{chunk:s/r,ratio:a,start:t.pixels[e]-s/2}}(e,t,r,n*l),u="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,h=this._getAxis().indexOf(di(u,this.getFirstScaleIdForIndexAxis())),d=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+h;a=c.start+c.chunk*d+c.chunk/2,o=Math.min(s,c.chunk*c.ratio)}else a=n.getPixelForValue(this.getParsed(e)[n.axis],e),o=Math.min(s,t.min*t.ratio);return{base:a-o/2,head:a+o/2,center:a,size:o}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length;let i=0;for(;i<r;++i)null===this.getParsed(i)[t.axis]||n[i].hidden||n[i].draw(this._ctx)}}class So extends po{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map((t,i)=>{const s=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:r,lineWidth:s.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{let i,s,a=e=>+n[e];if(ci(n[e])){const{key:e="value"}=this._parsing;a=t=>+Si(n[t],e)}for(i=e,s=e+t;i<s;++i)r._parsed[i]=a(i)}}_getRotation(){return Hi(this.options.rotation-90)}_getCircumference(){return Hi(this.options.circumference)}_getRotationExtents(){let e=Ii,t=-Ii;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),s=r._getCircumference();e=Math.min(e,i),t=Math.max(t,i+s)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,r=this._cachedMeta,i=r.data,s=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-s)/2,0),o=Math.min((l=this.options.cutout,c=a,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const u=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:m}=function(e,t,n){let r=1,i=1,s=0,a=0;if(t<Ii){const o=e,l=o+t,c=Math.cos(o),u=Math.sin(o),h=Math.cos(l),d=Math.sin(l),f=(e,t,r)=>Ji(e,o,l,!0)?1:Math.max(t,t*n,r,r*n),p=(e,t,r)=>Ji(e,o,l,!0)?-1:Math.min(t,t*n,r,r*n),g=f(0,c,h),m=f(Ri,u,d),y=p(Ai,c,h),v=p(Ai+Ri,u,d);r=(g-y)/2,i=(m-v)/2,s=-(g+y)/2,a=-(m+v)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:a}}(d,h,o),y=(n.width-s)/f,v=(n.height-s)/p,b=Math.max(Math.min(y,v)/2,0),x=fi(this.options.radius,b),w=(x-Math.max(x*o,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*x,this.offsetY=m*x,r.total=this.calculateTotal(),this.outerRadius=x-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){const n=this.options,r=this._cachedMeta,i=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/Ii)}updateElements(e,t,n,r){const i="reset"===r,s=this.chart,a=s.chartArea,o=s.options.animation,l=(a.left+a.right)/2,c=(a.top+a.bottom)/2,u=i&&o.animateScale,h=u?0:this.innerRadius,d=u?0:this.outerRadius,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(t,r);let g,m=this._getRotation();for(g=0;g<t;++g)m+=this._circumference(g,i);for(g=t;g<t+n;++g){const t=this._circumference(g,i),n=e[g],s={x:l+this.offsetX,y:c+this.offsetY,startAngle:m,endAngle:m+t,circumference:t,outerRadius:d,innerRadius:h};p&&(s.options=f||this.resolveDataElementOptions(g,n.active?"active":r)),m+=t,this.updateElement(n,g,s,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,r=0;for(n=0;n<t.length;n++){const i=e._parsed[n];null===i||isNaN(i)||!this.chart.getDataVisibility(n)||t[n].hidden||(r+=Math.abs(i))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Ii*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=ws(t._parsed[e],n.options.locale);return{label:r[e]||"",value:i}}getMaxBorderWidth(e){let t=0;const n=this.chart;let r,i,s,a,o;if(!e)for(r=0,i=n.data.datasets.length;r<i;++r)if(n.isDatasetVisible(r)){s=n.getDatasetMeta(r),e=s.data,a=s.controller;break}if(!e)return 0;for(r=0,i=e.length;r<i;++r)o=a.resolveDataElementOptions(r),"inner"!==o.borderAlign&&(t=Math.max(t,o.borderWidth||0,o.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,r=e.length;n<r;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(di(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Eo extends po{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:r=[],_dataset:i}=t,s=this.chart._animationsDisabled;let{start:a,count:o}=cs(t,r,s);this._drawStart=a,this._drawCount=o,us(t)&&(a=0,o=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=r;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:l},e),this.updateElements(r,a,o,e)}updateElements(e,t,n,r){const i="reset"===r,{iScale:s,vScale:a,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,r),h=s.axis,d=a.axis,{spanGaps:f,segment:p}=this.options,g=Ui(f)?f:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||i||"none"===r,y=t+n,v=e.length;let b=t>0&&this.getParsed(t-1);for(let x=0;x<v;++x){const n=e[x],f=m?n:{};if(x<t||x>=y){f.skip=!0;continue}const v=this.getParsed(x),w=oi(v[d]),_=f[h]=s.getPixelForValue(v[h],x),k=f[d]=i||w?a.getBasePixel():a.getPixelForValue(o?this.applyStack(a,v,o):v[d],x);f.skip=isNaN(_)||isNaN(k)||w,f.stop=x>0&&Math.abs(v[h]-b[h])>g,p&&(f.parsed=v,f.raw=l.data[x]),u&&(f.options=c||this.resolveDataElementOptions(x,n.active?"active":r)),m||this.updateElement(n,x,f,r),b=v}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),s=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,s)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class To extends po{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,r){return ga.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta,n=t.dataset,r=t.data||[],i=t.iScale.getLabels();if(n.points=r,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const s={_loop:!0,_fullLoop:i.length===r.length,options:t};this.updateElement(n,void 0,s,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,n,r){const i=this._cachedMeta.rScale,s="reset"===r;for(let a=t;a<t+n;a++){const t=e[a],n=this.resolveDataElementOptions(a,t.active?"active":r),o=i.getPointPositionForValue(a,this.getParsed(a).r),l=s?i.xCenter:o.x,c=s?i.yCenter:o.y,u={x:l,y:c,angle:o.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(t,a,u,r)}}}function Co(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class No{static override(e){Object.assign(No.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Co()}parse(){return Co()}format(){return Co()}add(){return Co()}diff(){return Co()}startOf(){return Co()}endOf(){return Co()}}var Ao=No;function Io(e,t,n,r){const{controller:i,data:s,_sorted:a}=e,o=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&"r"!==t&&a&&s.length){const a=o._reversePixels?ts:es;if(!r){const r=a(s,t,n);if(l){const{vScale:t}=i._cachedMeta,{_parsed:n}=e,s=n.slice(0,r.lo+1).reverse().findIndex(e=>!oi(e[t.axis]));r.lo-=Math.max(0,s);const a=n.slice(r.hi).findIndex(e=>!oi(e[t.axis]));r.hi+=Math.max(0,a)}return r}if(i._sharedOptions){const e=s[0],r="function"===typeof e.getRange&&e.getRange(t);if(r){const e=a(s,t,n-r),i=a(s,t,n+r);return{lo:e.lo,hi:i.hi}}}}return{lo:0,hi:s.length-1}}function Do(e,t,n,r,i){const s=e.getSortedVisibleDatasetMetas(),a=n[t];for(let o=0,l=s.length;o<l;++o){const{index:e,data:n}=s[o],{lo:l,hi:c}=Io(s[o],t,a,i);for(let t=l;t<=c;++t){const i=n[t];i.skip||r(i,e,t)}}}function Po(e,t,n,r,i){const s=[];if(!i&&!e.isPointInArea(t))return s;return Do(e,n,t,function(n,a,o){(i||Ms(n,e.chartArea,0))&&n.inRange(t.x,t.y,r)&&s.push({element:n,datasetIndex:a,index:o})},!0),s}function jo(e,t,n,r,i,s){let a=[];const o=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){const i=t?Math.abs(e.x-r.x):0,s=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(s,2))}}(n);let l=Number.POSITIVE_INFINITY;return Do(e,n,t,function(n,c,u){const h=n.inRange(t.x,t.y,i);if(r&&!h)return;const d=n.getCenterPoint(i);if(!(!!s||e.isPointInArea(d))&&!h)return;const f=o(t,d);f<l?(a=[{element:n,datasetIndex:c,index:u}],l=f):f===l&&a.push({element:n,datasetIndex:c,index:u})}),a}function Ro(e,t,n,r,i,s){return s||e.isPointInArea(t)?"r"!==n||r?jo(e,t,n,r,i,s):function(e,t,n,r){let i=[];return Do(e,n,t,function(e,n,s){const{startAngle:a,endAngle:o}=e.getProps(["startAngle","endAngle"],r),{angle:l}=qi(e,{x:t.x,y:t.y});Ji(l,a,o)&&i.push({element:e,datasetIndex:n,index:s})}),i}(e,t,n,i):[]}function Oo(e,t,n,r,i){const s=[],a="x"===n?"inXRange":"inYRange";let o=!1;return Do(e,n,t,(e,r,l)=>{e[a]&&e[a](t[n],i)&&(s.push({element:e,datasetIndex:r,index:l}),o=o||e.inRange(t.x,t.y,i))}),r&&!o?[]:s}var Mo={evaluateInteractionItems:Do,modes:{index(e,t,n,r){const i=Aa(t,e),s=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?Po(e,i,s,r,a):Ro(e,i,s,!1,r,a),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{const t=o[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})}),l):[]},dataset(e,t,n,r){const i=Aa(t,e),s=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?Po(e,i,s,r,a):Ro(e,i,s,!1,r,a);if(o.length>0){const t=o[0].datasetIndex,n=e.getDatasetMeta(t).data;o=[];for(let e=0;e<n.length;++e)o.push({element:n[e],datasetIndex:t,index:e})}return o},point:(e,t,n,r)=>Po(e,Aa(t,e),n.axis||"xy",r,n.includeInvisible||!1),nearest(e,t,n,r){const i=Aa(t,e),s=n.axis||"xy",a=n.includeInvisible||!1;return Ro(e,i,s,n.intersect,r,a)},x:(e,t,n,r)=>Oo(e,Aa(t,e),"x",n.intersect,r),y:(e,t,n,r)=>Oo(e,Aa(t,e),"y",n.intersect,r)}};const Lo=["left","top","right","bottom"];function Fo(e,t){return e.filter(e=>e.pos===t)}function zo(e,t){return e.filter(e=>-1===Lo.indexOf(e.pos)&&e.box.axis===t)}function Vo(e,t){return e.sort((e,n)=>{const r=t?n:e,i=t?e:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function Uo(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:r,stackWeight:i}=n;if(!e||!Lo.includes(r))continue;const s=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=i}return t}(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let s,a,o;for(s=0,a=e.length;s<a;++s){o=e[s];const{fullSize:a}=o.box,l=n[o.stack],c=l&&o.stackWeight/l.weight;o.horizontal?(o.width=c?c*r:a&&t.availableWidth,o.height=i):(o.width=r,o.height=c?c*i:a&&t.availableHeight)}return n}function Bo(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function Ho(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function $o(e,t,n,r){const{pos:i,box:s}=n,a=e.maxPadding;if(!ci(i)){n.size&&(e[i]-=n.size);const t=r[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?s.height:s.width),n.size=t.size/t.count,e[i]+=n.size}s.getPadding&&Ho(a,s.getPadding());const o=Math.max(0,t.outerWidth-Bo(a,e,"left","right")),l=Math.max(0,t.outerHeight-Bo(a,e,"top","bottom")),c=o!==e.w,u=l!==e.h;return e.w=o,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function Wo(e,t){const n=t.maxPadding;function r(e){const r={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{r[e]=Math.max(t[e],n[e])}),r}return r(e?["left","right"]:["top","bottom"])}function qo(e,t,n,r){const i=[];let s,a,o,l,c,u;for(s=0,a=e.length,c=0;s<a;++s){o=e[s],l=o.box,l.update(o.width||t.w,o.height||t.h,Wo(o.horizontal,t));const{same:a,other:h}=$o(t,n,o,r);c|=a&&i.length,u=u||h,l.fullSize||i.push(o)}return c&&qo(i,t,n,r)||u}function Go(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function Ko(e,t,n,r){const i=n.padding;let{x:s,y:a}=t;for(const o of e){const e=o.box,l=r[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){const r=t.w*c,s=l.size||e.height;Ti(l.start)&&(a=l.start),e.fullSize?Go(e,i.left,a,n.outerWidth-i.right-i.left,s):Go(e,t.left+l.placed,a,r,s),l.start=a,l.placed+=r,a=e.bottom}else{const r=t.h*c,a=l.size||e.width;Ti(l.start)&&(s=l.start),e.fullSize?Go(e,s,i.top,a,n.outerHeight-i.bottom-i.top):Go(e,s,t.top+l.placed,a,r),l.start=s,l.placed+=r,s=e.right}}t.x=s,t.y=a}var Qo={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=Xs(e.options.layout.padding),s=Math.max(t-i.width,0),a=Math.max(n-i.height,0),o=function(e){const t=function(e){const t=[];let n,r,i,s,a,o;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],({position:s,options:{stack:a,stackWeight:o=1}}=i),t.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:o});return t}(e),n=Vo(t.filter(e=>e.box.fullSize),!0),r=Vo(Fo(t,"left"),!0),i=Vo(Fo(t,"right")),s=Vo(Fo(t,"top"),!0),a=Vo(Fo(t,"bottom")),o=zo(t,"x"),l=zo(t,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(a).concat(o),chartArea:Fo(t,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(a).concat(o)}}(e.boxes),l=o.vertical,c=o.horizontal;gi(e.boxes,e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()});const u=l.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/u,hBoxMaxHeight:a/2}),d=Object.assign({},i);Ho(d,Xs(r));const f=Object.assign({maxPadding:d,w:s,h:a,x:i.left,y:i.top},i),p=Uo(l.concat(c),h);qo(o.fullSize,f,h,p),qo(l,f,h,p),qo(c,f,h,p)&&qo(l,f,h,p),function(e){const t=e.maxPadding;function n(n){const r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(f),Ko(o.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,Ko(o.rightAndBottom,f,h,p),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},gi(o.chartArea,t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class Jo{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}}class Yo extends Jo{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Xo="$chartjs",Zo={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},el=e=>null===e||""===e;const tl=!!ja&&{passive:!0};function nl(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,tl)}function rl(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function il(e,t,n){const r=e.canvas,i=new MutationObserver(e=>{let t=!1;for(const n of e)t=t||rl(n.addedNodes,r),t=t&&!rl(n.removedNodes,r);t&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function sl(e,t,n){const r=e.canvas,i=new MutationObserver(e=>{let t=!1;for(const n of e)t=t||rl(n.removedNodes,r),t=t&&!rl(n.addedNodes,r);t&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const al=new Map;let ol=0;function ll(){const e=window.devicePixelRatio;e!==ol&&(ol=e,al.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function cl(e,t,n){const r=e.canvas,i=r&&Sa(r);if(!i)return;const s=as((e,t)=>{const r=i.clientWidth;n(e,t),r<i.clientWidth&&n()},window),a=new ResizeObserver(e=>{const t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||s(n,r)});return a.observe(i),function(e,t){al.size||window.addEventListener("resize",ll),al.set(e,t)}(e,s),a}function ul(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){al.delete(e),al.size||window.removeEventListener("resize",ll)}(e)}function hl(e,t,n){const r=e.canvas,i=as(t=>{null!==e.ctx&&n(function(e,t){const n=Zo[e.type]||e.type,{x:r,y:i}=Aa(e,t);return{type:n,chart:t,native:e,x:void 0!==r?r:null,y:void 0!==i?i:null}}(t,e))},e);return function(e,t,n){e&&e.addEventListener(t,n,tl)}(r,t,i),i}class dl extends Jo{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[Xo]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",el(i)){const t=Ra(e,"width");void 0!==t&&(e.width=t)}if(el(r))if(""===e.style.height)e.height=e.width/(t||2);else{const t=Ra(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[Xo])return!1;const n=t[Xo].initial;["height","width"].forEach(e=>{const r=n[e];oi(r)?t.removeAttribute(e):t.setAttribute(e,r)});const r=n.style||{};return Object.keys(r).forEach(e=>{t.style[e]=r[e]}),t.width=t.width,delete t[Xo],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),i={attach:il,detach:sl,resize:cl}[t]||hl;r[t]=i(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),r=n[t];if(!r)return;({attach:ul,detach:ul,resize:ul}[t]||nl)(e,t,r),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return Da(e,t,n,r)}isAttached(e){const t=e&&Sa(e);return!(!t||!t.isConnected)}}class fl{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Ui(this.x)&&Ui(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const r={};return e.forEach(e=>{r[e]=n[e]&&n[e].active()?n[e]._to:this[e]}),r}}function pl(e,t){const n=e.options.ticks,r=function(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}(e),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?function(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}(t):[],a=s.length,o=s[0],l=s[a-1],c=[];if(a>i)return function(e,t,n,r){let i,s=0,a=n[0];for(r=Math.ceil(r),i=0;i<e.length;i++)i===a&&(t.push(e[i]),s++,a=n[s*r])}(t,c,s,a/i),c;const u=function(e,t,n){const r=function(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}(e),i=t.length/n;if(!r)return Math.max(i,1);const s=function(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(0|n)&&t.push(n),t.sort((e,t)=>e-t).pop(),t}(r);for(let a=0,o=s.length-1;a<o;a++){const e=s[a];if(e>i)return e}return Math.max(i,1)}(s,t,i);if(a>0){let e,n;const r=a>1?Math.round((l-o)/(a-1)):null;for(gl(t,c,u,oi(r)?0:o-r,o),e=0,n=a-1;e<n;e++)gl(t,c,u,s[e],s[e+1]);return gl(t,c,u,l,oi(r)?t.length:l+r),c}return gl(t,c,u),c}function gl(e,t,n,r,i){const s=di(r,0),a=Math.min(di(i,e.length),e.length);let o,l,c,u=0;for(n=Math.ceil(n),i&&(o=i-r,n=o/Math.floor(o/n)),c=s;c<0;)u++,c=Math.round(s+u*n);for(l=Math.max(s,0);l<a;l++)l===c&&(t.push(e[l]),u++,c=Math.round(s+u*n))}const ml=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,yl=(e,t)=>Math.min(t||e,e);function vl(e,t){const n=[],r=e.length/t,i=e.length;let s=0;for(;s<i;s+=r)n.push(e[Math.floor(s)]);return n}function bl(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),s=e._startPixel,a=e._endPixel,o=1e-6;let l,c=e.getPixelForTick(i);if(!(n&&(l=1===r?Math.max(c-s,a-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(i-1))/2,c+=i<t?l:-l,c<s-o||c>a+o)))return c}function xl(e){return e.drawTicks?e.tickLength:0}function wl(e,t){if(!e.display)return 0;const n=Zs(e.font,t),r=Xs(e.padding);return(li(e.text)?e.text.length:1)*n.lineHeight+r.height}function _l(e,t,n){let r=os(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=(e=>"left"===e?"right":"right"===e?"left":e)(r)),r}class kl extends fl{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=hi(e,Number.POSITIVE_INFINITY),t=hi(t,Number.NEGATIVE_INFINITY),n=hi(n,Number.POSITIVE_INFINITY),r=hi(r,Number.NEGATIVE_INFINITY),{min:hi(e,n),max:hi(t,r),minDefined:ui(e),maxDefined:ui(t)}}getMinMax(e){let t,{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds();if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let o=0,l=a.length;o<l;++o)t=a[o].controller.getMinMax(this,e),i||(n=Math.min(n,t.min)),s||(r=Math.max(r,t.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:hi(n,hi(r,n)),max:hi(r,hi(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){pi(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:r,grace:i,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:r,max:i}=e,s=fi(t,(i-r)/2),a=(e,t)=>n&&0===e?0:e+t;return{min:a(r,-Math.abs(s)),max:a(i,s)}}(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=a<this.ticks.length;this._convertTicksToLabels(o?vl(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=pl(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){pi(this.options.afterUpdate,[this])}beforeSetDimensions(){pi(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){pi(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),pi(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){pi(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,r,i;for(n=0,r=e.length;n<r;n++)i=e[n],i.label=pi(t.callback,[i.value,n,e],this)}afterTickToLabelConversion(){pi(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){pi(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=yl(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,i=t.maxRotation;let s,a,o,l=r;if(!this._isVisible()||!t.display||r>=i||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const c=this._getLabelSizes(),u=c.widest.width,h=c.highest.height,d=Yi(this.chart.width-u,0,this.maxWidth);s=e.offset?this.maxWidth/n:d/(n-1),u+6>s&&(s=d/(n-(e.offset?.5:1)),a=this.maxHeight-xl(e.grid)-t.padding-wl(e.title,this.chart.options.font),o=Math.sqrt(u*u+h*h),l=$i(Math.min(Math.asin(Yi((c.highest.height+6)/s,-1,1)),Math.asin(Yi(a/o,-1,1))-Math.asin(Yi(h/o,-1,1)))),l=Math.max(r,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){pi(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){pi(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:i}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){const s=wl(r,t.options.font);if(a?(e.width=this.maxWidth,e.height=xl(i)+s):(e.height=this.maxHeight,e.width=xl(i)+s),n.display&&this.ticks.length){const{first:t,last:r,widest:i,highest:s}=this._getLabelSizes(),o=2*n.padding,l=Hi(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(a){const t=n.mirror?0:u*i.width+c*s.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{const t=n.mirror?0:c*i.width+u*s.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,r,u,c)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){const{ticks:{align:i,padding:s},position:a}=this.options,o=0!==this.labelRotation,l="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const a=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,h=0;o?l?(u=r*e.width,h=n*t.height):(u=n*e.height,h=r*t.width):"start"===i?h=t.width:"end"===i?u=e.width:"inner"!==i&&(u=e.width/2,h=t.width/2),this.paddingLeft=Math.max((u-a+s)*this.width/(this.width-a),0),this.paddingRight=Math.max((h-c+s)*this.width/(this.width-c),0)}else{let n=t.height/2,r=e.height/2;"start"===i?(n=0,r=e.height):"end"===i&&(n=t.height,r=0),this.paddingTop=n+s,this.paddingBottom=r+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){pi(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)oi(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=vl(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:r,_longestTextCache:i}=this,s=[],a=[],o=Math.floor(t/yl(t,n));let l,c,u,h,d,f,p,g,m,y,v,b=0,x=0;for(l=0;l<t;l+=o){if(h=e[l].label,d=this._resolveTickFontOptions(l),r.font=f=d.string,p=i[f]=i[f]||{data:{},gc:[]},g=d.lineHeight,m=y=0,oi(h)||li(h)){if(li(h))for(c=0,u=h.length;c<u;++c)v=h[c],oi(v)||li(v)||(m=Is(r,p.data,p.gc,m,v),y+=g)}else m=Is(r,p.data,p.gc,m,h),y=g;s.push(m),a.push(y),b=Math.max(m,b),x=Math.max(y,x)}!function(e,t){gi(e,e=>{const n=e.gc,r=n.length/2;let i;if(r>t){for(i=0;i<r;++i)delete e.data[n[i]];n.splice(0,r)}})}(i,t);const w=s.indexOf(b),_=a.indexOf(x),k=e=>({width:s[e]||0,height:a[e]||0});return{first:k(0),last:k(t-1),widest:k(w),highest:k(_),widths:s,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Yi(this._alignToPixels?Ps(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return ta(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=ta(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=Hi(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),i=this._getLabelSizes(),s=e.autoSkipPadding||0,a=i?i.widest.width+s:0,o=i?i.highest.height+s:0;return this.isHorizontal()?o*n>a*r?a/n:o/r:o*r<a*n?o/n:a/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,r=this.options,{grid:i,position:s,border:a}=r,o=i.offset,l=this.isHorizontal(),c=this.ticks.length+(o?1:0),u=xl(i),h=[],d=a.setContext(this.getContext()),f=d.display?d.width:0,p=f/2,g=function(e){return Ps(n,e,f)};let m,y,v,b,x,w,_,k,S,E,T,C;if("top"===s)m=g(this.bottom),w=this.bottom-u,k=m-p,E=g(e.top)+p,C=e.bottom;else if("bottom"===s)m=g(this.top),E=e.top,C=g(e.bottom)-p,w=m+p,k=this.top+u;else if("left"===s)m=g(this.right),x=this.right-u,_=m-p,S=g(e.left)+p,T=e.right;else if("right"===s)m=g(this.left),S=e.left,T=g(e.right)-p,x=m+p,_=this.left+u;else if("x"===t){if("center"===s)m=g((e.top+e.bottom)/2+.5);else if(ci(s)){const e=Object.keys(s)[0],t=s[e];m=g(this.chart.scales[e].getPixelForValue(t))}E=e.top,C=e.bottom,w=m+p,k=w+u}else if("y"===t){if("center"===s)m=g((e.left+e.right)/2);else if(ci(s)){const e=Object.keys(s)[0],t=s[e];m=g(this.chart.scales[e].getPixelForValue(t))}x=m-p,_=x-u,S=e.left,T=e.right}const N=di(r.ticks.maxTicksLimit,c),A=Math.max(1,Math.ceil(c/N));for(y=0;y<c;y+=A){const e=this.getContext(y),t=i.setContext(e),r=a.setContext(e),s=t.lineWidth,c=t.color,u=r.dash||[],d=r.dashOffset,f=t.tickWidth,p=t.tickColor,g=t.tickBorderDash||[],m=t.tickBorderDashOffset;v=bl(this,y,o),void 0!==v&&(b=Ps(n,v,s),l?x=_=S=T=b:w=k=E=C=b,h.push({tx1:x,ty1:w,tx2:_,ty2:k,x1:S,y1:E,x2:T,y2:C,width:s,color:c,borderDash:u,borderDashOffset:d,tickWidth:f,tickColor:p,tickBorderDash:g,tickBorderDashOffset:m}))}return this._ticksLength=c,this._borderValue=m,h}_computeLabelItems(e){const t=this.axis,n=this.options,{position:r,ticks:i}=n,s=this.isHorizontal(),a=this.ticks,{align:o,crossAlign:l,padding:c,mirror:u}=i,h=xl(n.grid),d=h+c,f=u?-c:d,p=-Hi(this.labelRotation),g=[];let m,y,v,b,x,w,_,k,S,E,T,C,N="middle";if("top"===r)w=this.bottom-f,_=this._getXAxisLabelAlignment();else if("bottom"===r)w=this.top+f,_=this._getXAxisLabelAlignment();else if("left"===r){const e=this._getYAxisLabelAlignment(h);_=e.textAlign,x=e.x}else if("right"===r){const e=this._getYAxisLabelAlignment(h);_=e.textAlign,x=e.x}else if("x"===t){if("center"===r)w=(e.top+e.bottom)/2+d;else if(ci(r)){const e=Object.keys(r)[0],t=r[e];w=this.chart.scales[e].getPixelForValue(t)+d}_=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)x=(e.left+e.right)/2-d;else if(ci(r)){const e=Object.keys(r)[0],t=r[e];x=this.chart.scales[e].getPixelForValue(t)}_=this._getYAxisLabelAlignment(h).textAlign}"y"===t&&("start"===o?N="top":"end"===o&&(N="bottom"));const A=this._getLabelSizes();for(m=0,y=a.length;m<y;++m){v=a[m],b=v.label;const e=i.setContext(this.getContext(m));k=this.getPixelForTick(m)+i.labelOffset,S=this._resolveTickFontOptions(m),E=S.lineHeight,T=li(b)?b.length:1;const t=T/2,n=e.color,o=e.textStrokeColor,c=e.textStrokeWidth;let h,d=_;if(s?(x=k,"inner"===_&&(d=m===y-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),C="top"===r?"near"===l||0!==p?-T*E+E/2:"center"===l?-A.highest.height/2-t*E+E:-A.highest.height+E/2:"near"===l||0!==p?E/2:"center"===l?A.highest.height/2-t*E:A.highest.height-T*E,u&&(C*=-1),0===p||e.showLabelBackdrop||(x+=E/2*Math.sin(p))):(w=k,C=(1-T)*E/2),e.showLabelBackdrop){const t=Xs(e.backdropPadding),n=A.heights[m],r=A.widths[m];let i=C-t.top,s=0-t.left;switch(N){case"middle":i-=n/2;break;case"bottom":i-=n}switch(_){case"center":s-=r/2;break;case"right":s-=r;break;case"inner":m===y-1?s-=r:m>0&&(s-=r/2)}h={left:s,top:i,width:r+t.width,height:n+t.height,color:e.backdropColor}}g.push({label:b,font:S,textOffset:C,options:{rotation:p,color:n,strokeColor:o,strokeWidth:c,textAlign:d,textBaseline:N,translation:[x,w],backdrop:h}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Hi(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,s=e+i,a=this._getLabelSizes().widest.width;let o,l;return"left"===t?r?(l=this.right+i,"near"===n?o="left":"center"===n?(o="center",l+=a/2):(o="right",l+=a)):(l=this.right-s,"near"===n?o="right":"center"===n?(o="center",l-=a/2):(o="left",l=this.left)):"right"===t?r?(l=this.left+i,"near"===n?o="right":"center"===n?(o="center",l-=a/2):(o="left",l-=a)):(l=this.left+s,"near"===n?o="left":"center"===n?(o="center",l+=a/2):(o="right",l=this.right)):o="right",{textAlign:o,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:r,width:i,height:s}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,i,s),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex(t=>t.value===e);if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,s;const a=(e,t,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(i=0,s=r.length;i<s;++i){const e=r[i];t.drawOnChartArea&&a({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&a({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:r}}=this,i=n.setContext(this.getContext()),s=n.display?i.width:0;if(!s)return;const a=r.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let l,c,u,h;this.isHorizontal()?(l=Ps(e,this.left,s)-s/2,c=Ps(e,this.right,a)+a/2,u=h=o):(u=Ps(e,this.top,s)-s/2,h=Ps(e,this.bottom,a)+a/2,l=c=o),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(l,u),t.lineTo(c,h),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&Ls(t,n);const r=this.getLabelItems(e);for(const i of r){const e=i.options,n=i.font;Hs(t,i.label,0,i.textOffset,n,e)}n&&Fs(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const i=Zs(n.font),s=Xs(n.padding),a=n.align;let o=i.lineHeight/2;"bottom"===t||"center"===t||ci(t)?(o+=s.bottom,li(n.text)&&(o+=i.lineHeight*(n.text.length-1))):o+=s.top;const{titleX:l,titleY:c,maxWidth:u,rotation:h}=function(e,t,n,r){const{top:i,left:s,bottom:a,right:o,chart:l}=e,{chartArea:c,scales:u}=l;let h,d,f,p=0;const g=a-i,m=o-s;if(e.isHorizontal()){if(d=ls(r,s,o),ci(n)){const e=Object.keys(n)[0],r=n[e];f=u[e].getPixelForValue(r)+g-t}else f="center"===n?(c.bottom+c.top)/2+g-t:ml(e,n,t);h=o-s}else{if(ci(n)){const e=Object.keys(n)[0],r=n[e];d=u[e].getPixelForValue(r)-m+t}else d="center"===n?(c.left+c.right)/2-m+t:ml(e,n,t);f=ls(r,a,i),p="left"===n?-Ri:Ri}return{titleX:d,titleY:f,maxWidth:h,rotation:p}}(this,o,t,a);Hs(e,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:h,textAlign:_l(a,t,r),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=di(e.grid&&e.grid.z,-1),r=di(e.border&&e.border.z,0);return this._isVisible()&&this.draw===kl.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,s;for(i=0,s=t.length;i<s;++i){const s=t[i];s[n]!==this.id||e&&s.type!==e||r.push(s)}return r}_resolveTickFontOptions(e){return Zs(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Sl{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const r=this.items,i=e.id,s=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,function(e,t,n){const r=xi(Object.create(null),[n?As.get(n):{},As.get(t),e.defaults]);As.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),i=r.pop(),s=[e].concat(r).join("."),a=t[n].split("."),o=a.pop(),l=a.join(".");As.route(s,i,l,o)})}(t,e.defaultRoutes);e.descriptors&&As.describe(t,e.descriptors)}(e,s,n),this.override&&As.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in As[r]&&(delete As[r][n],this.override&&delete Ss[n])}}class El{constructor(){this.controllers=new Sl(po,"datasets",!0),this.elements=new Sl(fl,"elements"),this.plugins=new Sl(Object,"plugins"),this.scales=new Sl(kl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach(t=>{const r=n||this._getRegistryForType(t);n||r.isForType(t)||r===this.plugins&&t.id?this._exec(e,r,t):gi(t,t=>{const r=n||this._getRegistryForType(t);this._exec(e,r,t)})})}_exec(e,t,n){const r=Ei(e);pi(n["before"+r],[],n),t[e](n),pi(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var Tl=new El;class Cl{constructor(){this._init=[]}notify(e,t,n,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),s=this._notify(i,e,t,n);return"afterDestroy"===t&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,t,n,r){r=r||{};for(const i of e){const e=i.plugin;if(!1===pi(e[n],[t,r,i.options],e)&&r.cancelable)return!1}return!0}invalidate(){oi(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,r=di(n.options&&n.options.plugins,{}),i=function(e){const t={},n=[],r=Object.keys(Tl.plugins.items);for(let s=0;s<r.length;s++)n.push(Tl.getPlugin(r[s]));const i=e.plugins||[];for(let s=0;s<i.length;s++){const e=i[s];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==r||t?function(e,t,n,r){let{plugins:i,localIds:s}=t;const a=[],o=e.getContext();for(const l of i){const t=l.id,i=Nl(n[t],r);null!==i&&a.push({plugin:l,options:Al(e.config,{plugin:l,local:s[t]},i,o)})}return a}(e,i,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,r=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}function Nl(e,t){return t||!1!==e?!0===e?{}:e:null}function Al(e,t,n,r){let{plugin:i,local:s}=t;const a=e.pluginScopeKeys(i),o=e.getOptionScopes(n,a);return s&&i.defaults&&o.push(i.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Il(e,t){const n=As.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function Dl(e){if("x"===e||"y"===e||"r"===e)return e}function Pl(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function jl(e){if(Dl(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const i of n){const t=i.axis||Pl(i.position)||e.length>1&&Dl(e[0].toLowerCase());if(t)return t}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Rl(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function Ol(e,t){const n=Ss[e.type]||{scales:{}},r=t.scales||{},i=Il(e.type,t),s=Object.create(null);return Object.keys(r).forEach(t=>{const a=r[t];if(!ci(a))return console.error(`Invalid scale configuration for scale: ${t}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const o=jl(t,a,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(n.length)return Rl(e,"x",n[0])||Rl(e,"y",n[0])}return{}}(t,e),As.scales[a.type]),l=function(e,t){return e===t?"_index_":"_value_"}(o,i),c=n.scales||{};s[t]=wi(Object.create(null),[{axis:o},a,c[o],c[l]])}),e.data.datasets.forEach(n=>{const i=n.type||e.type,a=n.indexAxis||Il(i,t),o=(Ss[i]||{}).scales||{};Object.keys(o).forEach(e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,a),i=n[t+"AxisID"]||t;s[i]=s[i]||Object.create(null),wi(s[i],[{axis:t},r[i],o[e]])})}),Object.keys(s).forEach(e=>{const t=s[e];wi(t,[As.scales[t.type],As.scale])}),s}function Ml(e){const t=e.options||(e.options={});t.plugins=di(t.plugins,{}),t.scales=Ol(e,t)}function Ll(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const Fl=new Map,zl=new Set;function Vl(e,t){let n=Fl.get(e);return n||(n=t(),Fl.set(e,n),zl.add(n)),n}const Ul=(e,t,n)=>{const r=Si(t,n);void 0!==r&&e.add(r)};class Bl{constructor(e){this._config=function(e){return(e=e||{}).data=Ll(e.data),Ml(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Ll(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Ml(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Vl(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Vl(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Vl(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id;return Vl(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){const{options:r,type:i}=this,s=this._cachedScopes(e,n),a=s.get(t);if(a)return a;const o=new Set;t.forEach(t=>{e&&(o.add(e),t.forEach(t=>Ul(o,e,t))),t.forEach(e=>Ul(o,r,e)),t.forEach(e=>Ul(o,Ss[i]||{},e)),t.forEach(e=>Ul(o,As,e)),t.forEach(e=>Ul(o,Es,e))});const l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),zl.has(t)&&s.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,Ss[t]||{},As.datasets[t]||{},{type:t},As,Es]}resolveNamedOptions(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const i={$shared:!0},{resolver:s,subPrefixes:a}=Hl(this._resolverCache,e,r);let o=s;if(function(e,t){const{isScriptable:n,isIndexable:r}=ia(e);for(const i of t){const t=n(i),s=r(i),a=(s||t)&&e[i];if(t&&(Ci(a)||$l(a))||s&&li(a))return!0}return!1}(s,t)){i.$shared=!1;o=ra(s,n=Ci(n)?n():n,this.createResolver(e,n,a))}for(const l of t)i[l]=o[l];return i}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0;const{resolver:i}=Hl(this._resolverCache,e,n);return ci(t)?ra(i,t,void 0,r):i}}function Hl(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let s=r.get(i);if(!s){s={resolver:na(t,n),subPrefixes:n.filter(e=>!e.toLowerCase().includes("hover"))},r.set(i,s)}return s}const $l=e=>ci(e)&&Object.getOwnPropertyNames(e).some(t=>Ci(e[t]));const Wl=["top","bottom","left","right","chartArea"];function ql(e,t){return"top"===e||"bottom"===e||-1===Wl.indexOf(e)&&"x"===t}function Gl(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function Kl(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),pi(n&&n.onComplete,[e],t)}function Ql(e){const t=e.chart,n=t.options.animation;pi(n&&n.onProgress,[e],t)}function Jl(e){return ka()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Yl={},Xl=e=>{const t=Jl(e);return Object.values(Yl).filter(e=>e.canvas===t).pop()};function Zl(e,t,n){const r=Object.keys(e);for(const i of r){const r=+i;if(r>=t){const s=e[i];delete e[i],(n>0||r>t)&&(e[r+n]=s)}}}class ec{static defaults=(()=>As)();static instances=(()=>Yl)();static overrides=(()=>Ss)();static registry=(()=>Tl)();static version="4.5.0";static getChart=(()=>Xl)();static register(){Tl.add(...arguments),tc()}static unregister(){Tl.remove(...arguments),tc()}constructor(e,t){const n=this.config=new Bl(t),r=Jl(e),i=Xl(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!ka()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Yo:dl}(r)),this.platform.updateConfig(n);const a=this.platform.acquireContext(r,s.aspectRatio),o=a&&a.canvas,l=o&&o.height,c=o&&o.width;this.id=ai(),this.ctx=a,this.canvas=o,this.width=c,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Cl,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}(e=>this.update(e),s.resizeDelay||0),this._dataChanges=[],Yl[this.id]=this,a&&o?(Ya.listen(this,"complete",Kl),Ya.listen(this,"progress",Ql),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:r,_aspectRatio:i}=this;return oi(e)?t&&i?i:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Tl}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Pa(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return js(this.canvas,this.ctx),this}stop(){return Ya.stop(this),this}resize(e,t){Ya.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(r,e,t,i),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,Pa(this,a,!0)&&(this.notifyPlugins("resize",{size:s}),pi(n.onResize,[this,s],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){gi(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,r=Object.keys(n).reduce((e,t)=>(e[t]=!1,e),{});let i=[];t&&(i=i.concat(Object.keys(t).map(e=>{const n=t[e],r=jl(e,n),i="r"===r,s="x"===r;return{options:n,dposition:i?"chartArea":s?"bottom":"left",dtype:i?"radialLinear":s?"category":"linear"}}))),gi(i,t=>{const i=t.options,s=i.id,a=jl(s,i),o=di(i.type,t.dtype);void 0!==i.position&&ql(i.position,a)===ql(t.dposition)||(i.position=t.dposition),r[s]=!0;let l=null;if(s in n&&n[s].type===o)l=n[s];else{l=new(Tl.getScale(o))({id:s,type:o,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(i,e)}),gi(r,(e,t)=>{e||delete n[t]}),gi(n,e=>{Qo.configure(this,e,e.options),Qo.addBox(this,e)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((e,t)=>e.index-t.index),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(Gl("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,n)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=t.length;n<r;n++){const r=t[n];let i=this.getDatasetMeta(n);const s=r.type||this.config.type;if(i.type&&i.type!==s&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=s,i.indexAxis=r.indexAxis||Il(s,this.options),i.order=r.order||0,i.index=n,i.label=""+r.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const t=Tl.getController(s),{datasetElementType:r,dataElementType:a}=As.datasets[s];Object.assign(t,{dataElementType:Tl.getElement(a),datasetElementType:r&&Tl.getElement(r)}),i.controller=new t(this,n),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){gi(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!r&&-1===i.indexOf(e);e.buildOrUpdateElements(t),s=Math.max(+e.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),r||gi(i,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Gl("z","_idx"));const{_active:a,_lastEvent:o}=this;o?this._eventHandler(o,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){gi(this.scales,e=>{Qo.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);Ni(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of t){Zl(e,r,"_removeElements"===n?-i:i)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),r=n(0);for(let i=1;i<t;i++)if(!Ni(r,n(i)))return;return Array.from(r).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Qo.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],gi(this.boxes,e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,Ci(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Ya.has(this)?this.attached&&!Ya.running(this)&&Ya.start(this):(this.draw(),Kl({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let r,i;for(r=0,i=t.length;r<i;++r){const i=t[r];e&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},r=Qa(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",n)&&(r&&Ls(t,r),e.controller.draw(),r&&Fs(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return Ms(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,r){const i=Mo.modes[t];return"function"===typeof i?i(this,e,n,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let r=n.filter(e=>e&&e._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=ta(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const r=n?"show":"hide",i=this.getDatasetMeta(e),s=i.controller._resolveAnimations(void 0,r);Ti(t)?(i.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),s.update(i,{visible:n}),this.update(t=>t.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Ya.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),js(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Yl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};gi(this.options.events,e=>n(e,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(n,r)=>{e[n]&&(t.removeEventListener(this,n,r),delete e[n])},i=(e,t)=>{this.canvas&&this.resize(e,t)};let s;const a=()=>{r("attach",a),this.attached=!0,this.resize(),n("resize",i),n("detach",s)};s=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",a)},t.isAttached(this.canvas)?a():s()}unbindEvents(){gi(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},gi(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const r=n?"set":"remove";let i,s,a,o;for("dataset"===t&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),a=0,o=e.length;a<o;++a){s=e[a];const t=s&&this.getDatasetMeta(s.datasetIndex).controller;t&&t[r+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(e=>{let{datasetIndex:t,index:n}=e;const r=this.getDatasetMeta(t);if(!r)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:r.data[n],index:n}});!mi(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,n){const r=this.options.hover,i=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),s=i(t,e),a=n?e:i(e,t);s.length&&this.updateHoverStyle(s,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const i=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:r=[],options:i}=this,s=t,a=this._getActiveElements(e,r,n,s),o=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,n,o);n&&(this._lastEvent=null,pi(i.onHover,[e,a,this],this),o&&pi(i.onClick,[e,a,this],this));const c=!mi(a,r);return(c||t)&&(this._active=a,this._updateHoverStyles(a,r,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}}function tc(){return gi(ec.instances,e=>e._plugins.invalidate())}function nc(e,t,n,r){const i=Qs(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const s=(n-t)/2,a=Math.min(s,r*t/2),o=e=>{const t=(n-Math.min(s,e))*r/2;return Yi(e,0,Math.min(s,t))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:Yi(i.innerStart,0,a),innerEnd:Yi(i.innerEnd,0,a)}}function rc(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function ic(e,t,n,r,i,s){const{x:a,y:o,startAngle:l,pixelMargin:c,innerRadius:u}=t,h=Math.max(t.outerRadius+r+n-c,0),d=u>0?u+r+n+c:0;let f=0;const p=i-l;if(r){const e=((u>0?u-r:0)+(h>0?h-r:0))/2;f=(p-(0!==e?p*e/(e+r):p))/2}const g=(p-Math.max(.001,p*h-n/Ai)/h)/2,m=l+g+f,y=i-g-f,{outerStart:v,outerEnd:b,innerStart:x,innerEnd:w}=nc(t,d,h,y-m),_=h-v,k=h-b,S=m+v/_,E=y-b/k,T=d+x,C=d+w,N=m+x/T,A=y-w/C;if(e.beginPath(),s){const t=(S+E)/2;if(e.arc(a,o,h,S,t),e.arc(a,o,h,t,E),b>0){const t=rc(k,E,a,o);e.arc(t.x,t.y,b,E,y+Ri)}const n=rc(C,y,a,o);if(e.lineTo(n.x,n.y),w>0){const t=rc(C,A,a,o);e.arc(t.x,t.y,w,y+Ri,A+Math.PI)}const r=(y-w/d+(m+x/d))/2;if(e.arc(a,o,d,y-w/d,r,!0),e.arc(a,o,d,r,m+x/d,!0),x>0){const t=rc(T,N,a,o);e.arc(t.x,t.y,x,N+Math.PI,m-Ri)}const i=rc(_,m,a,o);if(e.lineTo(i.x,i.y),v>0){const t=rc(_,S,a,o);e.arc(t.x,t.y,v,m-Ri,S)}}else{e.moveTo(a,o);const t=Math.cos(S)*h+a,n=Math.sin(S)*h+o;e.lineTo(t,n);const r=Math.cos(E)*h+a,i=Math.sin(E)*h+o;e.lineTo(r,i)}e.closePath()}function sc(e,t,n,r,i){const{fullCircles:s,startAngle:a,circumference:o,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d,borderRadius:f}=l,p="inner"===l.borderAlign;if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=d,p?(e.lineWidth=2*c,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let g=t.endAngle;if(s){ic(e,t,n,r,g,i);for(let t=0;t<s;++t)e.stroke();isNaN(o)||(g=a+(o%Ii||Ii))}p&&function(e,t,n){const{startAngle:r,pixelMargin:i,x:s,y:a,outerRadius:o,innerRadius:l}=t;let c=i/o;e.beginPath(),e.arc(s,a,o,r-c,n+c),l>i?(c=i/l,e.arc(s,a,l,n+c,r-c,!0)):e.arc(s,a,i,n+Ri,r-Ri),e.closePath(),e.clip()}(e,t,g),l.selfJoin&&g-a>=Ai&&0===f&&"miter"!==u&&function(e,t,n){const{startAngle:r,x:i,y:s,outerRadius:a,innerRadius:o,options:l}=t,{borderWidth:c,borderJoinStyle:u}=l,h=Math.min(c/a,Qi(r-n));if(e.beginPath(),e.arc(i,s,a-c/2,r+h/2,n-h/2),o>0){const t=Math.min(c/o,Qi(r-n));e.arc(i,s,o+c/2,n-t/2,r+t/2,!0)}else{const t=Math.min(c/2,a*Qi(r-n));if("round"===u)e.arc(i,s,t,n-Ai/2,r+Ai/2,!0);else if("bevel"===u){const a=2*t*t,o=-a*Math.cos(n+Ai/2)+i,l=-a*Math.sin(n+Ai/2)+s,c=a*Math.cos(r+Ai/2)+i,u=a*Math.sin(r+Ai/2)+s;e.lineTo(o,l),e.lineTo(c,u)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}(e,t,g),s||(ic(e,t,n,r,g,i),e.stroke())}class ac extends fl{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.getProps(["x","y"],n),{angle:i,distance:s}=qi(r,{x:e,y:t}),{startAngle:a,endAngle:o,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=(this.options.spacing+this.options.borderWidth)/2,d=di(u,o-a),f=Ji(i,a,o)&&a!==o,p=d>=Ii||f,g=Xi(s,l+h,c+h);return p&&g}getCenterPoint(e){const{x:t,y:n,startAngle:r,endAngle:i,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:o,spacing:l}=this.options,c=(r+i)/2,u=(s+a+l+o)/2;return{x:t+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,r=(t.offset||0)/4,i=(t.spacing||0)/2,s=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>Ii?Math.floor(n/Ii):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*r,Math.sin(a)*r);const o=r*(1-Math.sin(Math.min(Ai,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,r,i){const{fullCircles:s,startAngle:a,circumference:o}=t;let l=t.endAngle;if(s){ic(e,t,n,r,l,i);for(let t=0;t<s;++t)e.fill();isNaN(o)||(l=a+(o%Ii||Ii))}ic(e,t,n,r,l,i),e.fill()}(e,this,o,i,s),sc(e,this,o,i,s),e.restore()}}function oc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=di(n.borderCapStyle,t.borderCapStyle),e.setLineDash(di(n.borderDash,t.borderDash)),e.lineDashOffset=di(n.borderDashOffset,t.borderDashOffset),e.lineJoin=di(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=di(n.borderWidth,t.borderWidth),e.strokeStyle=di(n.borderColor,t.borderColor)}function lc(e,t,n){e.lineTo(n.x,n.y)}function cc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.length,{start:i=0,end:s=r-1}=n,{start:a,end:o}=t,l=Math.max(i,a),c=Math.min(s,o),u=i<a&&s<a||i>o&&s>o;return{count:r,start:l,loop:t.loop,ilen:c<l&&!u?r+c-l:c-l}}function uc(e,t,n,r){const{points:i,options:s}=t,{count:a,start:o,loop:l,ilen:c}=cc(i,n,r),u=function(e){return e.stepped?zs:e.tension||"monotone"===e.cubicInterpolationMode?Vs:lc}(s);let h,d,f,{move:p=!0,reverse:g}=r||{};for(h=0;h<=c;++h)d=i[(o+(g?c-h:h))%a],d.skip||(p?(e.moveTo(d.x,d.y),p=!1):u(e,f,d,g,s.stepped),f=d);return l&&(d=i[(o+(g?c:0))%a],u(e,f,d,g,s.stepped)),!!l}function hc(e,t,n,r){const i=t.points,{count:s,start:a,ilen:o}=cc(i,n,r),{move:l=!0,reverse:c}=r||{};let u,h,d,f,p,g,m=0,y=0;const v=e=>(a+(c?o-e:e))%s,b=()=>{f!==p&&(e.lineTo(m,p),e.lineTo(m,f),e.lineTo(m,g))};for(l&&(h=i[v(0)],e.moveTo(h.x,h.y)),u=0;u<=o;++u){if(h=i[v(u)],h.skip)continue;const t=h.x,n=h.y,r=0|t;r===d?(n<f?f=n:n>p&&(p=n),m=(y*m+t)/++y):(b(),e.lineTo(t,n),d=r,y=0,f=p=n),g=n}b()}function dc(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?hc:uc}const fc="function"===typeof Path2D;function pc(e,t,n,r){fc&&!t.options.segment?function(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),oc(e,t.options),e.stroke(i)}(e,t,n,r):function(e,t,n,r){const{segments:i,options:s}=t,a=dc(t);for(const o of i)oc(e,s,o.style),e.beginPath(),a(e,t,o,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}(e,t,n,r)}class gc extends fl{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;_a(this._points,n,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const s=!!e._loop,{start:a,end:o}=function(e,t,n,r){let i=0,s=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(s+=i);s>i&&e[s%t].skip;)s--;return s%=t,{start:i,end:s}}(n,i,s,r);return Wa(e,!0===r?[{start:a,end:o,loop:s}]:function(e,t,n,r){const i=e.length,s=[];let a,o=t,l=e[t];for(a=t+1;a<=n;++a){const n=e[a%i];n.skip||n.stop?l.skip||(r=!1,s.push({start:t%i,end:(a-1)%i,loop:r}),t=o=n.stop?a:null):(o=a,l.skip&&(t=a)),l=n}return null!==o&&s.push({start:t%i,end:o%i,loop:r}),s}(n,a,o<a?o+i:o,!!e._fullLoop&&0===a&&o===i-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,r=e[t],i=this.points,s=$a(this,{property:t,start:r,end:r});if(!s.length)return;const a=[],o=function(e){return e.stepped?Ma:e.tension||"monotone"===e.cubicInterpolationMode?La:Oa}(n);let l,c;for(l=0,c=s.length;l<c;++l){const{start:c,end:u}=s[l],h=i[c],d=i[u];if(h===d){a.push(h);continue}const f=o(h,d,Math.abs((r-h[t])/(d[t]-h[t])),n.stepped);f[t]=e[t],a.push(f)}return 1===a.length?a[0]:a}pathSegment(e,t,n){return dc(this)(e,this,t,n)}path(e,t,n){const r=this.segments,i=dc(this);let s=this._loop;t=t||0,n=n||this.points.length-t;for(const a of r)s&=i(e,this,a,{start:t,end:t+n-1});return!!s}draw(e,t,n,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),pc(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function mc(e,t,n,r){const i=e.options,{[n]:s}=e.getProps([n],r);return Math.abs(t-s)<i.radius+i.hitRadius}class yc extends fl{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.options,{x:i,y:s}=this.getProps(["x","y"],n);return Math.pow(e-i,2)+Math.pow(t-s,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return mc(this,e,"x",t)}inYRange(e,t){return mc(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!Ms(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,Rs(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function vc(e,t){const{x:n,y:r,base:i,width:s,height:a}=e.getProps(["x","y","base","width","height"],t);let o,l,c,u,h;return e.horizontal?(h=a/2,o=Math.min(n,i),l=Math.max(n,i),c=r-h,u=r+h):(h=s/2,o=n-h,l=n+h,c=Math.min(r,i),u=Math.max(r,i)),{left:o,top:c,right:l,bottom:u}}function bc(e,t,n,r){return e?0:Yi(t,n,r)}function xc(e){const t=vc(e),n=t.right-t.left,r=t.bottom-t.top,i=function(e,t,n){const r=e.options.borderWidth,i=e.borderSkipped,s=Js(r);return{t:bc(i.top,s.top,0,n),r:bc(i.right,s.right,0,t),b:bc(i.bottom,s.bottom,0,n),l:bc(i.left,s.left,0,t)}}(e,n/2,r/2),s=function(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,s=Ys(i),a=Math.min(t,n),o=e.borderSkipped,l=r||ci(i);return{topLeft:bc(!l||o.top||o.left,s.topLeft,0,a),topRight:bc(!l||o.top||o.right,s.topRight,0,a),bottomLeft:bc(!l||o.bottom||o.left,s.bottomLeft,0,a),bottomRight:bc(!l||o.bottom||o.right,s.bottomRight,0,a)}}(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:s},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function wc(e,t,n,r){const i=null===t,s=null===n,a=e&&!(i&&s)&&vc(e,r);return a&&(i||Xi(t,a.left,a.right))&&(s||Xi(n,a.top,a.bottom))}function _c(e,t){e.rect(t.x,t.y,t.w,t.h)}function kc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-r,a=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+s,h:e.h+a,radius:e.radius}}class Sc extends fl{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:r}}=this,{inner:i,outer:s}=xc(this),a=(o=s.radius).topLeft||o.topRight||o.bottomLeft||o.bottomRight?$s:_c;var o;e.save(),s.w===i.w&&s.h===i.h||(e.beginPath(),a(e,kc(s,t,i)),e.clip(),a(e,kc(i,-t,s)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),a(e,kc(i,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,n){return wc(this,e,t,n)}inXRange(e,t){return wc(this,e,null,t)}inYRange(e,t){return wc(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(t+r)/2:t,y:i?n:(n+r)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}const Ec=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}};class Tc extends fl{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=pi(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(t=>e.filter(t,this.chart.data))),e.sort&&(t=t.sort((t,n)=>e.sort(t,n,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,r=Zs(n.font),i=r.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:o}=Ec(n,i);let l,c;t.font=r.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(s,i,a,o)+10):(c=this.maxHeight,l=this._fitCols(s,r,a,o)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,r){const{ctx:i,maxWidth:s,options:{labels:{padding:a}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],c=r+a;let u=e;i.textAlign="left",i.textBaseline="middle";let h=-1,d=-c;return this.legendItems.forEach((e,f)=>{const p=n+t/2+i.measureText(e.text).width;(0===f||l[l.length-1]+p+2*a>s)&&(u+=c,l[l.length-(f>0?0:1)]=0,d+=c,h++),o[f]={left:0,top:d,row:h,width:p,height:r},l[l.length-1]+=p+a}),u}_fitCols(e,t,n,r){const{ctx:i,maxHeight:s,options:{labels:{padding:a}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],c=s-e;let u=a,h=0,d=0,f=0,p=0;return this.legendItems.forEach((e,s)=>{const{itemWidth:g,itemHeight:m}=function(e,t,n,r,i){const s=function(e,t,n,r){let i=e.text;i&&"string"!==typeof i&&(i=i.reduce((e,t)=>e.length>t.length?e:t));return t+n.size/2+r.measureText(i).width}(r,e,t,n),a=function(e,t,n){let r=e;"string"!==typeof t.text&&(r=Cc(t,n));return r}(i,r,t.lineHeight);return{itemWidth:s,itemHeight:a}}(n,t,i,e,r);s>0&&d+m+2*a>c&&(u+=h+a,l.push({width:h,height:d}),f+=h+a,p++,h=d=0),o[s]={left:f,top:d,col:p,width:g,height:m},h=Math.max(h,g),d+=m+a}),u+=h,l.push({width:h,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:i}}=this,s=Fa(i,this.left,this.width);if(this.isHorizontal()){let i=0,a=ls(n,this.left+r,this.right-this.lineWidths[i]);for(const o of t)i!==o.row&&(i=o.row,a=ls(n,this.left+r,this.right-this.lineWidths[i])),o.top+=this.top+e+r,o.left=s.leftForLtr(s.x(a),o.width),a+=o.width+r}else{let i=0,a=ls(n,this.top+e+r,this.bottom-this.columnSizes[i].height);for(const o of t)o.col!==i&&(i=o.col,a=ls(n,this.top+e+r,this.bottom-this.columnSizes[i].height)),o.top=a,o.left+=this.left+r,o.left=s.leftForLtr(s.x(o.left),o.width),a+=o.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;Ls(e,this),this._draw(),Fs(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:r}=this,{align:i,labels:s}=e,a=As.color,o=Fa(e.rtl,this.left,this.width),l=Zs(s.font),{padding:c}=s,u=l.size,h=u/2;let d;this.drawTitle(),r.textAlign=o.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:f,boxHeight:p,itemHeight:g}=Ec(s,u),m=this.isHorizontal(),y=this._computeTitleHeight();d=m?{x:ls(i,this.left+c,this.right-n[0]),y:this.top+c+y,line:0}:{x:this.left+c,y:ls(i,this.top+y+c,this.bottom-t[0].height),line:0},za(this.ctx,e.textDirection);const v=g+c;this.legendItems.forEach((b,x)=>{r.strokeStyle=b.fontColor,r.fillStyle=b.fontColor;const w=r.measureText(b.text).width,_=o.textAlign(b.textAlign||(b.textAlign=s.textAlign)),k=f+h+w;let S=d.x,E=d.y;o.setWidth(this.width),m?x>0&&S+k+c>this.right&&(E=d.y+=v,d.line++,S=d.x=ls(i,this.left+c,this.right-n[d.line])):x>0&&E+v>this.bottom&&(S=d.x=S+t[d.line].width+c,d.line++,E=d.y=ls(i,this.top+y+c,this.bottom-t[d.line].height));if(function(e,t,n){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;r.save();const i=di(n.lineWidth,1);if(r.fillStyle=di(n.fillStyle,a),r.lineCap=di(n.lineCap,"butt"),r.lineDashOffset=di(n.lineDashOffset,0),r.lineJoin=di(n.lineJoin,"miter"),r.lineWidth=i,r.strokeStyle=di(n.strokeStyle,a),r.setLineDash(di(n.lineDash,[])),s.usePointStyle){const a={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},l=o.xPlus(e,f/2);Os(r,a,l,t+h,s.pointStyleWidth&&f)}else{const s=t+Math.max((u-p)/2,0),a=o.leftForLtr(e,f),l=Ys(n.borderRadius);r.beginPath(),Object.values(l).some(e=>0!==e)?$s(r,{x:a,y:s,w:f,h:p,radius:l}):r.rect(a,s,f,p),r.fill(),0!==i&&r.stroke()}r.restore()}(o.x(S),E,b),S=((e,t,n,r)=>e===(r?"left":"right")?n:"center"===e?(t+n)/2:t)(_,S+f+h,m?S+k:this.right,e.rtl),function(e,t,n){Hs(r,n.text,e,t+g/2,l,{strikethrough:n.hidden,textAlign:o.textAlign(n.textAlign)})}(o.x(S),E,b),m)d.x+=k+c;else if("string"!==typeof b.text){const e=l.lineHeight;d.y+=Cc(b,e)+c}else d.y+=v}),Va(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Zs(t.font),r=Xs(t.padding);if(!t.display)return;const i=Fa(e.rtl,this.left,this.width),s=this.ctx,a=t.position,o=n.size/2,l=r.top+o;let c,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+l,u=ls(e.align,u,this.right-h);else{const t=this.columnSizes.reduce((e,t)=>Math.max(e,t.height),0);c=l+ls(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const d=ls(a,u,u+h);s.textAlign=i.textAlign(os(a)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=n.string,Hs(s,t.text,d,c,n)}_computeTitleHeight(){const e=this.options.title,t=Zs(e.font),n=Xs(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,r,i;if(Xi(e,this.left,this.right)&&Xi(t,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],Xi(e,r.left,r.left+r.width)&&Xi(t,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const s=this._hoveredItem,a=(i=n,null!==(r=s)&&null!==i&&r.datasetIndex===i.datasetIndex&&r.index===i.index);s&&!a&&pi(t.onLeave,[e,s,this],this),this._hoveredItem=n,n&&!a&&pi(t.onHover,[e,n,this],this)}else n&&pi(t.onClick,[e,n,this],this);var r,i}}function Cc(e,t){return t*(e.text?e.text.length:0)}var Nc={id:"legend",_element:Tc,start(e,t,n){const r=e.legend=new Tc({ctx:e.ctx,options:n,chart:e});Qo.configure(e,r,n),Qo.addBox(e,r)},stop(e){Qo.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;Qo.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(e=>{const l=e.controller.getStyle(n?0:void 0),c=Xs(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:a&&(o||l.borderRadius),datasetIndex:e.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Ac extends fl{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=li(n.text)?n.text.length:1;this._padding=Xs(n.padding);const i=r*Zs(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:r,right:i,options:s}=this,a=s.align;let o,l,c,u=0;return this.isHorizontal()?(l=ls(a,n,i),c=t+e,o=i-n):("left"===s.position?(l=n+e,c=ls(a,r,t),u=-.5*Ai):(l=i-e,c=ls(a,t,r),u=.5*Ai),o=r-t),{titleX:l,titleY:c,maxWidth:o,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=Zs(t.font),r=n.lineHeight/2+this._padding.top,{titleX:i,titleY:s,maxWidth:a,rotation:o}=this._drawArgs(r);Hs(e,t.text,0,0,n,{color:t.color,maxWidth:a,rotation:o,textAlign:os(t.align),textBaseline:"middle",translation:[i,s]})}}var Ic={id:"title",_element:Ac,start(e,t,n){!function(e,t){const n=new Ac({ctx:e.ctx,options:t,chart:e});Qo.configure(e,n,t),Qo.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;Qo.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;Qo.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const Dc={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,s=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();r.add(e.x),i+=e.y,++s}}if(0===s||0===r.size)return!1;return{x:[...r].reduce((e,t)=>e+t)/r.size,y:i/s}},nearest(e,t){if(!e.length)return!1;let n,r,i,s=t.x,a=t.y,o=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){const r=e[n].element;if(r&&r.hasValue()){const e=Gi(t,r.getCenterPoint());e<o&&(o=e,i=r)}}if(i){const e=i.tooltipPosition();s=e.x,a=e.y}return{x:s,y:a}}};function Pc(e,t){return t&&(li(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function jc(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Rc(e,t){const{element:n,datasetIndex:r,index:i}=t,s=e.getDatasetMeta(r).controller,{label:a,value:o}=s.getLabelAndValue(i);return{chart:e,label:a,parsed:s.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:o,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function Oc(e,t){const n=e.chart.ctx,{body:r,footer:i,title:s}=e,{boxWidth:a,boxHeight:o}=t,l=Zs(t.bodyFont),c=Zs(t.titleFont),u=Zs(t.footerFont),h=s.length,d=i.length,f=r.length,p=Xs(t.padding);let g=p.height,m=0,y=r.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);if(y+=e.beforeBody.length+e.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),y){g+=f*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(y-f)*l.lineHeight+(y-1)*t.bodySpacing}d&&(g+=t.footerMarginTop+d*u.lineHeight+(d-1)*t.footerSpacing);let v=0;const b=function(e){m=Math.max(m,n.measureText(e).width+v)};return n.save(),n.font=c.string,gi(e.title,b),n.font=l.string,gi(e.beforeBody.concat(e.afterBody),b),v=t.displayColors?a+2+t.boxPadding:0,gi(r,e=>{gi(e.before,b),gi(e.lines,b),gi(e.after,b)}),v=0,n.font=u.string,gi(e.footer,b),n.restore(),m+=p.width,{width:m,height:g}}function Mc(e,t,n,r){const{x:i,width:s}=n,{width:a,chartArea:{left:o,right:l}}=e;let c="center";return"center"===r?c=i<=(o+l)/2?"left":"right":i<=s/2?c="left":i>=a-s/2&&(c="right"),function(e,t,n,r){const{x:i,width:s}=r,a=n.caretSize+n.caretPadding;return"left"===e&&i+s+a>t.width||"right"===e&&i-s-a<0||void 0}(c,e,t,n)&&(c="center"),c}function Lc(e,t,n){const r=n.yAlign||t.yAlign||function(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||Mc(e,t,n,r),yAlign:r}}function Fc(e,t,n,r){const{caretSize:i,caretPadding:s,cornerRadius:a}=e,{xAlign:o,yAlign:l}=n,c=i+s,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Ys(a);let p=function(e,t){let{x:n,width:r}=e;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,o);const g=function(e,t,n){let{y:r,height:i}=e;return"top"===t?r+=n:r-="bottom"===t?i+n:i/2,r}(t,l,c);return"center"===l?"left"===o?p+=c:"right"===o&&(p-=c):"left"===o?p-=Math.max(u,d)+i:"right"===o&&(p+=Math.max(h,f)+i),{x:Yi(p,0,r.width-t.width),y:Yi(g,0,r.height-t.height)}}function zc(e,t,n){const r=Xs(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function Vc(e){return Pc([],jc(e))}function Uc(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const Bc={beforeTitle:si,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:si,beforeBody:si,beforeLabel:si,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return oi(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:si,afterBody:si,beforeFooter:si,footer:si,afterFooter:si};function Hc(e,t,n,r){const i=e[t].call(n,r);return"undefined"===typeof i?Bc[t].call(n,r):i}class $c extends fl{static positioners=(()=>Dc)();constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,i=new to(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,ta(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,r=Hc(n,"beforeTitle",this,e),i=Hc(n,"title",this,e),s=Hc(n,"afterTitle",this,e);let a=[];return a=Pc(a,jc(r)),a=Pc(a,jc(i)),a=Pc(a,jc(s)),a}getBeforeBody(e,t){return Vc(Hc(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,r=[];return gi(e,e=>{const t={before:[],lines:[],after:[]},i=Uc(n,e);Pc(t.before,jc(Hc(i,"beforeLabel",this,e))),Pc(t.lines,Hc(i,"label",this,e)),Pc(t.after,jc(Hc(i,"afterLabel",this,e))),r.push(t)}),r}getAfterBody(e,t){return Vc(Hc(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,r=Hc(n,"beforeFooter",this,e),i=Hc(n,"footer",this,e),s=Hc(n,"afterFooter",this,e);let a=[];return a=Pc(a,jc(r)),a=Pc(a,jc(i)),a=Pc(a,jc(s)),a}_createItems(e){const t=this._active,n=this.chart.data,r=[],i=[],s=[];let a,o,l=[];for(a=0,o=t.length;a<o;++a)l.push(Rc(this.chart,t[a]));return e.filter&&(l=l.filter((t,r,i)=>e.filter(t,r,i,n))),e.itemSort&&(l=l.sort((t,r)=>e.itemSort(t,r,n))),gi(l,t=>{const n=Uc(e.callbacks,t);r.push(Hc(n,"labelColor",this,t)),i.push(Hc(n,"labelPointStyle",this,t)),s.push(Hc(n,"labelTextColor",this,t))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=s,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),r=this._active;let i,s=[];if(r.length){const e=Dc[n.position].call(this,r,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const t=this._size=Oc(this,n),a=Object.assign({},e,t),o=Lc(this.chart,n,a),l=Fc(n,a,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,i={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=s,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,r){const i=this.getCaretPosition(e,n,r);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,n){const{xAlign:r,yAlign:i}=this,{caretSize:s,cornerRadius:a}=n,{topLeft:o,topRight:l,bottomLeft:c,bottomRight:u}=Ys(a),{x:h,y:d}=e,{width:f,height:p}=t;let g,m,y,v,b,x;return"center"===i?(b=d+p/2,"left"===r?(g=h,m=g-s,v=b+s,x=b-s):(g=h+f,m=g+s,v=b-s,x=b+s),y=g):(m="left"===r?h+Math.max(o,c)+s:"right"===r?h+f-Math.max(l,u)-s:this.caretX,"top"===i?(v=d,b=v-s,g=m-s,y=m+s):(v=d+p,b=v+s,g=m+s,y=m-s),x=v),{x1:g,x2:m,x3:y,y1:v,y2:b,y3:x}}drawTitle(e,t,n){const r=this.title,i=r.length;let s,a,o;if(i){const l=Fa(n.rtl,this.x,this.width);for(e.x=zc(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",s=Zs(n.titleFont),a=n.titleSpacing,t.fillStyle=n.titleColor,t.font=s.string,o=0;o<i;++o)t.fillText(r[o],l.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+a,o+1===i&&(e.y+=n.titleMarginBottom-a)}}_drawColorBox(e,t,n,r,i){const s=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:o,boxWidth:l}=i,c=Zs(i.bodyFont),u=zc(this,"left",i),h=r.x(u),d=o<c.lineHeight?(c.lineHeight-o)/2:0,f=t.y+d;if(i.usePointStyle){const t={radius:Math.min(l,o)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},n=r.leftForLtr(h,l)+l/2,c=f+o/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,Rs(e,t,n,c),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,Rs(e,t,n,c)}else{e.lineWidth=ci(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const t=r.leftForLtr(h,l),n=r.leftForLtr(r.xPlus(h,1),l-2),a=Ys(s.borderRadius);Object.values(a).some(e=>0!==e)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,$s(e,{x:t,y:f,w:l,h:o,radius:a}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),$s(e,{x:n,y:f+1,w:l-2,h:o-2,radius:a}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(t,f,l,o),e.strokeRect(t,f,l,o),e.fillStyle=s.backgroundColor,e.fillRect(n,f+1,l-2,o-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:r}=this,{bodySpacing:i,bodyAlign:s,displayColors:a,boxHeight:o,boxWidth:l,boxPadding:c}=n,u=Zs(n.bodyFont);let h=u.lineHeight,d=0;const f=Fa(n.rtl,this.x,this.width),p=function(n){t.fillText(n,f.x(e.x+d),e.y+h/2),e.y+=h+i},g=f.textAlign(s);let m,y,v,b,x,w,_;for(t.textAlign=s,t.textBaseline="middle",t.font=u.string,e.x=zc(this,g,n),t.fillStyle=n.bodyColor,gi(this.beforeBody,p),d=a&&"right"!==g?"center"===s?l/2+c:l+2+c:0,b=0,w=r.length;b<w;++b){for(m=r[b],y=this.labelTextColors[b],t.fillStyle=y,gi(m.before,p),v=m.lines,a&&v.length&&(this._drawColorBox(t,e,b,f,n),h=Math.max(u.lineHeight,o)),x=0,_=v.length;x<_;++x)p(v[x]),h=u.lineHeight;gi(m.after,p)}d=0,h=u.lineHeight,gi(this.afterBody,p),e.y-=i}drawFooter(e,t,n){const r=this.footer,i=r.length;let s,a;if(i){const o=Fa(n.rtl,this.x,this.width);for(e.x=zc(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=o.textAlign(n.footerAlign),t.textBaseline="middle",s=Zs(n.footerFont),t.fillStyle=n.footerColor,t.font=s.string,a=0;a<i;++a)t.fillText(r[a],o.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+n.footerSpacing}}drawBackground(e,t,n,r){const{xAlign:i,yAlign:s}=this,{x:a,y:o}=e,{width:l,height:c}=n,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Ys(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(a+u,o),"top"===s&&this.drawCaret(e,t,n,r),t.lineTo(a+l-h,o),t.quadraticCurveTo(a+l,o,a+l,o+h),"center"===s&&"right"===i&&this.drawCaret(e,t,n,r),t.lineTo(a+l,o+c-f),t.quadraticCurveTo(a+l,o+c,a+l-f,o+c),"bottom"===s&&this.drawCaret(e,t,n,r),t.lineTo(a+d,o+c),t.quadraticCurveTo(a,o+c,a,o+c-d),"center"===s&&"left"===i&&this.drawCaret(e,t,n,r),t.lineTo(a,o+u),t.quadraticCurveTo(a,o,a+u,o),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const n=Dc[e.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=Oc(this,e),a=Object.assign({},n,this._size),o=Lc(t,e,a),l=Fc(e,a,o,t);r._to===l.x&&i._to===l.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=Xs(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,r,t),za(e,t.textDirection),i.y+=s.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),Va(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,r=e.map(e=>{let{datasetIndex:t,index:n}=e;const r=this.chart.getDatasetMeta(t);if(!r)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:r.data[n],index:n}}),i=!mi(n,r),s=this._positionChanged(r,t);(i||s)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],s=this._getActiveElements(e,i,t,n),a=this._positionChanged(s,e),o=t||!mi(s,i)||a;return o&&(this._active=s,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,n,r){const i=this.options;if("mouseout"===e.type)return[];if(!r)return t.filter(e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index));const s=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&s.reverse(),s}_positionChanged(e,t){const{caretX:n,caretY:r,options:i}=this,s=Dc[i.position].call(this,e,t);return!1!==s&&(n!==s.x||r!==s.y)}}var Wc={id:"tooltip",_element:$c,positioners:Dc,afterInit(e,t,n){n&&(e.tooltip=new $c({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Bc},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function qc(e,t,n,r){const i=e.indexOf(t);if(-1===i)return((e,t,n,r)=>("string"===typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,r);return i!==e.lastIndexOf(t)?n:i}function Gc(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Kc extends kl{static id="category";static defaults=(()=>({ticks:{callback:Gc}}))();constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:r}of t)e[n]===r&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(oi(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:Yi(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:qc(n,e,di(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=0===e&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=e;s<=t;s++)r.push({value:s});return r}getLabelForValue(e){return Gc.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Qc(e,t){const n=[],{bounds:r,step:i,min:s,max:a,precision:o,count:l,maxTicks:c,maxDigits:u,includeBounds:h}=e,d=i||1,f=c-1,{min:p,max:g}=t,m=!oi(s),y=!oi(a),v=!oi(l),b=(g-p)/(u+1);let x,w,_,k,S=Vi((g-p)/f/d)*d;if(S<1e-14&&!m&&!y)return[{value:p},{value:g}];k=Math.ceil(g/S)-Math.floor(p/S),k>f&&(S=Vi(k*S/f/d)*d),oi(o)||(x=Math.pow(10,o),S=Math.ceil(S*x)/x),"ticks"===r?(w=Math.floor(p/S)*S,_=Math.ceil(g/S)*S):(w=p,_=g),m&&y&&i&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((a-s)/i,S/1e3)?(k=Math.round(Math.min((a-s)/S,c)),S=(a-s)/k,w=s,_=a):v?(w=m?s:w,_=y?a:_,k=l-1,S=(_-w)/k):(k=(_-w)/S,k=zi(k,Math.round(k),S/1e3)?Math.round(k):Math.ceil(k));const E=Math.max(Wi(S),Wi(w));x=Math.pow(10,oi(o)?E:o),w=Math.round(w*x)/x,_=Math.round(_*x)/x;let T=0;for(m&&(h&&w!==s?(n.push({value:s}),w<s&&T++,zi(Math.round((w+T*S)*x)/x,s,Jc(s,b,e))&&T++):w<s&&T++);T<k;++T){const e=Math.round((w+T*S)*x)/x;if(y&&e>a)break;n.push({value:e})}return y&&h&&_!==a?n.length&&zi(n[n.length-1].value,a,Jc(a,b,e))?n[n.length-1].value=a:n.push({value:a}):y&&_!==a||n.push({value:_}),n}function Jc(e,t,n){let{horizontal:r,minRotation:i}=n;const s=Hi(i),a=(r?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+e).length;return Math.min(t/a,o)}class Yc extends kl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return oi(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const s=e=>r=t?r:e,a=e=>i=n?i:e;if(e){const e=Fi(r),t=Fi(i);e<0&&t<0?a(0):e>0&&t>0&&s(0)}if(r===i){let t=0===i?1:Math.abs(.05*i);a(i+t),e||s(r-t)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:r}=e;return r?(t=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=Qc({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&Bi(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return ws(e,this.chart.options.locale,this.options.ticks.format)}}class Xc extends Yc{static id="linear";static defaults=(()=>({ticks:{callback:ks.formatters.numeric}}))();determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ui(e)?e:0,this.max=ui(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=Hi(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ks.formatters.logarithmic;function Zc(e){const t=e.ticks;if(t.display&&e.display){const e=Xs(t.backdropPadding);return di(t.font&&t.font.size,As.font.size)+e.height}return 0}function eu(e,t,n){return n=li(n)?n:[n],{w:Ds(e,t.string,n),h:n.length*t.lineHeight}}function tu(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function nu(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],i=[],s=e._pointLabels.length,a=e.options.pointLabels,o=a.centerPointLabels?Ai/s:0;for(let l=0;l<s;l++){const s=a.setContext(e.getPointLabelContext(l));i[l]=s.padding;const c=e.getPointPosition(l,e.drawingArea+i[l],o),u=Zs(s.font),h=eu(e.ctx,u,e._pointLabels[l]);r[l]=h;const d=Qi(e.getIndexAngle(l)+o),f=Math.round($i(d));ru(n,t,d,tu(f,c.x,h.w,0,180),tu(f,c.y,h.h,90,270))}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const r=[],i=e._pointLabels.length,s=e.options,{centerPointLabels:a,display:o}=s.pointLabels,l={extra:Zc(s)/2,additionalAngle:a?Ai/i:0};let c;for(let u=0;u<i;u++){l.padding=n[u],l.size=t[u];const i=iu(e,u,l);r.push(i),"auto"===o&&(i.visible=su(i,c),i.visible&&(c=i))}return r}(e,r,i)}function ru(e,t,n,r,i){const s=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let o=0,l=0;r.start<t.l?(o=(t.l-r.start)/s,e.l=Math.min(e.l,t.l-o)):r.end>t.r&&(o=(r.end-t.r)/s,e.r=Math.max(e.r,t.r+o)),i.start<t.t?(l=(t.t-i.start)/a,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/a,e.b=Math.max(e.b,t.b+l))}function iu(e,t,n){const r=e.drawingArea,{extra:i,additionalAngle:s,padding:a,size:o}=n,l=e.getPointPosition(t,r+i+a,s),c=Math.round($i(Qi(l.angle+Ri))),u=function(e,t,n){90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t);return e}(l.y,o.h,c),h=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),d=function(e,t,n){"right"===n?e-=t:"center"===n&&(e-=t/2);return e}(l.x,o.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:d,top:u,right:d+o.w,bottom:u+o.h}}function su(e,t){if(!t)return!0;const{left:n,top:r,right:i,bottom:s}=e;return!(Ms({x:n,y:r},t)||Ms({x:n,y:s},t)||Ms({x:i,y:r},t)||Ms({x:i,y:s},t))}function au(e,t,n){const{left:r,top:i,right:s,bottom:a}=n,{backdropColor:o}=t;if(!oi(o)){const n=Ys(t.borderRadius),l=Xs(t.backdropPadding);e.fillStyle=o;const c=r-l.left,u=i-l.top,h=s-r+l.width,d=a-i+l.height;Object.values(n).some(e=>0!==e)?(e.beginPath(),$s(e,{x:c,y:u,w:h,h:d,radius:n}),e.fill()):e.fillRect(c,u,h,d)}}function ou(e,t,n,r){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,Ii);else{let n=e.getPointPosition(0,t);i.moveTo(n.x,n.y);for(let s=1;s<r;s++)n=e.getPointPosition(s,t),i.lineTo(n.x,n.y)}}class lu extends Yc{static id="radialLinear";static defaults=(()=>({display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ks.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}))();static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Xs(Zc(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=ui(e)&&!isNaN(e)?e:0,this.max=ui(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Zc(this.options))}generateTickLabels(e){Yc.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((e,t)=>{const n=pi(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""}).filter((e,t)=>this.chart.getDataVisibility(t))}fit(){const e=this.options;e.display&&e.pointLabels.display?nu(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,r))}getIndexAngle(e){return Qi(e*(Ii/(this._pointLabels.length||1))+Hi(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(oi(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(oi(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return ta(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.getIndexAngle(e)-Ri+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:r,bottom:i}=this._pointLabelItems[e];return{left:t,top:n,right:r,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),ou(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:r,border:i}=t,s=this._pointLabels.length;let a,o,l;if(t.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let i=t-1;i>=0;i--){const t=e._pointLabelItems[i];if(!t.visible)continue;const s=r.setContext(e.getPointLabelContext(i));au(n,s,t);const a=Zs(s.font),{x:o,y:l,textAlign:c}=t;Hs(n,e._pointLabels[i],o,l+a.lineHeight/2,a,{color:s.color,textAlign:c,textBaseline:"middle"})}}(this,s),r.display&&this.ticks.forEach((e,t)=>{if(0!==t||0===t&&this.min<0){o=this.getDistanceFromCenterForValue(e.value);const n=this.getContext(t),a=r.setContext(n),l=i.setContext(n);!function(e,t,n,r,i){const s=e.ctx,a=t.circular,{color:o,lineWidth:l}=t;!a&&!r||!o||!l||n<0||(s.save(),s.strokeStyle=o,s.lineWidth=l,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),ou(e,n,a,r),s.closePath(),s.stroke(),s.restore())}(this,a,o,s,l)}}),n.display){for(e.save(),a=s-1;a>=0;a--){const r=n.setContext(this.getPointLabelContext(a)),{color:i,lineWidth:s}=r;s&&i&&(e.lineWidth=s,e.strokeStyle=i,e.setLineDash(r.borderDash),e.lineDashOffset=r.borderDashOffset,o=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(a,o),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let i,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((r,a)=>{if(0===a&&this.min>=0&&!t.reverse)return;const o=n.setContext(this.getContext(a)),l=Zs(o.font);if(i=this.getDistanceFromCenterForValue(this.ticks[a].value),o.showLabelBackdrop){e.font=l.string,s=e.measureText(r.label).width,e.fillStyle=o.backdropColor;const t=Xs(o.backdropPadding);e.fillRect(-s/2-t.left,-i-l.size/2-t.top,s+t.width,l.size+t.height)}Hs(e,r.label,0,-i,l,{color:o.color,strokeColor:o.textStrokeColor,strokeWidth:o.textStrokeWidth})}),e.restore()}drawTitle(){}}const cu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},uu=Object.keys(cu);function hu(e,t){return e-t}function du(e,t){if(oi(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:s}=e._parseOpts;let a=t;return"function"===typeof r&&r(a),ui(a)||("string"===typeof r?n.parse(a,r):n.parse(a)),null===a?null:(i&&("week"!==i||!Ui(s)&&!0!==s?n.startOf(a,i):n.startOf(a,"isoWeek",s)),+a)}function fu(e,t,n,r){const i=uu.length;for(let s=uu.indexOf(e);s<i-1;++s){const e=cu[uu[s]],i=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(i*e.size))<=r)return uu[s]}return uu[i-1]}function pu(e,t,n){if(n){if(n.length){const{lo:r,hi:i}=Zi(n,t);e[n[r]>=t?n[r]:n[i]]=!0}}else e[t]=!0}function gu(e,t,n){const r=[],i={},s=t.length;let a,o;for(0;a<s;++a)t[a],i[o]=a,r.push({value:o,major:!1});return 0!==s&&n?function(e,t,n,r){const i=e._adapter,s=+i.startOf(t[0].value,r),a=t[t.length-1].value;let o,l;for(s;o<=a;+i.add(o,1,r))n[o],l>=0&&(t[l].major=!0);return t}(e,r,i,n):r}class mu extends kl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time||(e.time={}),r=this._adapter=new Ao(e.adapters.date);r.init(t),wi(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:du(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:r,max:i,minDefined:s,maxDefined:a}=this.getUserBounds();function o(e){s||isNaN(e.min)||Math.min(r,e.min),a||isNaN(e.max)||Math.max(i,e.max)}s&&a||(o(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||o(this.getMinMax(!1))),ui(r)&&!isNaN(r)?r:+t.startOf(Date.now(),n),ui(i)&&!isNaN(i)?i:+t.endOf(Date.now(),n)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(e[0],e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,s=function(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)0;for(;i>r&&e[i-1]>n;)0;return r>0||i<e.length?e.slice(r,i):e}(r,i,this.max);return this._unit=t.unit||(n.autoSkip?fu(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(e,t,n,r,i){for(let s=uu.length-1;s>=uu.indexOf(n);s--){const n=uu[s];if(cu[n].common&&e._adapter.diff(i,r,n)>=t-1)return n}return uu[n?uu.indexOf(n):0]}(this,s.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=uu.indexOf(e)+1,n=uu.length;t<n;++t)if(cu[uu[t]].common)return uu[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&s.reverse(),gu(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0,i=0;this.options.offset&&n.length&&(this.getDecimalForValue(n[0]),1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,this.getDecimalForValue(n[n.length-1]),1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);const s=n.length<3?.5:.25;Yi(r,0,s),Yi(i,0,s),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const e=this._adapter,t=this.min,n=this.max,r=this.options,i=r.time,s=i.unit||fu(i.minUnit,t,n,this._getLabelCapacity(t)),a=di(r.ticks.stepSize,1),o="week"===s&&i.isoWeekday,l=Ui(o)||!0===o,c={};let u,h,d=t;if(l&&+e.startOf(d,"isoWeek",o),+e.startOf(d,l?"day":s),e.diff(n,t,s)>1e5*a)throw new Error(t+" and "+n+" are too far apart with stepSize of "+a+" "+s);const f="data"===r.ticks.source&&this.getDataTimestamps();for(0;u<n;+e.add(u,a,s),h++)pu(c,u,f);return u!==n&&"ticks"!==r.bounds&&1!==h||pu(c,u,f),Object.keys(c).sort(hu).map(e=>+e)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,r=this._unit,i=t||n[r];return this._adapter.format(e,i)}_tickFormatFunction(e,t,n,r){const i=this.options,s=i.ticks.callback;if(s)return pi(s,[e,t,n],this);const a=i.time.displayFormats,o=this._unit,l=this._majorUnit,c=o&&a[o],u=l&&a[l],h=n[t],d=l&&u&&h&&h.major;return this._adapter.format(e,r||(d?u:c))}generateTickLabels(e){let t,n,r;for(e.length;t<n;++t)e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,r=Hi(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(r),s=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:n*i+a*s,h:n*s+a*i}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,i=this._tickFormatFunction(e,0,gu(this,[e],this._majorUnit),r),s=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return a>0?a:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(r.length;e<t;++e)n.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const r=this.getLabels();for(r.length;t<n;++t)e.push(du(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return is(e.sort(hu))}}const yu="label";function vu(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function bu(e,t){e.labels=t}function xu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yu;const r=[];e.datasets=t.map(t=>{const i=e.datasets.find(e=>e[n]===t[n]);return i&&t.data&&!r.includes(i)?(r.push(i),Object.assign(i,t),i):{...t}})}function wu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yu;const n={labels:[],datasets:[]};return bu(n,e.labels),xu(n,e.datasets,t),n}function _u(t,n){const{height:r=150,width:i=300,redraw:s=!1,datasetIdKey:a,type:o,data:l,options:c,plugins:u=[],fallbackContent:h,updateMode:d,...f}=t,p=(0,e.useRef)(null),g=(0,e.useRef)(null),m=()=>{p.current&&(g.current=new ec(p.current,{type:o,data:wu(l,a),options:c&&{...c},plugins:u}),vu(n,g.current))},y=()=>{vu(n,null),g.current&&(g.current.destroy(),g.current=null)};return(0,e.useEffect)(()=>{!s&&g.current&&c&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(g.current,c)},[s,c]),(0,e.useEffect)(()=>{!s&&g.current&&bu(g.current.config.data,l.labels)},[s,l.labels]),(0,e.useEffect)(()=>{!s&&g.current&&l.datasets&&xu(g.current.config.data,l.datasets,a)},[s,l.datasets]),(0,e.useEffect)(()=>{g.current&&(s?(y(),setTimeout(m)):g.current.update(d))},[s,c,l.labels,l.datasets,d]),(0,e.useEffect)(()=>{g.current&&(y(),setTimeout(m))},[o]),(0,e.useEffect)(()=>(m(),()=>y()),[]),e.createElement("canvas",{ref:p,role:"img",height:r,width:i,...f},h)}const ku=(0,e.forwardRef)(_u);function Su(t,n){return ec.register(n),(0,e.forwardRef)((n,r)=>e.createElement(ku,{...n,ref:r,type:t}))}const Eu=Su("line",Eo),Tu=Su("bar",ko),Cu=Su("radar",To),Nu=Su("doughnut",So);var Au=n(766),Iu=n.n(Au);ec.register(Kc,Xc,Sc,Ic,Wc,Nc,ac,yc,gc,lu);const Du=t=>{var n,r;let{t:s,setCurrentPage:a}=t;const[o,l]=(0,e.useState)([]),[c,u]=(0,e.useState)(!0),[h,d]=(0,e.useState)("Arena Total"),[f,p]=(0,e.useState)([]);(0,e.useEffect)(()=>{(async()=>{try{const e=await fetch("/json-data/chest_aggregation_preview.csv"),t=await e.text();Iu().parse(t,{header:!0,complete:e=>{const t=e.data.map(e=>({...e,"Arena Total":parseInt(e["Arena Total"])||0,"Common Total":parseInt(e["Common Total"])||0,"Rare Total":parseInt(e["Rare Total"])||0,"Epic Total":parseInt(e["Epic Total"])||0,"Tartaros Total":parseInt(e["Tartaros Total"])||0,"Elven Total":parseInt(e["Elven Total"])||0,"Cursed Total":parseInt(e["Cursed Total"])||0,"Bank Total":parseInt(e["Bank Total"])||0,"Runic Total":parseInt(e["Runic Total"])||0,"Heroic Total":parseInt(e["Heroic Total"])||0,"VotA Total":parseInt(e["VotA Total"])||0,"ROTA Total":parseInt(e["ROTA Total"])||0,"EAs Total":parseInt(e["EAs Total"])||0,"Union Total":parseInt(e["Union Total"])||0,"Jormungandr Total":parseInt(e["Jormungandr Total"])||0,Points:parseInt(e.Points)||0}));l(t),u(!1)}})}catch(e){console.error("Error loading data:",e),u(!1)}})()},[]),(0,e.useEffect)(()=>{if(o.length>0){const e=[...o].filter(e=>e.Clanmate&&""!==e.Clanmate.trim()).sort((e,t)=>t[h]-e[h]).slice(0,10);p(e)}},[o,h]);const g=[{key:"Arena Total",label:"Arena Chests",icon:"\u2694\ufe0f",color:"#7C3AED",route:i.TOP_TEN_ARENA},{key:"Common Total",label:"Common Chests",icon:"\ud83d\udce6",color:"#10B981",route:i.TOP_TEN_COMMON},{key:"Rare Total",label:"Rare Chests",icon:"\ud83d\udc8e",color:"#3B82F6",route:i.TOP_TEN_RARE},{key:"Epic Total",label:"Epic Chests",icon:"\ud83d\udc51",color:"#8B5CF6",route:i.TOP_TEN_EPIC},{key:"Tartaros Total",label:"Tartaros Chests",icon:"\ud83d\udd25",color:"#DC2626",route:i.TOP_TEN_TARTAROS},{key:"Elven Total",label:"Elven Chests",icon:"\ud83e\udddd",color:"#059669",route:i.TOP_TEN_ELVEN},{key:"Cursed Total",label:"Cursed Chests",icon:"\ud83c\udf19",color:"#6B46C1",route:i.TOP_TEN_CURSED},{key:"Bank Total",label:"Bank Chests",icon:"\ud83d\udcb0",color:"#D97706",route:i.TOP_TEN_BANK},{key:"Runic Total",label:"Runic Chests",icon:"\ud83d\udd2e",color:"#F97316",route:i.TOP_TEN_RUNIC},{key:"Heroic Total",label:"Heroic Chests",icon:"\ud83c\udfc6",color:"#EF4444",route:i.TOP_TEN_HEROIC},{key:"VotA Total",label:"Vault of the Ancients",icon:"\ud83c\udfdb\ufe0f",color:"#8B5CF6",route:i.TOP_TEN_VOTA},{key:"ROTA Total",label:"Rise of the Ancients",icon:"\ud83c\udf1f",color:"#EC4899",route:i.TOP_TEN_ROTA},{key:"EAs Total",label:"Epic Ancient Squad",icon:"\u26a1",color:"#F59E0B",route:i.TOP_TEN_EAS},{key:"Union Total",label:"Union Chests",icon:"\ud83e\udd1d",color:"#6366F1",route:i.TOP_TEN_UNION},{key:"Jormungandr Total",label:"Jormungandr Chests",icon:"\ud83d\udc09",color:"#059669",route:i.TOP_TEN_JORMUNGANDR}],m=(()=>{const e=o.filter(e=>e.Clanmate&&""!==e.Clanmate.trim()).length,t=o.reduce((e,t)=>e+(t[h]||0),0);return{totalPlayers:e,totalChests:t,averageChests:e>0?Math.round(t/e):0,topScore:f.length>0?f[0][h]:0,activePlayersCount:o.filter(e=>e.Clanmate&&""!==e.Clanmate.trim()&&e[h]>0).length}})();return c?(0,jn.jsx)("div",{className:"top-ten-container",children:(0,jn.jsxs)("div",{className:"loading-spinner",children:[(0,jn.jsx)("div",{className:"spinner"}),(0,jn.jsx)("p",{children:"Lade Champions..."})]})}):(0,jn.jsxs)("div",{className:"top-ten-container",children:[(0,jn.jsxs)("div",{className:"top-ten-header",children:[(0,jn.jsxs)("button",{onClick:()=>a(i.NAVIGATION),className:"back-button",style:{position:"absolute",top:"20px",left:"20px",display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",background:"linear-gradient(135deg, #1F2937 0%, #374151 100%)",color:"#F9FAFB",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",zIndex:10},onMouseOver:e=>{e.target.style.background="linear-gradient(135deg, #374151 0%, #4B5563 100%)",e.target.style.transform="translateY(-2px)"},onMouseOut:e=>{e.target.style.background="linear-gradient(135deg, #1F2937 0%, #374151 100%)",e.target.style.transform="translateY(0)"},children:[(0,jn.jsx)("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:(0,jn.jsx)("path",{d:"M19 12H5M12 19l-7-7 7-7"})}),s.backToNavigation||"Zur\xfcck zur Navigation"]}),(0,jn.jsxs)("h1",{className:"top-ten-title",children:[(0,jn.jsx)("span",{className:"crown-icon",children:"\ud83d\udc51"}),s.topTenTitle,(0,jn.jsx)("span",{className:"crown-icon",children:"\ud83d\udc51"})]}),(0,jn.jsx)("p",{className:"top-ten-subtitle",children:"Die Champions unseres Clans - W\xe4hle eine Kategorie f\xfcr detaillierte Auswertungen"})]}),(0,jn.jsxs)("div",{className:"category-selector",children:[(0,jn.jsx)("h3",{children:"W\xe4hle eine Kategorie f\xfcr detaillierte Auswertung:"}),(0,jn.jsx)("div",{className:"category-grid",children:g.map(e=>(0,jn.jsxs)("button",{className:"category-btn "+(h===e.key?"active":""),onClick:()=>a(e.route),style:{"--category-color":e.color},children:[(0,jn.jsx)("span",{className:"category-icon",children:e.icon}),(0,jn.jsx)("span",{className:"category-label",children:e.label})]},e.key))})]}),(0,jn.jsxs)("div",{className:"podium-section",children:[(0,jn.jsxs)("h2",{className:"section-title",children:["\ud83c\udfc6 Aktuelles Podium - ",null===(n=g.find(e=>e.key===h))||void 0===n?void 0:n.label]}),(0,jn.jsx)("div",{className:"podium",children:f.slice(0,3).map((e,t)=>{var n;return(0,jn.jsxs)("div",{className:`podium-place place-${t+1}`,children:[(0,jn.jsxs)("div",{className:"podium-medal",children:[0===t&&(0,jn.jsx)("span",{className:"medal gold",children:"\ud83e\udd47"}),1===t&&(0,jn.jsx)("span",{className:"medal silver",children:"\ud83e\udd48"}),2===t&&(0,jn.jsx)("span",{className:"medal bronze",children:"\ud83e\udd49"})]}),(0,jn.jsxs)("div",{className:"podium-player",children:[(0,jn.jsx)("div",{className:"player-name",children:e.Clanmate}),(0,jn.jsx)("div",{className:"player-score",children:e[h].toLocaleString()}),(0,jn.jsx)("div",{className:"player-category",children:null===(n=g.find(e=>e.key===h))||void 0===n?void 0:n.label})]}),(0,jn.jsx)("div",{className:"podium-base",children:(0,jn.jsx)("div",{className:"podium-rank",children:t+1})})]},e.Clanmate)})})]}),(0,jn.jsxs)("div",{className:"charts-section",children:[(0,jn.jsxs)("div",{className:"chart-container",children:[(0,jn.jsx)("h3",{className:"chart-title",children:"\ud83d\udcca Aktuelle Rangliste"}),(0,jn.jsx)("div",{className:"chart-wrapper",children:(0,jn.jsx)(Tu,{data:(()=>{const e=g.find(e=>e.key===h),t=e?`${e.label} (Anzahl Chests)`:h;return{labels:f.map(e=>e.Clanmate),datasets:[{label:t,data:f.map(e=>e[h]),backgroundColor:f.map((e,t)=>["#FFD700","#C0C0C0","#CD7F32","#8B5CF6","#3B82F6","#10B981","#F59E0B","#EF4444","#EC4899","#059669"][t]||"#6B7280"),borderColor:"#1F2937",borderWidth:2,borderRadius:8,borderSkipped:!1}]}})(),options:{responsive:!0,plugins:{legend:{position:"top",labels:{color:"#F9FAFB",font:{size:14,weight:"bold"}}},tooltip:{backgroundColor:"#1F2937",titleColor:"#F9FAFB",bodyColor:"#F9FAFB",borderColor:"#374151",borderWidth:1,cornerRadius:8,displayColors:!0}},scales:{y:{beginAtZero:!0,ticks:{color:"#9CA3AF"},grid:{color:"#374151"}},x:{ticks:{color:"#9CA3AF",maxRotation:45},grid:{color:"#374151"}}}}})})]}),(0,jn.jsxs)("div",{className:"chart-container",children:[(0,jn.jsx)("h3",{className:"chart-title",children:"\ud83c\udf69 Top 5 Verteilung"}),(0,jn.jsx)("div",{className:"chart-wrapper",children:(0,jn.jsx)(Nu,{data:(()=>{const e=f.slice(0,5),t=g.find(e=>e.key===h),n=t?`${t.label} (Anzahl Chests)`:h;return{labels:e.map(e=>e.Clanmate),datasets:[{label:n,data:e.map(e=>e[h]),backgroundColor:["#FFD700","#C0C0C0","#CD7F32","#8B5CF6","#3B82F6"],borderColor:"#1F2937",borderWidth:3,hoverOffset:10}]}})(),options:{responsive:!0,plugins:{legend:{position:"bottom",labels:{color:"#F9FAFB",font:{size:12}}},tooltip:{backgroundColor:"#1F2937",titleColor:"#F9FAFB",bodyColor:"#F9FAFB",borderColor:"#374151",borderWidth:1,cornerRadius:8}}}})})]}),(0,jn.jsxs)("div",{className:"chart-container full-width",children:[(0,jn.jsx)("h3",{className:"chart-title",children:"\ud83c\udfaf Multi-Kategorie Vergleich (Top 5)"}),(0,jn.jsx)("div",{className:"chart-wrapper",children:(0,jn.jsx)(Cu,{data:(()=>{const e=f.slice(0,5),t=["VotA Total","Heroic Total","Common Total","Rare Total","Epic Total","Runic Total"];return{labels:t.map(e=>{var t;return(null===(t=g.find(t=>t.key===e))||void 0===t?void 0:t.label)||e}),datasets:e.map((e,n)=>({label:e.Clanmate,data:t.map(t=>e[t]||0),backgroundColor:["#FFD700","#C0C0C0","#CD7F32","#8B5CF6","#3B82F6"][n]+"40",borderColor:["#FFD700","#C0C0C0","#CD7F32","#8B5CF6","#3B82F6"][n],borderWidth:2,pointBackgroundColor:["#FFD700","#C0C0C0","#CD7F32","#8B5CF6","#3B82F6"][n],pointBorderColor:"#1F2937",pointHoverBackgroundColor:"#1F2937",pointHoverBorderColor:["#FFD700","#C0C0C0","#CD7F32","#8B5CF6","#3B82F6"][n]}))}})(),options:{responsive:!0,plugins:{legend:{position:"top",labels:{color:"#F9FAFB",font:{size:12}}}},scales:{r:{beginAtZero:!0,ticks:{color:"#9CA3AF"},grid:{color:"#374151"},pointLabels:{color:"#F9FAFB",font:{size:11}}}}}})})]})]}),(0,jn.jsxs)("div",{className:"detailed-ranking",children:[(0,jn.jsxs)("h2",{className:"section-title",children:["\ud83d\udccb Aktuelle Rangliste - ",null===(r=g.find(e=>e.key===h))||void 0===r?void 0:r.label]}),(0,jn.jsxs)("div",{className:"ranking-table",children:[(0,jn.jsxs)("div",{className:"table-header",children:[(0,jn.jsx)("div",{className:"rank-col",children:"Rang"}),(0,jn.jsx)("div",{className:"player-col",children:"Spieler"}),(0,jn.jsx)("div",{className:"score-col",children:"Wert"}),(0,jn.jsx)("div",{className:"progress-col",children:"Fortschritt"})]}),f.map((e,t)=>{var n;const r=Math.max(...f.map(e=>e[h])),i=e[h]/r*100;return(0,jn.jsxs)("div",{className:"table-row "+(t<3?"top-three":""),children:[(0,jn.jsxs)("div",{className:"rank-col",children:[(0,jn.jsx)("span",{className:"rank-number",children:t+1}),t<3&&(0,jn.jsxs)("span",{className:"rank-medal",children:[0===t&&"\ud83e\udd47",1===t&&"\ud83e\udd48",2===t&&"\ud83e\udd49"]})]}),(0,jn.jsx)("div",{className:"player-col",children:(0,jn.jsxs)("div",{className:"player-info",children:[(0,jn.jsx)("div",{className:"player-name",children:e.Clanmate}),(0,jn.jsx)("div",{className:"player-badge",children:null===(n=g.find(e=>e.key===h))||void 0===n?void 0:n.icon})]})}),(0,jn.jsx)("div",{className:"score-col",children:(0,jn.jsx)("span",{className:"score-value",children:e[h].toLocaleString()})}),(0,jn.jsxs)("div",{className:"progress-col",children:[(0,jn.jsx)("div",{className:"progress-bar",children:(0,jn.jsx)("div",{className:"progress-fill",style:{width:`${i}%`}})}),(0,jn.jsxs)("span",{className:"progress-text",children:[i.toFixed(1),"%"]})]})]},e.Clanmate)})]})]}),(0,jn.jsxs)("div",{className:"stats-overview",children:[(0,jn.jsx)("h2",{className:"section-title",children:"\ud83d\udcc8 Aktuelle Statistik-\xdcbersicht"}),(0,jn.jsxs)("div",{className:"stats-grid",children:[(0,jn.jsxs)("div",{className:"stat-card",children:[(0,jn.jsx)("div",{className:"stat-icon",children:"\ud83d\udc65"}),(0,jn.jsx)("div",{className:"stat-value",children:m.activePlayersCount}),(0,jn.jsx)("div",{className:"stat-label",children:"Aktive Spieler"})]}),(0,jn.jsxs)("div",{className:"stat-card",children:[(0,jn.jsx)("div",{className:"stat-icon",children:"\ud83c\udfc6"}),(0,jn.jsx)("div",{className:"stat-value",children:m.topScore.toLocaleString()}),(0,jn.jsx)("div",{className:"stat-label",children:"H\xf6chster Wert"})]}),(0,jn.jsxs)("div",{className:"stat-card",children:[(0,jn.jsx)("div",{className:"stat-icon",children:"\ud83d\udcca"}),(0,jn.jsx)("div",{className:"stat-value",children:m.averageChests.toLocaleString()}),(0,jn.jsx)("div",{className:"stat-label",children:"Durchschnitt"})]}),(0,jn.jsxs)("div",{className:"stat-card",children:[(0,jn.jsx)("div",{className:"stat-icon",children:"\ud83c\udfaf"}),(0,jn.jsx)("div",{className:"stat-value",children:m.totalChests.toLocaleString()}),(0,jn.jsx)("div",{className:"stat-label",children:"Gesamtsumme"})]})]})]})]})};ec.register(Kc,Xc,Sc,Ic,Wc,Nc,ac,yc,gc,lu);const Pu=t=>{let{t:n,setCurrentPage:r,category:s,categoryInfo:a}=t;const[o,l]=(0,e.useState)([]),[c,u]=(0,e.useState)(!0),[h,d]=(0,e.useState)([]),[f,p]=(0,e.useState)([]);(0,e.useEffect)(()=>{(async()=>{try{const e=await fetch("/json-data/chest_aggregation_preview.csv"),t=await e.text();Iu().parse(t,{header:!0,complete:e=>{const t=e.data.map(e=>({...e,"Arena Total":parseInt(e["Arena Total"])||0,"Common Total":parseInt(e["Common Total"])||0,"Rare Total":parseInt(e["Rare Total"])||0,"Epic Total":parseInt(e["Epic Total"])||0,"Tartaros Total":parseInt(e["Tartaros Total"])||0,"Elven Total":parseInt(e["Elven Total"])||0,"Cursed Total":parseInt(e["Cursed Total"])||0,"Bank Total":parseInt(e["Bank Total"])||0,"Runic Total":parseInt(e["Runic Total"])||0,"Heroic Total":parseInt(e["Heroic Total"])||0,"VotA Total":parseInt(e["VotA Total"])||0,"ROTA Total":parseInt(e["ROTA Total"])||0,"EAs Total":parseInt(e["EAs Total"])||0,"Union Total":parseInt(e["Union Total"])||0,"Jormungandr Total":parseInt(e["Jormungandr Total"])||0,Points:parseInt(e.Points)||0})),n=[...t.filter(e=>e.Clanmate&&""!==e.Clanmate.trim()&&e[s]>0)].sort((e,t)=>t[s]-e[s]);l(t),p(n),d(n.slice(0,10)),u(!1)}})}catch(e){console.error("Error loading data:",e),u(!1)}})()},[s]);const g=(()=>{const e=f.length,t=f.reduce((e,t)=>e+t[s],0);return{totalPlayers:e,totalChests:t,averageChests:e>0?Math.round(t/e):0,topScore:h.length>0?h[0][s]:0,activePlayersCount:f.filter(e=>e[s]>0).length}})();return c?(0,jn.jsx)("div",{className:"top-ten-container",children:(0,jn.jsxs)("div",{className:"loading-spinner",children:[(0,jn.jsx)("div",{className:"spinner"}),(0,jn.jsx)("p",{children:"Lade Champions..."})]})}):(0,jn.jsxs)("div",{className:"top-ten-container",children:[(0,jn.jsxs)("div",{className:"top-ten-header",children:[(0,jn.jsxs)("button",{onClick:()=>r(i.TOP_TEN),className:"back-button",style:{position:"absolute",top:"20px",left:"20px",display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",background:"linear-gradient(135deg, #1F2937 0%, #374151 100%)",color:"#F9FAFB",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",zIndex:10},onMouseOver:e=>{e.target.style.background="linear-gradient(135deg, #374151 0%, #4B5563 100%)",e.target.style.transform="translateY(-2px)"},onMouseOut:e=>{e.target.style.background="linear-gradient(135deg, #1F2937 0%, #374151 100%)",e.target.style.transform="translateY(0)"},children:[(0,jn.jsx)("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:(0,jn.jsx)("path",{d:"M19 12H5M12 19l-7-7 7-7"})}),"Zur\xfcck zur \xdcbersicht"]}),(0,jn.jsxs)("h1",{className:"top-ten-title",style:{color:a.color},children:[(0,jn.jsx)("span",{className:"crown-icon",children:a.icon}),"Top 10 - ",a.label,(0,jn.jsx)("span",{className:"crown-icon",children:a.icon})]}),(0,jn.jsxs)("p",{className:"top-ten-subtitle",children:["Die besten Spieler in der Kategorie ",a.label," - sortiert nach Anzahl der Chests"]})]}),(0,jn.jsxs)("div",{className:"podium-section",children:[(0,jn.jsx)("h2",{className:"section-title",children:"\ud83c\udfc6 Das Podium"}),(0,jn.jsx)("div",{className:"podium",children:h.slice(0,3).map((e,t)=>(0,jn.jsxs)("div",{className:`podium-place place-${t+1}`,children:[(0,jn.jsxs)("div",{className:"podium-medal",children:[0===t&&(0,jn.jsx)("span",{className:"medal gold",children:"\ud83e\udd47"}),1===t&&(0,jn.jsx)("span",{className:"medal silver",children:"\ud83e\udd48"}),2===t&&(0,jn.jsx)("span",{className:"medal bronze",children:"\ud83e\udd49"})]}),(0,jn.jsxs)("div",{className:"podium-player",children:[(0,jn.jsx)("div",{className:"player-name",children:e.Clanmate}),(0,jn.jsx)("div",{className:"player-score",children:e[s].toLocaleString()}),(0,jn.jsx)("div",{className:"player-category",children:a.label})]}),(0,jn.jsx)("div",{className:"podium-base",children:(0,jn.jsx)("div",{className:"podium-rank",children:t+1})})]},e.Clanmate))})]}),(0,jn.jsxs)("div",{className:"charts-section",children:[(0,jn.jsxs)("div",{className:"chart-container",children:[(0,jn.jsx)("h3",{className:"chart-title",children:"\ud83d\udcca Top 10 Rangliste"}),(0,jn.jsx)("div",{className:"chart-wrapper",children:(0,jn.jsx)(Tu,{data:{labels:h.map(e=>e.Clanmate),datasets:[{label:`${a.label} (Anzahl Chests)`,data:h.map(e=>e[s]),backgroundColor:h.map((e,t)=>["#FFD700","#C0C0C0","#CD7F32","#8B5CF6","#3B82F6","#10B981","#F59E0B","#EF4444","#EC4899","#059669"][t]||"#6B7280"),borderColor:"#1F2937",borderWidth:2,borderRadius:8,borderSkipped:!1}]},options:{responsive:!0,plugins:{legend:{position:"top",labels:{color:"#F9FAFB",font:{size:14,weight:"bold"}}},tooltip:{backgroundColor:"#1F2937",titleColor:"#F9FAFB",bodyColor:"#F9FAFB",borderColor:"#374151",borderWidth:1,cornerRadius:8,displayColors:!0}},scales:{y:{beginAtZero:!0,ticks:{color:"#9CA3AF"},grid:{color:"#374151"}},x:{ticks:{color:"#9CA3AF",maxRotation:45},grid:{color:"#374151"}}}}})})]}),(0,jn.jsxs)("div",{className:"chart-container",children:[(0,jn.jsx)("h3",{className:"chart-title",children:"\ud83c\udf69 Top 5 Verteilung"}),(0,jn.jsx)("div",{className:"chart-wrapper",children:(0,jn.jsx)(Nu,{data:(()=>{const e=h.slice(0,5);return{labels:e.map(e=>e.Clanmate),datasets:[{label:`${a.label} (Anzahl Chests)`,data:e.map(e=>e[s]),backgroundColor:["#FFD700","#C0C0C0","#CD7F32","#8B5CF6","#3B82F6"],borderColor:"#1F2937",borderWidth:3,hoverOffset:10}]}})(),options:{responsive:!0,plugins:{legend:{position:"bottom",labels:{color:"#F9FAFB",font:{size:12}}},tooltip:{backgroundColor:"#1F2937",titleColor:"#F9FAFB",bodyColor:"#F9FAFB",borderColor:"#374151",borderWidth:1,cornerRadius:8}}}})})]}),(0,jn.jsxs)("div",{className:"chart-container full-width",children:[(0,jn.jsx)("h3",{className:"chart-title",children:"\ud83d\udcc8 Leistungskurve (Top 20)"}),(0,jn.jsx)("div",{className:"chart-wrapper",children:(0,jn.jsx)(Eu,{data:(()=>{const e=h.slice(0,20);return{labels:e.map((e,t)=>`Rang ${t+1}`),datasets:[{label:`${a.label} Progression`,data:e.map(e=>e[s]),borderColor:a.color,backgroundColor:a.color+"20",tension:.4,fill:!0,pointBackgroundColor:a.color,pointBorderColor:"#1F2937",pointBorderWidth:2,pointRadius:5,pointHoverRadius:7}]}})(),options:{responsive:!0,plugins:{legend:{position:"top",labels:{color:"#F9FAFB",font:{size:14,weight:"bold"}}},tooltip:{backgroundColor:"#1F2937",titleColor:"#F9FAFB",bodyColor:"#F9FAFB",borderColor:"#374151",borderWidth:1,cornerRadius:8}},scales:{y:{beginAtZero:!0,ticks:{color:"#9CA3AF"},grid:{color:"#374151"}},x:{ticks:{color:"#9CA3AF"},grid:{color:"#374151"}}}}})})]})]}),(0,jn.jsxs)("div",{className:"detailed-ranking",children:[(0,jn.jsx)("h2",{className:"section-title",children:"\ud83d\udccb Komplette Rangliste"}),(0,jn.jsxs)("div",{className:"ranking-table",children:[(0,jn.jsxs)("div",{className:"table-header",children:[(0,jn.jsx)("div",{className:"rank-col",children:"Rang"}),(0,jn.jsx)("div",{className:"player-col",children:"Spieler"}),(0,jn.jsx)("div",{className:"score-col",children:"Chests"}),(0,jn.jsx)("div",{className:"progress-col",children:"Anteil"})]}),f.map((e,t)=>{const n=Math.max(...f.map(e=>e[s])),r=n>0?e[s]/n*100:0;return(0,jn.jsxs)("div",{className:"table-row "+(t<3?"top-three":""),children:[(0,jn.jsxs)("div",{className:"rank-col",children:[(0,jn.jsx)("span",{className:"rank-number",children:t+1}),t<3&&(0,jn.jsxs)("span",{className:"rank-medal",children:[0===t&&"\ud83e\udd47",1===t&&"\ud83e\udd48",2===t&&"\ud83e\udd49"]})]}),(0,jn.jsx)("div",{className:"player-col",children:(0,jn.jsxs)("div",{className:"player-info",children:[(0,jn.jsx)("div",{className:"player-name",children:e.Clanmate}),(0,jn.jsx)("div",{className:"player-badge",children:a.icon})]})}),(0,jn.jsx)("div",{className:"score-col",children:(0,jn.jsx)("span",{className:"score-value",children:e[s].toLocaleString()})}),(0,jn.jsxs)("div",{className:"progress-col",children:[(0,jn.jsx)("div",{className:"progress-bar",children:(0,jn.jsx)("div",{className:"progress-fill",style:{width:`${r}%`,backgroundColor:a.color}})}),(0,jn.jsxs)("span",{className:"progress-text",children:[r.toFixed(1),"%"]})]})]},e.Clanmate)})]})]}),(0,jn.jsxs)("div",{className:"stats-overview",children:[(0,jn.jsx)("h2",{className:"section-title",children:"\ud83d\udcc8 Statistik-\xdcbersicht"}),(0,jn.jsxs)("div",{className:"stats-grid",children:[(0,jn.jsxs)("div",{className:"stat-card",children:[(0,jn.jsx)("div",{className:"stat-icon",children:"\ud83d\udc65"}),(0,jn.jsx)("div",{className:"stat-value",children:g.activePlayersCount}),(0,jn.jsx)("div",{className:"stat-label",children:"Aktive Spieler"})]}),(0,jn.jsxs)("div",{className:"stat-card",children:[(0,jn.jsx)("div",{className:"stat-icon",children:"\ud83c\udfc6"}),(0,jn.jsx)("div",{className:"stat-value",children:g.topScore.toLocaleString()}),(0,jn.jsx)("div",{className:"stat-label",children:"H\xf6chster Wert"})]}),(0,jn.jsxs)("div",{className:"stat-card",children:[(0,jn.jsx)("div",{className:"stat-icon",children:"\ud83d\udcca"}),(0,jn.jsx)("div",{className:"stat-value",children:g.averageChests.toLocaleString()}),(0,jn.jsx)("div",{className:"stat-label",children:"Durchschnitt"})]}),(0,jn.jsxs)("div",{className:"stat-card",children:[(0,jn.jsx)("div",{className:"stat-icon",children:"\ud83c\udfaf"}),(0,jn.jsx)("div",{className:"stat-value",children:g.totalChests.toLocaleString()}),(0,jn.jsx)("div",{className:"stat-label",children:"Gesamtsumme"})]})]})]})]})},ju=t=>{let{setCurrentPage:n}=t;const[r,s]=(0,e.useState)([]),[o,l]=(0,e.useState)([]),[c,u]=(0,e.useState)(!0),[h,d]=(0,e.useState)(null),[f,p]=(0,e.useState)(!1),[g,m]=(0,e.useState)(null),[y,v]=(0,e.useState)(!1),[b,x]=(0,e.useState)(null),[w,_]=(0,e.useState)(!1),[k,S]=(0,e.useState)(null),[E,T]=(0,e.useState)(!1),[C,N]=(0,e.useState)(null),[A,I]=(0,e.useState)(!1),[D,P]=(0,e.useState)(!0),[j,R]=(0,e.useState)(new Date);(0,e.useEffect)(()=>{const e=(0,a.aQ)((0,a.rJ)(Pn,"adminRequests"),e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));s(t),R(new Date),u(!1),D&&console.log(`\ud83d\udd04 Live-Update: ${t.length} Admin-Anfragen geladen um ${(new Date).toLocaleTimeString()}`)});return(async()=>{try{const e=(await(0,a.GG)((0,a.rJ)(Pn,"admins"))).docs.map(e=>({id:e.id,...e.data()}));l(e)}catch(e){console.error("Error loading admins:",e)}})(),()=>e()},[]);const O=e=>new Date(e).toLocaleString("de-DE");return(0,jn.jsxs)("div",{style:{padding:"20px",maxWidth:"1200px",margin:"0 auto"},children:[(0,jn.jsx)("button",{onClick:()=>n(i.ADMIN_PANEL),style:{marginBottom:"20px",padding:"10px 20px",backgroundColor:"#374151",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"\u2190 Zur\xfcck zum Admin Panel"}),(0,jn.jsx)("h1",{children:"\ud83d\udd27 Admin System Debug"}),(0,jn.jsxs)("div",{style:{marginBottom:"30px",padding:"20px",backgroundColor:"#f3f4f6",borderRadius:"8px"},children:[(0,jn.jsx)("h2",{children:"\ud83d\udce7 E-Mail-Konfiguration"}),(0,jn.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"15px"},children:[(0,jn.jsxs)("div",{children:[(0,jn.jsx)("strong",{children:"Service ID:"})," ",ar]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("strong",{children:"Template Contact:"})," ",or]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("strong",{children:"Template Admin:"})," ",lr]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("strong",{children:"Public Key:"})," ",cr]}),(0,jn.jsxs)("div",{children:[(0,jn.jsx)("strong",{children:"Empf\xe4nger:"})," ",ur]})]}),(0,jn.jsxs)("div",{style:{marginTop:"15px"},children:[(0,jn.jsx)("button",{onClick:async()=>{p(!0);try{const e=await fr();d(e)}catch(e){d({success:!1,error:e.message})}p(!1)},disabled:f,style:{padding:"10px 20px",backgroundColor:f?"#9CA3AF":"#3B82F6",color:"white",border:"none",borderRadius:"5px",cursor:f?"not-allowed":"pointer"},children:f?"Sende Test-E-Mail...":"Test-E-Mail senden"}),(0,jn.jsx)("button",{onClick:async()=>{v(!0);try{const e={name:"Test Admin",email:"test@example.com",clanRole:"Vize-Clanf\xfchrer",reason:"Test-Registrierung zur \xdcberpr\xfcfung der E-Mail-Benachrichtigung",requestedRole:"Administrator"},t=await dr(e);m(t)}catch(e){m({success:!1,error:e.message})}v(!1)},disabled:y,style:{padding:"10px 20px",backgroundColor:y?"#9CA3AF":"#EF4444",color:"white",border:"none",borderRadius:"5px",cursor:y?"not-allowed":"pointer",marginLeft:"10px"},children:y?"Sende Admin-Test-E-Mail...":"Admin-Registrierung E-Mail testen"}),(0,jn.jsx)("button",{onClick:async()=>{_(!0);try{const e={name:"Super Admin",email:"admin@clan.de",password:"admin123",role:"superAdmin",status:"active",createdAt:(new Date).toISOString(),requestedRole:"superAdmin"},t=await(0,a.addDoc)((0,a.rJ)(Pn,"admins"),e);x({success:!0,message:`Admin erfolgreich erstellt! ID: ${t.id}`,adminData:e});const n=(await(0,a.GG)((0,a.rJ)(Pn,"admins"))).docs.map(e=>({id:e.id,...e.data()}));l(n)}catch(e){x({success:!1,error:e.message,message:"Fehler beim Admin erstellen"})}_(!1)},disabled:w,style:{padding:"10px 20px",backgroundColor:w?"#9CA3AF":"#10B981",color:"white",border:"none",borderRadius:"5px",cursor:w?"not-allowed":"pointer",marginLeft:"10px"},children:w?"Erstelle Admin...":"Ersten Admin erstellen"}),(0,jn.jsx)("button",{onClick:async()=>{const e=o.find(e=>"admin@clan.de"===e.email);if(!e)return void S({success:!1,error:"Emergency Admin nicht gefunden",message:"Admin mit admin@clan.de nicht in der Datenbank gefunden"});const t=`VORSICHT! Sie sind dabei, folgenden Admin zu l\xf6schen:\n    \n\ud83d\udce7 Email: ${e.email}\n\ud83d\udc64 Name: ${e.name}\n\ud83c\udfaf Rolle: ${e.role}\n\ud83c\udd94 ID: ${e.id}\n\ud83d\udcc5 Erstellt: ${O(e.createdAt)}\n\nSind Sie SICHER, dass Sie diesen Admin l\xf6schen m\xf6chten?`;if(window.confirm(t)){T(!0);try{await(0,a.kd)((0,a.H9)(Pn,"admins",e.id)),S({success:!0,message:"Emergency Admin erfolgreich gel\xf6scht!",deletedAdmin:e});const t=(await(0,a.GG)((0,a.rJ)(Pn,"admins"))).docs.map(e=>({id:e.id,...e.data()}));l(t)}catch(n){S({success:!1,error:n.message,message:"Fehler beim L\xf6schen des Admins"})}T(!1)}},disabled:E,style:{padding:"10px 20px",backgroundColor:E?"#9CA3AF":"#DC2626",color:"white",border:"none",borderRadius:"5px",cursor:E?"not-allowed":"pointer",marginLeft:"10px"},children:E?"L\xf6sche Admin...":"Emergency Admin l\xf6schen"}),k&&k.success&&(0,jn.jsx)("button",{onClick:async()=>{if(k&&k.deletedAdmin){I(!0);try{const e=k.deletedAdmin,t=await(0,a.addDoc)((0,a.rJ)(Pn,"admins"),{name:e.name,email:e.email,password:e.password,role:e.role,status:e.status,createdAt:e.createdAt,requestedRole:e.requestedRole,restoredAt:(new Date).toISOString()});N({success:!0,message:`Admin erfolgreich wiederhergestellt! Neue ID: ${t.id}`,restoredAdmin:e});const n=(await(0,a.GG)((0,a.rJ)(Pn,"admins"))).docs.map(e=>({id:e.id,...e.data()}));l(n)}catch(e){N({success:!1,error:e.message,message:"Fehler beim Wiederherstellen des Admins"})}I(!1)}else alert("Kein gel\xf6schter Admin zum Wiederherstellen gefunden!")},disabled:A,style:{padding:"10px 20px",backgroundColor:A?"#9CA3AF":"#059669",color:"white",border:"none",borderRadius:"5px",cursor:A?"not-allowed":"pointer",marginLeft:"10px"},children:A?"Stelle wieder her...":"Gel\xf6schten Admin wiederherstellen"}),h&&(0,jn.jsx)("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:h.success?"#D1FAE5":"#FEE2E2",borderRadius:"5px",color:h.success?"#065F46":"#B91C1C"},children:h.success?"\u2705 Test-E-Mail erfolgreich gesendet!":`\u274c E-Mail-Fehler: ${h.error}`}),g&&(0,jn.jsx)("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:g.success?"#D1FAE5":"#FEE2E2",borderRadius:"5px",color:g.success?"#065F46":"#B91C1C"},children:g.success?"\u2705 Admin-Registrierung Test-E-Mail erfolgreich gesendet!":`\u274c Admin-E-Mail-Fehler: ${g.error}`}),b&&(0,jn.jsxs)("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:b.success?"#D1FAE5":"#FEE2E2",borderRadius:"5px",color:b.success?"#065F46":"#B91C1C"},children:[b.success?`\u2705 ${b.message}`:`\u274c Admin-Erstellung fehlgeschlagen: ${b.error}`,b.success&&b.adminData&&(0,jn.jsxs)("div",{style:{marginTop:"10px",fontSize:"14px",fontFamily:"monospace"},children:[(0,jn.jsx)("strong",{children:"Login-Daten:"}),(0,jn.jsx)("br",{}),"\ud83d\udce7 Email: ",b.adminData.email,(0,jn.jsx)("br",{}),"\ud83d\udd11 Passwort: ",b.adminData.password,(0,jn.jsx)("br",{}),"\ud83c\udfaf Rolle: ",b.adminData.role]})]}),k&&(0,jn.jsxs)("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:k.success?"#D1FAE5":"#FEE2E2",borderRadius:"5px",color:k.success?"#065F46":"#B91C1C"},children:[k.success?`\u2705 ${k.message}`:`\u274c Admin-L\xf6schung fehlgeschlagen: ${k.error}`,k.success&&k.deletedAdmin&&(0,jn.jsxs)("div",{style:{marginTop:"10px",fontSize:"14px",fontFamily:"monospace"},children:[(0,jn.jsx)("strong",{children:"Gel\xf6schter Admin:"}),(0,jn.jsx)("br",{}),"\ud83d\udce7 Email: ",k.deletedAdmin.email,(0,jn.jsx)("br",{}),"\ud83c\udfaf Rolle: ",k.deletedAdmin.role,(0,jn.jsx)("br",{}),"\ud83d\uddd1\ufe0f Gel\xf6scht am: ",(new Date).toLocaleString("de-DE")]})]}),C&&(0,jn.jsx)("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:C.success?"#D1FAE5":"#FEE2E2",borderRadius:"5px",color:C.success?"#065F46":"#B91C1C"},children:C.success?`\u2705 ${C.message}`:`\u274c Admin-Wiederherstellung fehlgeschlagen: ${C.error}`})]})]}),(0,jn.jsxs)("div",{style:{marginBottom:"30px",padding:"20px",backgroundColor:"#f3f4f6",borderRadius:"8px"},children:[(0,jn.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[(0,jn.jsxs)("h2",{children:["\ud83d\udccb Admin-Anfragen (",r.length,")"]}),(0,jn.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,jn.jsxs)("span",{style:{fontSize:"12px",color:D?"#059669":"#DC2626",display:"flex",alignItems:"center",gap:"5px"},children:[(0,jn.jsx)("span",{style:{width:"8px",height:"8px",backgroundColor:D?"#059669":"#DC2626",borderRadius:"50%",display:"inline-block"}}),D?"Live-Monitoring aktiv":"Live-Monitoring pausiert"]}),(0,jn.jsx)("button",{onClick:()=>P(!D),style:{padding:"5px 10px",fontSize:"12px",backgroundColor:D?"#DC2626":"#059669",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:D?"Pausieren":"Aktivieren"})]})]}),(0,jn.jsxs)("p",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"15px"},children:["Letzte Aktualisierung: ",j.toLocaleTimeString(),D&&" \u2022 Aktualisiert sich automatisch bei neuen Anfragen"]}),c?(0,jn.jsx)("p",{children:"Lade Anfragen..."}):0===r.length?(0,jn.jsx)("p",{children:"Keine Admin-Anfragen gefunden."}):(0,jn.jsx)("div",{style:{overflowX:"auto"},children:(0,jn.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,jn.jsx)("thead",{children:(0,jn.jsxs)("tr",{style:{backgroundColor:"#E5E7EB"},children:[(0,jn.jsx)("th",{style:{padding:"10px",border:"1px solid #D1D5DB",textAlign:"left"},children:"Name"}),(0,jn.jsx)("th",{style:{padding:"10px",border:"1px solid #D1D5DB",textAlign:"left"},children:"E-Mail"}),(0,jn.jsx)("th",{style:{padding:"10px",border:"1px solid #D1D5DB",textAlign:"left"},children:"Clan-Rolle"}),(0,jn.jsx)("th",{style:{padding:"10px",border:"1px solid #D1D5DB",textAlign:"left"},children:"Status"}),(0,jn.jsx)("th",{style:{padding:"10px",border:"1px solid #D1D5DB",textAlign:"left"},children:"Datum"}),(0,jn.jsx)("th",{style:{padding:"10px",border:"1px solid #D1D5DB",textAlign:"left"},children:"Begr\xfcndung"})]})}),(0,jn.jsx)("tbody",{children:r.map(e=>(0,jn.jsxs)("tr",{children:[(0,jn.jsx)("td",{style:{padding:"10px",border:"1px solid #D1D5DB"},children:e.name}),(0,jn.jsx)("td",{style:{padding:"10px",border:"1px solid #D1D5DB"},children:e.email}),(0,jn.jsx)("td",{style:{padding:"10px",border:"1px solid #D1D5DB"},children:e.clanRole}),(0,jn.jsx)("td",{style:{padding:"10px",border:"1px solid #D1D5DB"},children:(0,jn.jsx)("span",{style:{padding:"2px 8px",borderRadius:"10px",backgroundColor:"pending"===e.status?"#FEF3C7":"#D1FAE5",color:"pending"===e.status?"#92400E":"#065F46"},children:e.status})}),(0,jn.jsx)("td",{style:{padding:"10px",border:"1px solid #D1D5DB"},children:O(e.requestDate)}),(0,jn.jsx)("td",{style:{padding:"10px",border:"1px solid #D1D5DB",maxWidth:"200px"},children:(0,jn.jsx)("div",{style:{overflow:"hidden",textOverflow:"ellipsis"},children:e.reason})})]},e.id))})]})})]}),(0,jn.jsxs)("div",{style:{marginBottom:"30px",padding:"20px",backgroundColor:"#f3f4f6",borderRadius:"8px"},children:[(0,jn.jsxs)("h2",{children:["\ud83d\udc65 Vorhandene Admins (",o.length,")"]}),0===o.length?(0,jn.jsx)("p",{children:"Keine Admins gefunden."}):(0,jn.jsx)("div",{style:{overflowX:"auto"},children:(0,jn.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,jn.jsx)("thead",{children:(0,jn.jsxs)("tr",{style:{backgroundColor:"#E5E7EB"},children:[(0,jn.jsx)("th",{style:{padding:"10px",border:"1px solid #D1D5DB",textAlign:"left"},children:"Name"}),(0,jn.jsx)("th",{style:{padding:"10px",border:"1px solid #D1D5DB",textAlign:"left"},children:"E-Mail"}),(0,jn.jsx)("th",{style:{padding:"10px",border:"1px solid #D1D5DB",textAlign:"left"},children:"Rolle"}),(0,jn.jsx)("th",{style:{padding:"10px",border:"1px solid #D1D5DB",textAlign:"left"},children:"Status"}),(0,jn.jsx)("th",{style:{padding:"10px",border:"1px solid #D1D5DB",textAlign:"left"},children:"Erstellt"})]})}),(0,jn.jsx)("tbody",{children:o.map(e=>(0,jn.jsxs)("tr",{children:[(0,jn.jsx)("td",{style:{padding:"10px",border:"1px solid #D1D5DB"},children:e.name}),(0,jn.jsx)("td",{style:{padding:"10px",border:"1px solid #D1D5DB"},children:e.email}),(0,jn.jsx)("td",{style:{padding:"10px",border:"1px solid #D1D5DB"},children:e.role}),(0,jn.jsx)("td",{style:{padding:"10px",border:"1px solid #D1D5DB"},children:(0,jn.jsx)("span",{style:{padding:"2px 8px",borderRadius:"10px",backgroundColor:"active"===e.status?"#D1FAE5":"#FEE2E2",color:"active"===e.status?"#065F46":"#B91C1C"},children:e.status})}),(0,jn.jsx)("td",{style:{padding:"10px",border:"1px solid #D1D5DB"},children:O(e.createdAt)})]},e.id))})]})})]}),(0,jn.jsxs)("div",{style:{padding:"20px",backgroundColor:"#f3f4f6",borderRadius:"8px"},children:[(0,jn.jsx)("h2",{children:"\ud83d\udc1b Debug-Informationen"}),(0,jn.jsxs)("div",{style:{fontSize:"14px",fontFamily:"monospace"},children:[(0,jn.jsxs)("p",{children:[(0,jn.jsx)("strong",{children:"Firebase Status:"})," ",c?"L\xe4dt...":"Verbunden"]}),(0,jn.jsxs)("p",{children:[(0,jn.jsx)("strong",{children:"Admin-Anfragen Collection:"})," adminRequests"]}),(0,jn.jsxs)("p",{children:[(0,jn.jsx)("strong",{children:"Admins Collection:"})," admins"]}),(0,jn.jsxs)("p",{children:[(0,jn.jsx)("strong",{children:"Aktuelle Zeit:"})," ",(new Date).toLocaleString("de-DE")]})]})]})]})},Ru={players:[{id:1,name:"Max Mustermann",rank:"Clanf\xfchrer",troopStrength:12345,totalChests:12,totalPoints:3456,norm:4e3,timestamp:"2025-07-14T12:34:56",chests:{"Arena Chests":{10:{count:2,points:100},15:{count:1,points:80}},"Common Chests":{10:{count:3,points:60}}}},{id:2,name:"Erika Musterfrau",rank:"Offizier",troopStrength:11e3,totalChests:8,totalPoints:2890,norm:3200,timestamp:"2025-07-14T12:34:56",chests:{"Arena Chests":{10:{count:1,points:50},15:{count:2,points:160}},"Common Chests":{10:{count:2,points:40}},"Rare Chests":{10:{count:1,points:100}}}}],summary:{totalPlayers:50,totalChests:500,totalPoints:125e3,averagePointsPerPlayer:2500,topPlayer:"Max Mustermann",lastUpdated:"2025-07-14T12:34:56"}};function Ou(){const[t,n]=(0,e.useState)(i.HOME),[s,a]=(0,e.useState)("de"),{currentAdmin:o}=On(),l=r[s],c={currentPage:t,setCurrentPage:n,language:s,setLanguage:a,t:l},u=[i.ADMIN_PANEL,i.MANAGE_PLAYERS,i.MANAGE_RANKS,i.MANAGE_TROOP_STRENGTHS,i.MANAGE_NORMS,i.MANAGE_CHEST_MAPPING,i.MANAGE_ADMIN_REQUESTS,i.MANAGE_ADMINISTRATORS,i.CREATE_PERIOD,i.UPLOAD_RESULTS,i.CURRENT_TOTAL_EVENT_ADMIN,i.EVENT_ARCHIVE_ADMIN];return(0,jn.jsx)("div",{className:"App",children:(()=>{if(u.includes(t)&&!o)return(0,jn.jsx)(_r,{...c});switch(t){case i.HOME:return(0,jn.jsx)(Ln,{...c});case i.INFO:return(0,jn.jsx)(Fn,{...c});case i.NAVIGATION:return(0,jn.jsx)(zn,{...c});case i.ADMIN_LOGIN:return(0,jn.jsx)(_r,{...c});case i.ADMIN_PANEL:return(0,jn.jsx)(Vn,{...c});case i.MANAGE_PLAYERS:return(0,jn.jsx)(Bn,{...c});case i.MANAGE_RANKS:return(0,jn.jsx)(Hn,{...c});case i.MANAGE_TROOP_STRENGTHS:return(0,jn.jsx)($n,{...c});case i.MANAGE_NORMS:return(0,jn.jsx)(Wn,{...c});case i.MANAGE_CHEST_MAPPING:return(0,jn.jsx)(qn,{...c});case i.ADMIN_REGISTRATION:return(0,jn.jsx)(pr,{...c});case i.MANAGE_ADMIN_REQUESTS:return(0,jn.jsx)(gr,{...c});case i.MANAGE_ADMINISTRATORS:return(0,jn.jsx)(mr,{...c});case i.CREATE_PERIOD:return(0,jn.jsx)(yr,{...c});case i.UPLOAD_RESULTS:return(0,jn.jsx)(vr,{...c});case i.CONTACT_FORM:return(0,jn.jsx)(br,{t:l,setCurrentPage:n});case i.EMAIL_TEST:return(0,jn.jsx)(xr,{t:l,setCurrentPage:n});case i.ADMIN_DEBUG:return(0,jn.jsx)(ju,{t:l,setCurrentPage:n});case i.CURRENT_TOTAL_EVENT:return(0,jn.jsx)(Er,{...c,clanData:Ru});case i.STANDARDS_EVALUATION:return(0,jn.jsx)(wr,{...c,backPage:i.NAVIGATION,title:l.standardsEvaluationTitle});case i.EVENT_ARCHIVE:return(0,jn.jsx)(wr,{...c,backPage:i.NAVIGATION,title:l.eventArchiveTitle});case i.TOP_TEN:return(0,jn.jsx)(Du,{...c});case i.TOP_TEN_ARENA:return(0,jn.jsx)(Pu,{...c,category:"Arena Total",categoryInfo:{label:"Arena Chests",icon:"\u2694\ufe0f",color:"#7C3AED"}});case i.TOP_TEN_COMMON:return(0,jn.jsx)(Pu,{...c,category:"Common Total",categoryInfo:{label:"Common Chests",icon:"\ud83d\udce6",color:"#10B981"}});case i.TOP_TEN_RARE:return(0,jn.jsx)(Pu,{...c,category:"Rare Total",categoryInfo:{label:"Rare Chests",icon:"\ud83d\udc8e",color:"#3B82F6"}});case i.TOP_TEN_EPIC:return(0,jn.jsx)(Pu,{...c,category:"Epic Total",categoryInfo:{label:"Epic Chests",icon:"\ud83d\udc51",color:"#8B5CF6"}});case i.TOP_TEN_TARTAROS:return(0,jn.jsx)(Pu,{...c,category:"Tartaros Total",categoryInfo:{label:"Tartaros Chests",icon:"\ud83d\udd25",color:"#DC2626"}});case i.TOP_TEN_ELVEN:return(0,jn.jsx)(Pu,{...c,category:"Elven Total",categoryInfo:{label:"Elven Chests",icon:"\ud83e\udddd",color:"#059669"}});case i.TOP_TEN_CURSED:return(0,jn.jsx)(Pu,{...c,category:"Cursed Total",categoryInfo:{label:"Cursed Chests",icon:"\ud83c\udf19",color:"#6B46C1"}});case i.TOP_TEN_BANK:return(0,jn.jsx)(Pu,{...c,category:"Bank Total",categoryInfo:{label:"Bank Chests",icon:"\ud83d\udcb0",color:"#D97706"}});case i.TOP_TEN_RUNIC:return(0,jn.jsx)(Pu,{...c,category:"Runic Total",categoryInfo:{label:"Runic Chests",icon:"\ud83d\udd2e",color:"#F97316"}});case i.TOP_TEN_HEROIC:return(0,jn.jsx)(Pu,{...c,category:"Heroic Total",categoryInfo:{label:"Heroic Chests",icon:"\ud83c\udfc6",color:"#EF4444"}});case i.TOP_TEN_VOTA:return(0,jn.jsx)(Pu,{...c,category:"VotA Total",categoryInfo:{label:"Vault of the Ancients",icon:"\ud83c\udfdb\ufe0f",color:"#8B5CF6"}});case i.TOP_TEN_ROTA:return(0,jn.jsx)(Pu,{...c,category:"ROTA Total",categoryInfo:{label:"Rise of the Ancients",icon:"\ud83c\udf1f",color:"#EC4899"}});case i.TOP_TEN_EAS:return(0,jn.jsx)(Pu,{...c,category:"EAs Total",categoryInfo:{label:"Epic Ancient Squad",icon:"\u26a1",color:"#F59E0B"}});case i.TOP_TEN_UNION:return(0,jn.jsx)(Pu,{...c,category:"Union Total",categoryInfo:{label:"Union Chests",icon:"\ud83e\udd1d",color:"#6366F1"}});case i.TOP_TEN_JORMUNGANDR:return(0,jn.jsx)(Pu,{...c,category:"Jormungandr Total",categoryInfo:{label:"Jormungandr Chests",icon:"\ud83d\udc09",color:"#059669"}});case i.HALL_OF_CHAMPIONS:return(0,jn.jsx)(wr,{...c,backPage:i.NAVIGATION,title:l.hallOfChampionsTitle});case i.CURRENT_TOTAL_EVENT_ADMIN:return(0,jn.jsx)(wr,{...c,backPage:i.ADMIN_PANEL,title:l.currentTotalEventTitle});case i.EVENT_ARCHIVE_ADMIN:return(0,jn.jsx)(wr,{...c,backPage:i.ADMIN_PANEL,title:l.eventArchiveTitle});default:return(0,jn.jsx)(Ln,{...c})}})()})}const Mu=function(){return(0,jn.jsx)(Mn,{children:(0,jn.jsx)(Ou,{})})};t.createRoot(document.getElementById("root")).render((0,jn.jsx)(e.StrictMode,{children:(0,jn.jsx)(Mu,{})}))})()})();
//# sourceMappingURL=main.290e9f49.js.map